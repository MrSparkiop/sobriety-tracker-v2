/*! For license information please see main.3d67635d.js.LICENSE.txt */

!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d511fa9a-c85c-5c71-86b0-9c24f61f45f2")}catch(e){}}();
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},175:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:k.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+C(l,0):s,_(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",_(e))for(var c=0;c<e.length;c++){var u=s+C(a=e[c],c);l+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=s+C(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},M={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:k};function P(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=P,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},219:(e,t,n)=>{var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?o:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<o.length;++g){var y=o[g];if(!s[y]&&(!r||!r[y])&&(!m||!m[y])&&(!a||!a[y])){var v=h(n,y);try{c(t,y,v)}catch(b){}}}}return t}},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,O(S);else{var t=r(u);null!==t&&M(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&M(_,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,x=null,T=-1,I=5,C=-1;function N(){return!(t.unstable_now()-C<I)}function A(){if(null!==x){var e=t.unstable_now();C=e;var n=!0;try{n=x(!0,e)}finally{n?k():(E=!1,x=null)}}else E=!1}if("function"===typeof b)k=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=A,k=function(){D.postMessage(null)}}else k=function(){y(A,0)};function O(e){x=e,E||(E=!0,k())}function M(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(T),T=-1):g=!0,M(_,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,O(S))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case x:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(aa){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ee=null;function xe(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function Te(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Ie(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==ke||null!==Ee)&&(Ne(),Ie())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){Oe=!1}function Pe(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Fe=null,je=!1,Ue=null,ze={onError:function(e){Le=!0,Fe=e}};function Ve(e,t,n,r,i,s,o,a,l){Le=!1,Fe=null,Pe.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function We(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=dt(a):0!==(s&=o)&&(r=dt(s))}else 0!==(o=n&~i)?r=dt(o):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,kt,Et,xt,Tt=!1,It=[],Ct=null,Nt=null,At=null,Rt=new Map,Dt=new Map,Ot=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void xt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function zt(){Tt=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Rt.forEach(Ut),Dt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<It.length){Vt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==Nt&&Vt(Nt,e),null!==At&&Vt(At,e),Rt.forEach(t),Dt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Kt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,Lt(Rt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dt.set(s,Lt(Dt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&_t(s),null===(s=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=F({},cn,{view:0,detail:0}),hn=sn(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(F({},fn,{dataTransfer:0})),gn=sn(F({},dn,{relatedTarget:0})),yn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(vn),wn=sn(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function xn(){return En}var Tn=F({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(Tn),Cn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),An=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Rn),On=[9,13,27,32],Mn=u&&"CompositionEvent"in window,Pn=null;u&&"documentMode"in document&&(Pn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Pn,Fn=u&&(!Mn||Pn&&8<Pn&&11>=Pn),jn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function Yn(e){if(G(wi(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,_e(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},Er={};function xr(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=xr("animationend"),Ir=xr("animationiteration"),Cr=xr("animationstart"),Nr=xr("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),l(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Mr=Rr[Or];Dr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Dr(Tr,"onAnimationEnd"),Dr(Ir,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Fe;Le=!1,Fe=null,je||(je=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,c),s=l}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Re((function(){var r=s,i=_e(n),o=[];e:{var a=Ar.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Tr:case Ir:case Cr:l=yn;break;case Nr:l=An;break;case"scroll":l=hn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=De(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(o,a,l,u,!1),null!==c&&null!==d&&Qr(o,d,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=$n;else if(Hn(a))if(Jn)g=or;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?wi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,i)}var v;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(v=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(y=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=Vn(n))&&(b.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Mn&&zn(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}jr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=De(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=De(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=De(n,s))&&o.unshift(Wr(n,l,a)):i||null!=(l=De(n,s))&&o.push(Wr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Si=[],ki=-1;function Ei(e){return{current:e}}function xi(e){0>ki||(e.current=Si[ki],Si[ki]=null,ki--)}function Ti(e,t){ki++,Si[ki]=e.current,e.current=t}var Ii={},Ci=Ei(Ii),Ni=Ei(!1),Ai=Ii;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){xi(Ni),xi(Ci)}function Mi(e,t,n){if(Ci.current!==Ii)throw Error(s(168));Ti(Ci,t),Ti(Ni,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ai=Ci.current,Ti(Ci,e),Ti(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Pi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,xi(Ni),xi(Ci),Ti(Ci,e)):xi(Ni),Ti(Ni,n)}var ji=null,Ui=!1,zi=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!zi&&null!==ji){zi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,zi=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,Yi=null,$i=1,Ji="";function Xi(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Ji=s+e}else $i=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&vs(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case S:return(t=Uc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Lc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:d(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,a[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=o(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===a.length)return n(i,d),is&&Xi(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&Xi(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&Xi(i,m),c}function g(i,a,l,c){var u=P(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),is&&Xi(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(a=o(v,a,g),null===d?u=v:d.sibling=v,d=v);return is&&Xi(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),is&&Xi(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&vs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===k?((s=Lc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Pc(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case S:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(o,r.mode,l)).return=r,r=s}return a(r);case D:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(P(o))return g(r,s,o,l);ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=jc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var ws=bs(!0),_s=bs(!1),Ss=Ei(null),ks=null,Es=null,xs=null;function Ts(){xs=Es=ks=null}function Is(e){var t=Ss.current;xi(Ss),e._currentValue=t}function Cs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){ks=e,xs=Es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(xs!==e)if(e={context:e,memoizedValue:t,next:null},null===Es){if(null===ks)throw Error(s(308));Es=e,ks.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Rs=null;function Ds(e){null===Rs?Rs=[e]:Rs.push(e)}function Os(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ds(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ms(e,r)}function Ms(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ps=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function js(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ms(e,n)}return null===(i=r.interleaved)?(t.next=t,Ds(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ms(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Vs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Ps=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(o=0,u=c=l=null,a=s;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:Ps=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Fl|=o,e.lanes=o,e.memoizedState=d}}function qs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},Ws=Ei(Hs),Ks=Ei(Hs),Gs=Ei(Hs);function Qs(e){if(e===Hs)throw Error(s(174));return e}function Ys(e,t){switch(Ti(Gs,t),Ti(Ks,e),Ti(Ws,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ws),Ti(Ws,t)}function $s(){xi(Ws),xi(Ks),xi(Gs)}function Js(e){Qs(Gs.current);var t=Qs(Ws.current),n=le(t,e.type);t!==n&&(Ti(Ks,e),Ti(Ws,n))}function Xs(e){Ks.current===e&&(xi(Ws),xi(Ks))}var Zs=Ei(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,io=w.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(uo)}if(ro.current=Xo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,t)throw Error(s(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((so&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,oo.lanes|=d,Fl|=d}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Fl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ko(){}function Eo(e,t){var n=oo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,wa=!0),r=r.queue,Lo(Io.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Ro(9,To.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(s(349));0!==(30&so)||xo(n,t,i)}return i}function xo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,Co(t)&&No(e)}function Io(e,t,n){return n((function(){Co(t)&&No(e)}))}function Co(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function No(e){var t=Ms(e,1);null!==t&&rc(t,e,1,-1)}function Ao(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Qo.bind(null,oo,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Do(){return bo().memoizedState}function Oo(e,t,n,r){var i=vo();oo.flags|=e,i.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function Mo(e,t,n,r){var i=bo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Ro(t,n,s,r))}oo.flags|=e,i.memoizedState=Ro(1|t,n,s,r)}function Po(e,t){return Oo(8390656,8,e,t)}function Lo(e,t){return Mo(2048,8,e,t)}function Fo(e,t){return Mo(4,2,e,t)}function jo(e,t){return Mo(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4,4,Uo.bind(null,t,e),n)}function Vo(){}function Bo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,Fl|=n,e.baseState=!0),t)}function Wo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{bt=n,io.transition=r}}function Ko(){return bo().memoizedState}function Go(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))$o(t,n);else if(null!==(n=Os(e,t,n,r))){rc(n,e,r,tc()),Jo(n,t,r)}}function Qo(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))$o(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Ds(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Os(e,t,i,r))&&(rc(n,e,r,i=tc()),Jo(n,t,r))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function $o(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xo={readContext:As,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:As,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Po,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Ao,useDebugValue:Vo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=Wo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=vo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Al)throw Error(s(349));0!==(30&so)||xo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Po(Io.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,To.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Al.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:As,useCallback:Bo,useContext:As,useEffect:Lo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:qo,useReducer:_o,useRef:Do,useState:function(){return _o(wo)},useDebugValue:Vo,useDeferredValue:function(e){return Ho(bo(),ao.memoizedState,e)},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1},ta={readContext:As,useCallback:Bo,useContext:As,useEffect:Lo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:qo,useReducer:So,useRef:Do,useState:function(){return So(wo)},useDebugValue:Vo,useDeferredValue:function(e){var t=bo();return null===ao?t.memoizedState=e:Ho(t,ao.memoizedState,e)},useTransition:function(){return[So(wo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=js(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(rc(t,e,i,r),zs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=js(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(rc(t,e,i,r),zs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=js(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,r))&&(rc(t,e,r,n),zs(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=Ii,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(i=Di(t)?Ai:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ii),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function la(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function ca(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=As(s):(s=Di(t)?Ai:Ci.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=js(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Kl=r),ha(0,t)},n}function ma(e,t,n){(n=js(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=js(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function _a(e,t,n,r){t.child=null===e?_s(t,null,n,r):ws(t,e.child,n,r)}function Sa(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=go(e,t,n,r,s,i),n=yo(),null===e||wa?(is&&n&&es(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function ka(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Oc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ea(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Mc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ia(e,t,n,r,i)}function xa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ml,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ml,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ti(Ml,Ol),Ol|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ti(Ml,Ol),Ol|=r;return _a(e,t,i,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,r,i){var s=Di(n)?Ai:Ci.current;return s=Ri(t,s),Ns(t,i),n=go(e,t,n,r,s,i),r=yo(),null===e||wa?(is&&r&&es(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Ca(e,t,n,r,i){if(Di(n)){var s=!0;Li(t)}else s=!1;if(Ns(t,i),null===t.stateNode)Ha(e,t),oa(t,n,r),ca(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=Ri(t,c=Di(n)?Ai:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&la(t,o,r,c),Ps=!1;var h=t.memoizedState;o.state=h,Bs(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Ni.current||Ps?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Ps||sa(t,n,a,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Fs(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Ri(t,l=Di(n)?Ai:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==l)&&la(t,o,r,l),Ps=!1,h=t.memoizedState,o.state=h,Bs(t,r,o,i);var p=t.memoizedState;a!==d||h!==p||Ni.current||Ps?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Ps||sa(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Na(e,t,n,r,s,i)}function Na(e,t,n,r,i,s){Ta(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wa(e,t,s);r=t.stateNode,ba.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,a,s)):_a(e,t,a,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),Ys(e,t.containerInfo)}function Ra(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_a(e,t,n,r),t.child}var Da,Oa,Ma,Pa,La={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=La,e):Ua(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=da(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=La,o);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=da(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Al)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ms(e,i),rc(r,e,i,-1))}return gc(),za(e,t,a,r=da(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Ji,Gi[Qi++]=Yi,$i=e.id,Ji=e.overflow,Yi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Mc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Mc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Mc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cs(e.return,t,n)}function Ba(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,s);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Di(t.type)&&Oi(),Ga(t),null;case 3:return r=t.stateNode,$s(),xi(Ni),xi(Ci),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Oa(e,t),Ga(t),null;case 5:Xs(t);var i=Qs(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ma(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ga(t),null}if(e=Qs(Ws.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Ur(Pr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Da(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Ur(Pr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Pa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Gs.current),Qs(Ws.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ga(t),null;case 13:if(xi(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Pl&&(Pl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return $s(),Oa(e,t),null===e&&Br(t.stateNode.containerInfo),Ga(t),null;case 10:return Is(t.type._context),Ga(t),null;case 19:if(xi(Zs),null===(o=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ka(o,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ka(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>ql&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ga(t),null}else 2*Je()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=Zs.current,Ti(Zs,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Di(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $s(),xi(Ni),xi(Ci),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(xi(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(Zs),null;case 4:return $s(),null;case 10:return Is(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Da=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Ma=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(Ws.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Pa=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Ja=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){xc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ja&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,fl(e,t,n),Ja=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(s(160));pl(o,a,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){xc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){xc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){xc(e,e.return,g)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){xc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),be(l,a);var u=be(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":X(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){xc(e,e.return,g)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){xc(e,e.return,g)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){xc(e,e.return,g)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Je())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(u=Ja)||d,gl(t,e),Ja=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Za=e,d=e.child;null!==d;){for(h=Za=d;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){xc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(h);continue}}null!==p?(p.return=f,Za=p):Sl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){xc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){xc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){xc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Za=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$a;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=$a;var c=Ja;if($a=o,(Ja=l)&&!c)for(Za=i;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?kl(i):null!==l?(l.return=o,Za=l):kl(i);for(;null!==s;)Za=s,wl(s,t,n),s=s.sibling;Za=i,$a=a,Ja=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):_l(e)}}function _l(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&qs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Ja||512&t.flags&&sl(t)}catch(f){xc(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Sl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function kl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){xc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){xc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){xc(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){xc(t,o,l)}}}catch(l){xc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var El,xl=Math.ceil,Tl=w.ReactCurrentDispatcher,Il=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Nl=0,Al=null,Rl=null,Dl=0,Ol=0,Ml=Ei(0),Pl=0,Ll=null,Fl=0,jl=0,Ul=0,zl=null,Vl=null,Bl=0,ql=1/0,Hl=null,Wl=!1,Kl=null,Gl=null,Ql=!1,Yl=null,$l=0,Jl=0,Xl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Nl)?Je():-1!==Zl?Zl:Zl=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Dl?Dl&-Dl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Jl)throw Jl=0,Xl=null,Error(s(185));yt(e,n,r),0!==(2&Nl)&&e===Al||(e===Al&&(0===(2&Nl)&&(jl|=n),4===Pl&&lc(e,Dl)),ic(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(ql=Je()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=ht(e,e===Al?Dl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),oi((function(){0===(6&Nl)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Al?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Nl;Nl|=2;var o=mc();for(Al===e&&Dl===t||(Hl=null,ql=Je()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}Ts(),Tl.current=o,Nl=i,null!==Rl?t=0:(Al=null,Dl=0,t=Pl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Je()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Sc(e,Vl,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Vl,Hl),t);break}Sc(e,Vl,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xl(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Vl,Hl),r);break}Sc(e,Vl,Hl);break;default:throw Error(s(329))}}}return ic(e,Je()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vl,Vl=n,null!==t&&ac(t)),e}function ac(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lc(e,t){for(t&=~Ul,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nl))throw Error(s(327));kc();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Vl,Hl),ic(e,Je()),null}function uc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(ql=Je()+500,Ui&&Bi())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Nl)&&kc();var t=Nl;Nl|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Nl=t))&&Bi()}}function hc(){Ol=Ml.current,xi(Ml)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:$s(),xi(Ni),xi(Ci),no();break;case 5:Xs(r);break;case 4:$s();break;case 13:case 19:xi(Zs);break;case 10:Is(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Al=e,Rl=e=Mc(e.current,null),Dl=Ol=t,Pl=0,Ll=null,Ul=jl=Fl=0,Vl=zl=null,null!==Rs){for(t=0;t<Rs.length;t++)if(null!==(r=(n=Rs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Rs=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(Ts(),ro.current=Xo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(so=0,lo=ao=oo=null,uo=!1,ho=0,Il.current=null,null===n||null===n.return){Pl=1,Ll=t,Rl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ga(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(o,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=ya(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),va(y,a,l,0,t),ps(ua(c,l));break e}}o=c=ua(c,l),4!==Pl&&(Pl=2),null===zl?zl=[o]:zl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Vs(o,pa(0,c,t));break e;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Vs(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}_c(n)}catch(w){t=w,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function mc(){var e=Tl.current;return Tl.current=Xo,null===e?Xo:e}function gc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===Al||0===(268435455&Fl)&&0===(268435455&jl)||lc(Al,Dl)}function yc(e,t){var n=Nl;Nl|=2;var r=mc();for(Al===e&&Dl===t||(Hl=null,fc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(Ts(),Nl=n,Tl.current=r,null!==Rl)throw Error(s(261));return Al=null,Dl=0,Pl}function vc(){for(;null!==Rl;)wc(Rl)}function bc(){for(;null!==Rl&&!Ye();)wc(Rl)}function wc(e){var t=El(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?_c(e):Rl=t,Il.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Ol)))return void(Rl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Pl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Pl&&(Pl=5)}function Sc(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Yl);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Al&&(Rl=Al=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Ac(tt,(function(){return kc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var a=bt;bt=1;var l=Nl;Nl|=4,Il.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(_){xc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),yl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,bl(n,e,i),$e(),Nl=l,bt=a,Cl.transition=o}else e.current=n;if(Ql&&(Ql=!1,Yl=e,$l=i),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Kl,Kl=null,e;0!==(1&$l)&&0!==e.tag&&kc(),o=e.pendingLanes,0!==(1&o)?e===Xl?Jl++:(Jl=0,Xl=e):Jl=0,Bi()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function kc(){if(null!==Yl){var e=wt($l),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,$l=0,0!==(6&Nl))throw Error(s(331));var i=Nl;for(Nl|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var d=Za;switch(d.tag){case 0:case 11:case 15:rl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Za=h;else for(;null!==Za;){var f=(d=Za).sibling,p=d.return;if(ol(d),d===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Za=v;break e}Za=o.return}}var b=e.current;for(Za=b;null!==Za;){var w=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Za=w;else e:for(a=b;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){xc(l,l.return,S)}if(l===a){Za=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Za=_;break e}Za=l.return}}if(Nl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function Ec(e,t,n){e=Us(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function xc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Us(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Dl&n)===n&&(4===Pl||3===Pl&&(130023424&Dl)===Dl&&500>Je()-Bl?fc(e,0):Ul|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ms(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ic(e,n)}function Ac(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Rc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Oc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Lc(n.children,i,o,t);case E:a=8,i|=8;break;case x:return(e=Dc(12,n,t,2|i)).elementType=x,e.lanes=o,e;case N:return(e=Dc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Dc(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case I:a=9;break e;case C:a=11;break e;case R:a=14;break e;case D:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Dc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,s,o,a,l){return e=new zc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Dc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Bc(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Di(n))return Pi(e,n,t)}return t}function qc(e,t,n,r,i,s,o,a,l){return(e=Vc(n,r,!0,e,0,s,0,a,l)).context=Bc(null),n=e.current,(s=js(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,s=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=js(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,o))&&(rc(e,i,o,s),zs(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),fs();break;case 5:Js(t);break;case 1:Di(t.type)&&Li(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(Ss,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(Ti(Zs,1&Zs.current),null!==(e=Wa(e,t,n))?e.sibling:null);Ti(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,xa(e,t,n)}return Wa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Ns(t,n),i=go(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,ca(t,r,e,n),t=Na(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ia(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=Sa(null,t,r,e,n);break e;case 14:t=ka(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Fs(e,t),Bs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ra(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Ra(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=_s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Wa(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ta(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return ja(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ti(Ss,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=Wa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=js(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Cs(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Cs(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=As(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),ka(e,t,r,i=na(r.type,i),n);case 15:return Ea(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Ha(e,t),t.tag=1,Di(r)?(e=!0,Li(t)):e=!1,Ns(t,n),oa(t,r,i),ca(t,r,i,n),Na(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return xa(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Wc(o);a.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Wc(o);s.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),dc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),dc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Hc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,Je()),0===(6&Nl)&&(ql=Je()+500,Bi()))}break;case 13:dc((function(){var t=Ms(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Ms(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=Ms(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},Et=function(){return bt},xt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));G(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uc,Ne=dc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,_i,Te,Ie,uc]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},763:(e,t,n)=>{e.exports=n(983)},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},983:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case s:case a:case o:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=s,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||_(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===s},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===d||e===a||e===o||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===v||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=_}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".b8d8bde2.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="sobriety-tracker-v2:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/sobriety-tracker-v2/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunksobriety_tracker_v2=self.webpackChunksobriety_tracker_v2||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n(391);function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function l(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(175);const d=["sri"],h=["page"],f=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var y="popstate";function v(){return x((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return S("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:k(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function w(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function _(e,t){return{usr:e.state,key:e.key,idx:t}}function S(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?E(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function k(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function E(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function x(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=d();function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:a,location:p.location,delta:t})}function f(e){return T(e)}null==c&&(c=0,o.replaceState(u(u({},o.state),{},{idx:c}),""));let p={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(y,h),l=e,()=>{i.removeEventListener(y,h),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let r=S(p.location,e,t);n&&n(r,e),c=d()+1;let u=_(r,c),h=p.createHref(r);try{o.pushState(u,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}s&&l&&l({action:a,location:p.location,delta:1})},replace:function(e,t){a="REPLACE";let r=S(p.location,e,t);n&&n(r,e),c=d();let i=_(r,c),u=p.createHref(r);o.replaceState(i,"",u),s&&l&&l({action:a,location:p.location,delta:0})},go:e=>o.go(e)};return p}function T(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),b(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:k(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function I(e,t){return C(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function C(e,t,n,r){let i=q(("string"===typeof t?E(t):t).pathname||"/",n);if(null==i)return null;let s=N(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=B(i);o=U(s[a],e,r)}return o}function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(b(o.relativePath.startsWith(r),'Absolute route path "'.concat(o.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),o.relativePath=o.relativePath.slice(r.length));let a=Q([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(a,'".')),N(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:j(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of A(e.path))i(e,t,r);else i(e,t)})),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=A(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}var R=/^:[\w-]+$/,D=3,O=2,M=1,P=10,L=-2,F=e=>"*"===e;function j(e,t){let n=e.split("/"),r=n.length;return n.some(F)&&(r+=L),t&&(r+=O),n.filter((e=>!F(e))).reduce(((e,t)=>e+(R.test(t)?D:""===t?M:P)),r)}function U(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Q([s,u.pathname]),pathnameBase:Y(Q([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=Q([s,u.pathnameBase]))}return o}function z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=V(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function V(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];w("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function B(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return w(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function H(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function W(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function K(e){let t=W(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function G(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=E(e):(r=u({},e),b(!r.pathname||!r.pathname.includes("?"),H("?","pathname","search",r)),b(!r.pathname||!r.pathname.includes("#"),H("#","pathname","hash",r)),b(!r.search||!r.search.includes("#"),H("#","search","hash",r)));let s,o=""===e||""===r.pathname,a=o?"/":r.pathname;if(null==a)s=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?E(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:$(r),hash:J(i)}}(r,s),c=a&&"/"!==a&&a.endsWith("/"),d=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var Q=e=>e.join("/").replace(/\/\/+/g,"/"),Y=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",J=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function X(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Z=["POST","PUT","PATCH","DELETE"],ee=(new Set(Z),["GET",...Z]);new Set(ee),Symbol("ResetLoaderData");var te=r.createContext(null);te.displayName="DataRouter";var ne=r.createContext(null);ne.displayName="DataRouterState";var re=r.createContext({isTransitioning:!1});re.displayName="ViewTransition";var ie=r.createContext(new Map);ie.displayName="Fetchers";var se=r.createContext(null);se.displayName="Await";var oe=r.createContext(null);oe.displayName="Navigation";var ae=r.createContext(null);ae.displayName="Location";var le=r.createContext({outlet:null,matches:[],isDataRoute:!1});le.displayName="Route";var ce=r.createContext(null);ce.displayName="RouteError";function ue(){return null!=r.useContext(ae)}function de(){return b(ue(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(ae).location}var he="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fe(e){r.useContext(oe).static||r.useLayoutEffect(e)}function pe(){let{isDataRoute:e}=r.useContext(le);return e?function(){let{router:e}=Ee("useNavigate"),t=Te("useNavigate"),n=r.useRef(!1);fe((()=>{n.current=!0}));let i=r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(n.current,he),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,u({fromRouteId:t},i)))}),[e,t]);return i}():function(){b(ue(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(te),{basename:t,navigator:n}=r.useContext(oe),{matches:i}=r.useContext(le),{pathname:s}=de(),o=JSON.stringify(K(i)),a=r.useRef(!1);fe((()=>{a.current=!0}));let l=r.useCallback((function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(w(a.current,he),!a.current)return;if("number"===typeof r)return void n.go(r);let l=G(r,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Q([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)}),[t,n,o,s,e]);return l}()}r.createContext(null);function me(){let{matches:e}=r.useContext(le),t=e[e.length-1];return t?t.params:{}}function ge(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(le),{pathname:i}=de(),s=JSON.stringify(K(n));return r.useMemo((()=>G(e,JSON.parse(s),i,"path"===t)),[e,s,i,t])}function ye(e,t,n,i){b(ue(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=r.useContext(oe),{matches:o}=r.useContext(le),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let e=h&&h.path||"";Ne(c,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(c,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,p=de();if(t){var m;let e="string"===typeof t?E(t):t;b("/"===d||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=p;let g=f.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=I(e,{pathname:y});w(h||null!=v,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),w(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let _=Se(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Q([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:Q([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n,i);return t&&_?r.createElement(ae.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},_):_}function ve(){let e=Ie(),t=X(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:o},"ErrorBoundary")," or"," ",r.createElement("code",{style:o},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,a)}var be=r.createElement(ve,null),we=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(le.Provider,{value:this.props.routeContext},r.createElement(ce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _e(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(te);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(le.Provider,{value:t},i)}function Se(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,s=null===n||void 0===n?void 0:n.errors;if(null!=s){let e=i.findIndex((e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id])));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,a=-1;if(n)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(a=r),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){o=!0,i=a>=0?i.slice(0,a+1):[i[0]];break}}}return i.reduceRight(((e,l,c)=>{let u,d=!1,h=null,f=null;n&&(u=s&&l.route.id?s[l.route.id]:void 0,h=l.route.errorElement||be,o&&(a<0&&0===c?(Ne("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):a===c&&(d=!0,f=l.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,c+1)),m=()=>{let t;return t=u?h:d?f:l.route.Component?r.createElement(l.route.Component,null):l.route.element?l.route.element:e,r.createElement(_e,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?r.createElement(we,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function ke(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ee(e){let t=r.useContext(te);return b(t,ke(e)),t}function xe(e){let t=r.useContext(ne);return b(t,ke(e)),t}function Te(e){let t=function(e){let t=r.useContext(le);return b(t,ke(e)),t}(e),n=t.matches[t.matches.length-1];return b(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ie(){var e;let t=r.useContext(ce),n=xe("useRouteError"),i=Te("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[i]}var Ce={};function Ne(e,t,n){t||Ce[e]||(Ce[e]=!0,w(!1,n))}r.memo((function(e){let{routes:t,future:n,state:r}=e;return ye(t,void 0,r,n)}));function Ae(e){let{to:t,replace:n,state:i,relative:s}=e;b(ue(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=r.useContext(oe);w(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=r.useContext(le),{pathname:l}=de(),c=pe(),u=G(t,K(a),l,"path"===s),d=JSON.stringify(u);return r.useEffect((()=>{c(JSON.parse(d),{replace:n,state:i,relative:s})}),[c,d,s,n,i]),null}function Re(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function De(e){let{basename:t="/",children:n=null,location:i,navigationType:s="POP",navigator:o,static:a=!1}=e;b(!ue(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=r.useMemo((()=>({basename:l,navigator:o,static:a,future:{}})),[l,o,a]);"string"===typeof i&&(i=E(i));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=i,m=r.useMemo((()=>{let e=q(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:s}}),[l,u,d,h,f,p,s]);return w(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:r.createElement(oe.Provider,{value:c},r.createElement(ae.Provider,{children:n,value:m}))}r.Component;function Oe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Oe(e.props.children,s));b(e.type===Re,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Oe(e.props.children,s)),n.push(o)})),n}var Me="get",Pe="application/x-www-form-urlencoded";function Le(e){return null!=e&&"string"===typeof e.tagName}var Fe=null;var je=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ue(e){return null==e||je.has(e)?e:(w(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Pe,'"')),null)}function ze(e,t){let n,r,i,s,o;if(Le(a=e)&&"form"===a.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?q(o,t):null,n=e.getAttribute("method")||Me,i=Ue(e.getAttribute("enctype"))||Pe,s=new FormData(e)}else if(function(e){return Le(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Le(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||o.getAttribute("action");if(r=a?q(a,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Me,i=Ue(e.getAttribute("formenctype"))||Ue(o.getAttribute("enctype"))||Pe,s=new FormData(o,e),!function(){if(null===Fe)try{new FormData(document.createElement("form"),0),Fe=!1}catch(e){Fe=!0}return Fe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(Le(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Me,r=null,i=Pe,o=e}var a;return s&&"text/plain"===i&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function Ve(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Be(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function qe(e){return null!=e&&"string"===typeof e.page}function He(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function We(e,t,n,r,i,s){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter(((e,t)=>o(e,t)||a(e,t))):"data"===s?t.filter(((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,s)||a(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Ke(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Ge(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!qe(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e}),[])}function Qe(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Ye=new Set([100,101,204,205]);function $e(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===q(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}r.Component;function Je(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,s=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(X(t))return r.createElement(Xe,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)i=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);i=new Error(e)}return r.createElement(Xe,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function Xe(e){var t;let{title:n,renderScripts:i,isOutsideRemixApp:s,children:o}=e,{routeModules:a}=rt();return null!==(t=a.root)&&void 0!==t&&t.Layout&&!s?o:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,i?r.createElement(ut,null):null)))}function Ze(e,t){return"lazy"===e.mode&&!0===t}function et(){let e=r.useContext(te);return Ve(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function tt(){let e=r.useContext(ne);return Ve(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var nt=r.createContext(void 0);function rt(){let e=r.useContext(nt);return Ve(e,"You must render this element inside a <HydratedRouter> element"),e}function it(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function st(e,t,n){if(n&&!ct)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function ot(e){let{page:t}=e,n=s(e,h),{router:i}=et(),o=r.useMemo((()=>I(i.routes,t,i.basename)),[i.routes,t,i.basename]);return o?r.createElement(lt,u({page:t,matches:o},n)):null}function at(e){let{manifest:t,routeModules:n}=rt(),[i,s]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(e,t,n){return Ge((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Be(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(He).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"}))))}(e,t,n).then((e=>{r||s(e)})),()=>{r=!0}}),[e,t,n]),i}function lt(e){let{page:t,matches:n}=e,i=s(e,f),o=de(),{manifest:a,routeModules:l}=rt(),{basename:c}=et(),{loaderData:d,matches:h}=tt(),p=r.useMemo((()=>We(t,n,h,a,o,"data")),[t,n,h,a,o]),m=r.useMemo((()=>We(t,n,h,a,o,"assets")),[t,n,h,a,o]),g=r.useMemo((()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{var n;let i=a.routes[t.route.id];i&&i.hasLoader&&(!p.some((e=>e.route.id===t.route.id))&&t.route.id in d&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let i=$e(t,c);return r&&e.size>0&&i.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[c,d,o,a,p,n,t,l]),y=r.useMemo((()=>Ke(m,a)),[m,a]),v=at(m);return r.createElement(r.Fragment,null,g.map((e=>r.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},i)))),y.map((e=>r.createElement("link",u({key:e,rel:"modulepreload",href:e},i)))),v.map((e=>{let{key:t,link:n}=e;return r.createElement("link",u({key:t},n))})))}nt.displayName="FrameworkContext";var ct=!1;function ut(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,renderMeta:o,routeDiscovery:a,ssr:l}=rt(),{router:c,static:h,staticContext:f}=et(),{matches:p}=tt(),m=Ze(a,l);o&&(o.didRenderScripts=!0);let g=st(p,null,i);r.useEffect((()=>{ct=!0}),[]);let y=r.useMemo((()=>{var i;let o=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",a=h?"".concat(null!==(i=t.hmr)&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(g.map(((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];Ve(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:o,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=i,u=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(r," = {").concat(u.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=s(e,d),i=new Set(t.state.matches.map((e=>e.route.id))),o=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(o.pop();o.length>0;)a.push("/".concat(o.join("/"))),o.pop();a.forEach((e=>{let n=I(t.routes,e,t.basename);n&&n.forEach((e=>i.add(e.route.id)))}));let l=[...i].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return u(u({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Qe(o),type:void 0})),r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Qe(a),type:"module",async:!0})))}),[]),v=ct?[]:(b=t.entry.imports.concat(Ke(g,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let w="object"===typeof t.sri?t.sri:{};return ct?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,m?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:w[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:w[t.entry.module],suppressHydrationWarning:!0}),v.map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:w[t],suppressHydrationWarning:!0}))),y)}function dt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var ht="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ht&&(window.__reactRouterVersion="7.6.1")}catch($C){}function ft(e){let{basename:t,children:n,window:i}=e,s=r.useRef();null==s.current&&(s.current=v({window:i,v5Compat:!0}));let o=s.current,[a,l]=r.useState({action:o.action,location:o.location}),c=r.useCallback((e=>{r.startTransition((()=>l(e)))}),[l]);return r.useLayoutEffect((()=>o.listen(c)),[o,c]),r.createElement(De,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o})}var pt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=r.forwardRef((function(e,t){let n,{onClick:i,discover:o="render",prefetch:a="none",relative:l,reloadDocument:c,replace:d,state:h,target:f,to:m,preventScrollReset:g,viewTransition:y}=e,v=s(e,p),{basename:_}=r.useContext(oe),S="string"===typeof m&&pt.test(m),E=!1;if("string"===typeof m&&S&&(n=m,ht))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=q(t.pathname,_);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:E=!0}catch($C){w(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let x=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(ue(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(oe),{hash:s,pathname:o,search:a}=ge(e,{relative:t}),l=o;return"/"!==n&&(l="/"===o?n:Q([n,o])),i.createHref({pathname:l,search:a,hash:s})}(m,{relative:l}),[T,I,C]=function(e,t){let n=r.useContext(nt),[i,s]=r.useState(!1),[o,a]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect((()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{a(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(i){let e=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let p=()=>{s(!0)},m=()=>{s(!1),a(!1)};return n?"intent"!==e?[o,f,{}]:[o,f,{onFocus:it(l,p),onBlur:it(c,m),onMouseEnter:it(u,p),onMouseLeave:it(d,m),onTouchStart:it(h,p)}]:[!1,f,{}]}(a,v),N=function(e){let{target:t,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=pe(),c=de(),u=ge(e,{relative:o});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:k(c)===k(u);l(e,{replace:t,state:i,preventScrollReset:s,relative:o,viewTransition:a})}}),[c,l,u,n,i,t,e,s,o,a])}(m,{replace:d,state:h,target:f,preventScrollReset:g,relative:l,viewTransition:y});let A=r.createElement("a",u(u(u({},v),C),{},{href:n||x,onClick:E||c?i:function(e){i&&i(e),e.defaultPrevented||N(e)},ref:dt(t,I),target:f,"data-discover":S||"render"!==o?void 0:"true"}));return T&&!S?r.createElement(r.Fragment,null,A,r.createElement(ot,{page:x})):A}));mt.displayName="Link",r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:o="",end:a=!1,style:l,to:c,viewTransition:d,children:h}=e,f=s(e,m),p=ge(c,{relative:f.relative}),g=de(),y=r.useContext(ne),{navigator:v,basename:w}=r.useContext(oe),_=null!=y&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(re);b(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=vt("useViewTransitionState"),s=ge(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=q(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=q(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=z(s.pathname,a)||null!=z(s.pathname,o)}(p)&&!0===d,S=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,k=g.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(k=k.toLowerCase(),E=E?E.toLowerCase():null,S=S.toLowerCase()),E&&w&&(E=q(E,w)||E);const x="/"!==S&&S.endsWith("/")?S.length-1:S.length;let T,I=k===S||!a&&k.startsWith(S)&&"/"===k.charAt(x),C=null!=E&&(E===S||!a&&E.startsWith(S)&&"/"===E.charAt(S.length)),N={isActive:I,isPending:C,isTransitioning:_},A=I?n:void 0;T="function"===typeof o?o(N):[o,I?"active":null,C?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof l?l(N):l;return r.createElement(mt,u(u({},f),{},{"aria-current":A,className:T,ref:t,style:R,to:c,viewTransition:d}),"function"===typeof h?h(N):h)})).displayName="NavLink";var gt=r.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:o,reloadDocument:a,replace:l,state:c,method:d=Me,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:y}=e,v=s(e,g),w=_t(),_=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(oe),i=r.useContext(le);b(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o=u({},ge(e||".",{relative:t})),a=de();if(null==e){o.search=a.search;let e=new URLSearchParams(o.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:Q([n,o.pathname]));return k(o)}(h,{relative:p}),S="get"===d.toLowerCase()?"get":"post",E="string"===typeof h&&pt.test(h);return r.createElement("form",u(u({ref:t,method:S,action:_,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;w(t||e.currentTarget,{fetcherKey:i,method:n,navigate:o,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:y})}},v),{},{"data-discover":E||"render"!==n?void 0:"true"}))}));function yt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function vt(e){let t=r.useContext(te);return b(t,yt(e)),t}gt.displayName="Form";var bt=0,wt=()=>"__".concat(String(++bt),"__");function _t(){let{router:e}=vt("useSubmit"),{basename:t}=r.useContext(oe),n=Te("useRouteId");return r.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:o,encType:a,formData:l,body:c}=ze(r,t);if(!1===i.navigate){let t=i.fetcherKey||wt();await e.fetch(t,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,n])}const St=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},kt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(St(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Et;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Et extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xt=function(e){return function(e){const t=St(e);return kt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Tt=function(e){try{return kt.decodeString(e,!0)}catch($C){console.error("base64Decode failed: ",$C)}return null};const It=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ct=()=>{try{return It()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/sobriety-tracker-v2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch($C){return}const t=e&&Tt(e[1]);return t&&JSON.parse(t)})()}catch($C){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat($C))}},Nt=e=>{var t,n;return null===(n=null===(t=Ct())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},At=e=>{const t=Nt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Rt=()=>{var e;return null===(e=Ct())||void 0===e?void 0:e.config},Dt=e=>{var t;return null===(t=Ct())||void 0===t?void 0:t["_".concat(e)]};class Ot{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Mt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Pt(){return!function(){var e;const t=null===(e=Ct())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch($C){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lt(){try{return"object"===typeof indexedDB}catch($C){return!1}}class Ft extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jt.prototype.create)}}class jt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ut,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ft(n,s,t)}}const Ut=/\{\$([^}]+)}/g;function zt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Vt(n)&&Vt(s)){if(!zt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Vt(e){return null!==e&&"object"===typeof e}function Bt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function qt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Ht(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Wt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Kt),void 0===r.error&&(r.error=Kt),void 0===r.complete&&(r.complete=Kt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch($C){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch($C){"undefined"!==typeof console&&console.error&&console.error($C)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Kt(){}function Gt(e){return e&&e._delegate?e._delegate:e}class Qt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Yt="[DEFAULT]";class $t{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ot;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch($C){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch($C){if(r)return null;throw $C}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Yt})}catch($C){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch($C){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Yt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt;return this.component?this.component.multipleInstances?e:Yt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Jt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $t(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Xt=[];var Zt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Zt||(Zt={}));const en={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},tn=Zt.INFO,nn={[Zt.DEBUG]:"log",[Zt.VERBOSE]:"log",[Zt.INFO]:"info",[Zt.WARN]:"warn",[Zt.ERROR]:"error"},rn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=nn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class sn{constructor(e){this.name=e,this._logLevel=tn,this._logHandler=rn,this._userLogHandler=null,Xt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Zt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?en[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zt.DEBUG,...t),this._logHandler(this,Zt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zt.VERBOSE,...t),this._logHandler(this,Zt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zt.INFO,...t),this._logHandler(this,Zt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zt.WARN,...t),this._logHandler(this,Zt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zt.ERROR,...t),this._logHandler(this,Zt.ERROR,...t)}}let on,an;const ln=new WeakMap,cn=new WeakMap,un=new WeakMap,dn=new WeakMap,hn=new WeakMap;let fn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return cn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||un.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function pn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(an||(an=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(yn(this),n),gn(ln.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gn(e.apply(yn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(yn(this),t,...r);return un.set(s,t.sort?t.sort():[t]),gn(s)}}function mn(e){return"function"===typeof e?pn(e):(e instanceof IDBTransaction&&function(e){if(cn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));cn.set(e,t)}(e),t=e,(on||(on=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,fn):e);var t}function gn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(gn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&ln.set(t,e)})).catch((()=>{})),hn.set(t,e),t}(e);if(dn.has(e))return dn.get(e);const t=mn(e);return t!==e&&(dn.set(e,t),hn.set(t,e)),t}const yn=e=>hn.get(e);const vn=["get","getKey","getAll","getAllKeys","count"],bn=["put","add","delete","clear"],wn=new Map;function _n(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(wn.get(t))return wn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=bn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!vn.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return wn.set(t,s),s}fn=(e=>u(u({},e),{},{get:(t,n,r)=>_n(t,n)||e.get(t,n,r),has:(t,n)=>!!_n(t,n)||e.has(t,n)}))(fn);class Sn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const kn="@firebase/app",En="0.10.13",xn=new sn("@firebase/app"),Tn="@firebase/app-compat",In="@firebase/analytics-compat",Cn="@firebase/analytics",Nn="@firebase/app-check-compat",An="@firebase/app-check",Rn="@firebase/auth",Dn="@firebase/auth-compat",On="@firebase/database",Mn="@firebase/data-connect",Pn="@firebase/database-compat",Ln="@firebase/functions",Fn="@firebase/functions-compat",jn="@firebase/installations",Un="@firebase/installations-compat",zn="@firebase/messaging",Vn="@firebase/messaging-compat",Bn="@firebase/performance",qn="@firebase/performance-compat",Hn="@firebase/remote-config",Wn="@firebase/remote-config-compat",Kn="@firebase/storage",Gn="@firebase/storage-compat",Qn="@firebase/firestore",Yn="@firebase/vertexai-preview",$n="@firebase/firestore-compat",Jn="firebase",Xn="[DEFAULT]",Zn={[kn]:"fire-core",[Tn]:"fire-core-compat",[Cn]:"fire-analytics",[In]:"fire-analytics-compat",[An]:"fire-app-check",[Nn]:"fire-app-check-compat",[Rn]:"fire-auth",[Dn]:"fire-auth-compat",[On]:"fire-rtdb",[Mn]:"fire-data-connect",[Pn]:"fire-rtdb-compat",[Ln]:"fire-fn",[Fn]:"fire-fn-compat",[jn]:"fire-iid",[Un]:"fire-iid-compat",[zn]:"fire-fcm",[Vn]:"fire-fcm-compat",[Bn]:"fire-perf",[qn]:"fire-perf-compat",[Hn]:"fire-rc",[Wn]:"fire-rc-compat",[Kn]:"fire-gcs",[Gn]:"fire-gcs-compat",[Qn]:"fire-fst",[$n]:"fire-fst-compat",[Yn]:"fire-vertex","fire-js":"fire-js",[Jn]:"fire-js-all"},er=new Map,tr=new Map,nr=new Map;function rr(e,t){try{e.container.addComponent(t)}catch($C){xn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),$C)}}function ir(e){const t=e.name;if(nr.has(t))return xn.debug("There were multiple attempts to register component ".concat(t,".")),!1;nr.set(t,e);for(const n of er.values())rr(n,e);for(const n of tr.values())rr(n,e);return!0}function sr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function or(e){return void 0!==e.settings}const ar=new jt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class lr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Qt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const cr="10.14.1";function ur(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Xn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ar.create("bad-app-name",{appName:String(i)});if(n||(n=Rt()),!n)throw ar.create("no-options");const s=er.get(i);if(s){if(zt(n,s.options)&&zt(r,s.config))return s;throw ar.create("duplicate-app",{appName:i})}const o=new Jt(i);for(const l of nr.values())o.addComponent(l);const a=new lr(n,r,o);return er.set(i,a),a}function dr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn;const t=er.get(e);if(!t&&e===Xn&&Rt())return ur();if(!t)throw ar.create("no-app",{appName:e});return t}function hr(e,t,n){var r;let i=null!==(r=Zn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void xn.warn(e.join(" "))}ir(new Qt("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const fr="firebase-heartbeat-store";let pr=null;function mr(){return pr||(pr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=gn(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(gn(o.result),e.oldVersion,e.newVersion,gn(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(fr)}catch($C){console.warn($C)}}}).catch((e=>{throw ar.create("idb-open",{originalErrorMessage:e.message})}))),pr}async function gr(e,t){try{const n=(await mr()).transaction(fr,"readwrite"),r=n.objectStore(fr);await r.put(t,yr(e)),await n.done}catch($C){if($C instanceof Ft)xn.warn($C.message);else{const t=ar.create("idb-set",{originalErrorMessage:null===$C||void 0===$C?void 0:$C.message});xn.warn(t.message)}}}function yr(e){return"".concat(e.name,"!").concat(e.options.appId)}class vr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=br();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch($C){xn.warn($C)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=br(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),_r(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_r(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=xt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch($C){return xn.warn($C),""}}}function br(){return(new Date).toISOString().substring(0,10)}class wr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Lt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await mr()).transaction(fr),n=await t.objectStore(fr).get(yr(e));return await t.done,n}catch($C){if($C instanceof Ft)xn.warn($C.message);else{const t=ar.create("idb-get",{originalErrorMessage:null===$C||void 0===$C?void 0:$C.message});xn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return gr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return gr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function _r(e){return xt(JSON.stringify({version:2,heartbeats:e})).length}var Sr;Sr="",ir(new Qt("platform-logger",(e=>new Sn(e)),"PRIVATE")),ir(new Qt("heartbeat",(e=>new vr(e)),"PRIVATE")),hr(kn,En,Sr),hr(kn,En,"esm2017"),hr("fire-js","");function kr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Er(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xr=Er,Tr=new jt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ir=new sn("@firebase/auth");function Cr(e){if(Ir.logLevel<=Zt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ir.error("Auth (".concat(cr,"): ").concat(e),...n)}}function Nr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Mr(e,...n)}function Ar(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Mr(e,...n)}function Rr(e,t,n){const r=Object.assign(Object.assign({},xr()),{[t]:n});return new jt("auth","Firebase",r).create(t,{appName:e.name})}function Dr(e){return Rr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Or(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Nr(e,"argument-error"),Rr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Mr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Tr.create(e,...n)}function Pr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Mr(t,...r)}}function Lr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Cr(t),new Error(t)}function Fr(e,t){e||Lr(t)}function jr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ur(){return"http:"===zr()||"https:"===zr()}function zr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Vr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ur()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Br{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Vr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qr(e,t){Fr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Hr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Kr=new Br(3e4,6e4);function Gr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Qr(e,t,n,r){return Yr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Bt(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Hr.fetch()(Jr(e,e.config.apiHost,n,o),l)}))}async function Yr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Wr),t);try{const t=new Zr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw ei(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ei(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw ei(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw ei(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Rr(e,a,o);Nr(e,a)}}catch($C){if($C instanceof Ft)throw $C;Nr(e,"network-request-failed",{message:String($C)})}}async function $r(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Qr(e,t,n,r,i);return"mfaPendingCredential"in s&&Nr(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Jr(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?qr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Xr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ar(this.auth,"network-request-failed"))),Kr.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function ei(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ar(e,t,r);return i.customData._tokenResponse=n,i}function ti(e){return void 0!==e&&void 0!==e.enterprise}class ni{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Xr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function ri(e,t){return Qr(e,"GET","/v2/recaptchaConfig",Gr(e,t))}async function ii(e,t){return Qr(e,"POST","/v1/accounts:lookup",t)}function si(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch($C){}}function oi(e){return 1e3*Number(e)}function ai(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Cr("JWT malformed, contained fewer than 3 sections"),null;try{const e=Tt(n);return e?JSON.parse(e):(Cr("Failed to decode base64 JWT payload"),null)}catch($C){return Cr("Caught error parsing JWT payload as JSON",null===$C||void 0===$C?void 0:$C.toString()),null}}function li(e){const t=ai(e);return Pr(t,"internal-error"),Pr("undefined"!==typeof t.exp,"internal-error"),Pr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ci(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch($C){throw $C instanceof Ft&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}($C)&&e.auth.currentUser===e&&await e.auth.signOut(),$C}}class ui{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch($C){return void((null===$C||void 0===$C?void 0:$C.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class di{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=si(this.lastLoginAt),this.creationTime=si(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ci(e,ii(n,{idToken:r}));Pr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?fi(s.providerUserInfo):[],a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new di(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function fi(e){return e.map((e=>{var{providerId:t}=e,n=kr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class pi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pr(e.idToken,"internal-error"),Pr("undefined"!==typeof e.idToken,"internal-error"),Pr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):li(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pr(0!==e.length,"internal-error");const t=li(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Pr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Yr(e,{},(async()=>{const n=Bt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Jr(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Hr.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new pi;return n&&(Pr("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Pr("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Pr("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pi,this.toJSON())}_performRefresh(){return Lr("not implemented")}}function mi(e,t){Pr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class gi{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=kr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ui(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new di(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ci(this,this.stsTokenManager.getToken(this.auth,e));return Pr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Gt(e),r=await n.getIdToken(t),i=ai(r);Pr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:si(oi(i.auth_time)),issuedAtTime:si(oi(i.iat)),expirationTime:si(oi(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Gt(e);await hi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Pr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await hi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Dr(this.auth));const e=await this.getIdToken();return await ci(this,async function(e,t){return Qr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:S}=t;Pr(v&&S,e,"internal-error");const k=pi.fromJSON(this.name,S);Pr("string"===typeof v,e,"internal-error"),mi(u,e.name),mi(d,e.name),Pr("boolean"===typeof b,e,"internal-error"),Pr("boolean"===typeof w,e,"internal-error"),mi(h,e.name),mi(f,e.name),mi(p,e.name),mi(m,e.name),mi(g,e.name),mi(y,e.name);const E=new gi({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(E.providerData=_.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new pi;r.updateFromServerResponse(t);const i=new gi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await hi(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Pr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?fi(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new pi;o.updateFromIdToken(n);const a=new gi({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new di(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const yi=new Map;function vi(e){Fr(e instanceof Function,"Expected a class definition");let t=yi.get(e);return t?(Fr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,yi.set(e,t),t)}class bi{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}bi.type="NONE";const wi=bi;function _i(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Si{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=_i(this.userKey,r.apiKey,i),this.fullPersistenceKey=_i("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Si(vi(wi),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||vi(wi);const s=_i(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=gi._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new Si(i,e,n)):new Si(i,e,n)}}function ki(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ii(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ei(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ni(t))return"Blackberry";if(Ai(t))return"Webos";if(xi(t))return"Safari";if((t.includes("chrome/")||Ti(t))&&!t.includes("edge/"))return"Chrome";if(Ci(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Ei(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/firefox\//i.test(e)}function xi(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ti(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/crios\//i.test(e)}function Ii(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/iemobile/i.test(e)}function Ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/android/i.test(e)}function Ni(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/blackberry/i.test(e)}function Ai(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/webos/i.test(e)}function Ri(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Di(){return function(){const e=Mt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Oi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return Ri(e)||Ci(e)||Ai(e)||Ni(e)||/windows phone/i.test(e)||Ii(e)}function Mi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ki(Mt());break;case"Worker":t="".concat(ki(Mt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(cr,"/").concat(r)}class Pi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch($C){r($C)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch($C){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===$C||void 0===$C?void 0:$C.message})}}}class Li{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Fi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ui(this),this.idTokenSubscription=new Ui(this),this.beforeStateQueue=new Pi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vi(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Si.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch($C){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await ii(this,{idToken:e}),n=await gi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(or(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch($C){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject($C)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Pr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch($C){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hi(e)}catch($C){if((null===$C||void 0===$C?void 0:$C.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(Dr(this));const t=e?Gt(e):null;return t&&Pr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Pr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return or(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(Dr(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(vi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Qr(e,"GET","/v2/passwordPolicy",Gr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Li(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Qr(e,"POST","/v2/accounts:revokeToken",Gr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vi(e)||this._popupRedirectResolver;Pr(t,this,"argument-error"),this.redirectPersistenceManager=await Si.create(this,[vi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pr(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ir.logLevel<=Zt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ir.warn("Auth (".concat(cr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ji(e){return Gt(e)}class Ui{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Wt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Pr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vi(e){return zi.loadJS(e)}function Bi(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class qi{constructor(e){this.type="recaptcha-enterprise",this.auth=ji(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;ti(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{ri(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new ni(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&ti(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=zi.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Vi(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Hi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new qi(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Wi(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Hi(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Hi(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Ki(e,t,n){const r=ji(e);Pr(r._canInitEmulator,r,"emulator-config-failed"),Pr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Gi(t),{host:o,port:a}=function(e){const t=Gi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Qi(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Qi(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Gi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Qi(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Yi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,t){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}}async function $i(e,t){return Qr(e,"POST","/v1/accounts:signUp",t)}async function Ji(e,t){return $r(e,"POST","/v1/accounts:signInWithPassword",Gr(e,t))}class Xi extends Yi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Xi(e,t,"password")}static _fromEmailAndCode(e,t){return new Xi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Wi(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ji);case"emailLink":return async function(e,t){return $r(e,"POST","/v1/accounts:signInWithEmailLink",Gr(e,t))}(e,{email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Wi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$i);case"emailLink":return async function(e,t){return $r(e,"POST","/v1/accounts:signInWithEmailLink",Gr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Zi(e,t){return $r(e,"POST","/v1/accounts:signInWithIdp",Gr(e,t))}class es extends Yi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=kr(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new es(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Zi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Zi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bt(t)}return e}}const ts={USER_NOT_FOUND:"user-not-found"};class ns extends Yi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ns({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ns({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return $r(e,"POST","/v1/accounts:signInWithPhoneNumber",Gr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await $r(e,"POST","/v1/accounts:signInWithPhoneNumber",Gr(e,t));if(n.temporaryProof)throw ei(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return $r(e,"POST","/v1/accounts:signInWithPhoneNumber",Gr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ts)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ns({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class rs{constructor(e){var t,n,r,i,s,o;const a=qt(Ht(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Pr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=qt(Ht(e)).link,n=t?qt(Ht(t)).deep_link_id:null,r=qt(Ht(e)).deep_link_id;return(r?qt(Ht(r)).link:null)||r||n||t||e}(e);try{return new rs(t)}catch(n){return null}}}class is{constructor(){this.providerId=is.PROVIDER_ID}static credential(e,t){return Xi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=rs.parseLink(t);return Pr(n,"argument-error"),Xi._fromEmailAndCode(e,n.code,n.tenantId)}}is.PROVIDER_ID="password",is.EMAIL_PASSWORD_SIGN_IN_METHOD="password",is.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ss{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class os extends ss{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class as extends os{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return as.credential(t.oauthAccessToken)}catch(n){return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com",as.PROVIDER_ID="facebook.com";class ls extends os{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return es._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ls.credential(n,r)}catch(i){return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com",ls.PROVIDER_ID="google.com";class cs extends os{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return cs.credential(t.oauthAccessToken)}catch(n){return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com",cs.PROVIDER_ID="github.com";class us extends os{constructor(){super("twitter.com")}static credential(e,t){return es._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return us.credential(n,r)}catch(i){return null}}}async function ds(e,t){return $r(e,"POST","/v1/accounts:signUp",Gr(e,t))}us.TWITTER_SIGN_IN_METHOD="twitter.com",us.PROVIDER_ID="twitter.com";class hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await gi._fromIdTokenResponse(e,n,r),s=fs(n);return new hs({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=fs(n);return new hs({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function fs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ps extends Ft{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ps.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ps(e,t,n,r)}}function ms(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ps._fromErrorAndOperation(e,n,t,r);throw n}))}async function gs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ci(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return hs._forOperation(e,"link",r)}async function ys(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(or(r.app))return Promise.reject(Dr(r));const i="reauthenticate";try{const s=await ci(e,ms(r,i,t,e),n);Pr(s.idToken,r,"internal-error");const o=ai(s.idToken);Pr(o,r,"internal-error");const{sub:a}=o;return Pr(e.uid===a,r,"user-mismatch"),hs._forOperation(e,i,s)}catch($C){throw(null===$C||void 0===$C?void 0:$C.code)==="auth/".concat("user-not-found")&&Nr(r,"user-mismatch"),$C}}async function vs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(or(e.app))return Promise.reject(Dr(e));const r="signIn",i=await ms(e,r,t),s=await hs._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function bs(e,t){return vs(ji(e),t)}async function ws(e){const t=ji(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const _s="__sak";class Ss{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_s,"1"),this.storage.removeItem(_s),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ks extends Ss{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Oi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Di()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ks.type="LOCAL";const Es=ks;class xs extends Ss{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}xs.type="SESSION";const Ts=xs;class Is{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Is(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Cs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Is.receivers=[];class Ns{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=Cs("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function As(){return window}function Rs(){return"undefined"!==typeof As().WorkerGlobalScope&&"function"===typeof As().importScripts}const Ds="firebaseLocalStorageDb",Os="firebaseLocalStorage",Ms="fbase_key";class Ps{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ls(e,t){return e.transaction([Os],t?"readwrite":"readonly").objectStore(Os)}function Fs(){const e=indexedDB.open(Ds,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Os,{keyPath:Ms})}catch($C){n($C)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Os)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ds);return new Ps(e).toPromise()}(),t(await Fs()))}))}))}async function js(e,t,n){const r=Ls(e,!0).put({[Ms]:t,value:n});return new Ps(r).toPromise()}function Us(e,t){const n=Ls(e,!0).delete(t);return new Ps(n).toPromise()}class zs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Fs()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch($C){if(t++>3)throw $C;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Is._getInstance(Rs()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ns(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fs();return await js(e,_s,"1"),await Us(e,_s),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>js(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ls(e,!1).get(t),r=await new Ps(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Us(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ls(e,!1).getAll();return new Ps(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}zs.type="LOCAL";const Vs=zs;Bi("rcb"),new Br(3e4,6e4);const Bs="recaptcha";async function qs(e,t,n){var r;const i=await n.verify();try{let s;if(Pr("string"===typeof i,e,"argument-error"),Pr(n.type===Bs,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Pr("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Qr(e,"POST","/v2/accounts/mfaEnrollment:start",Gr(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Pr("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Pr(n,e,"missing-multi-factor-info");const o=await function(e,t){return Qr(e,"POST","/v2/accounts/mfaSignIn:start",Gr(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Qr(e,"POST","/v1/accounts:sendVerificationCode",Gr(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Hs{constructor(e){this.providerId=Hs.PROVIDER_ID,this.auth=ji(e)}verifyPhoneNumber(e,t){return qs(this.auth,e,Gt(t))}static credential(e,t){return ns._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Hs.credentialFromTaggedObject(t)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ns._fromTokenResponse(n,r):null}}function Ws(e,t){return t?vi(t):(Pr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Hs.PROVIDER_ID="phone",Hs.PHONE_SIGN_IN_METHOD="phone";class Ks extends Yi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Gs(e){return vs(e.auth,new Ks(e),e.bypassAuthState)}function Qs(e){const{auth:t,user:n}=e;return Pr(n,t,"internal-error"),ys(n,new Ks(e),e.bypassAuthState)}async function Ys(e){const{auth:t,user:n}=e;return Pr(n,t,"internal-error"),gs(n,new Ks(e),e.bypassAuthState)}class $s{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch($C){this.reject($C)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch($C){this.reject($C)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gs;case"linkViaPopup":case"linkViaRedirect":return Ys;case"reauthViaPopup":case"reauthViaRedirect":return Qs;default:Nr(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Js=new Br(2e3,1e4);class Xs extends $s{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Xs.currentPopupAction&&Xs.currentPopupAction.cancel(),Xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pr(e,this.auth,"internal-error"),e}async onExecution(){Fr(1===this.filter.length,"Popup operations only handle one event");const e=Cs();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ar(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Js.get())};e()}}Xs.currentPopupAction=null;const Zs=new Map;class eo extends $s{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Zs.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ro(t),r=no(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch($C){e=()=>Promise.reject($C)}Zs.set(this.auth._key(),e)}return this.bypassAuthState||Zs.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function to(e,t){Zs.set(e._key(),t)}function no(e){return vi(e._redirectPersistence)}function ro(e){return _i("pendingRedirect",e.config.apiKey,e.name)}async function io(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(or(e.app))return Promise.reject(Dr(e));const r=ji(e),i=Ws(r,t),s=new eo(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class so{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ao(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ao(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ar(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oo(e))}saveEventToCache(e){this.cachedEventUids.add(oo(e)),this.lastProcessedEventTime=Date.now()}}function oo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ao(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const lo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,co=/^https?/;async function uo(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Qr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ho(r))return}catch(n){}Nr(e,"unauthorized-domain")}function ho(e){const t=jr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!co.test(n))return!1;if(lo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const fo=new Br(3e4,6e4);function po(){const e=As().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function mo(e){return new Promise(((t,n)=>{var r,i,s;function o(){po(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{po(),n(Ar(e,"network-request-failed"))},timeout:fo.get()})}if(null===(i=null===(r=As().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=As().gapi)||void 0===s?void 0:s.load)){const t=Bi("iframefcb");return As()[t]=()=>{gapi.load?o():n(Ar(e,"network-request-failed"))},Vi("".concat(zi.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw go=null,e}))}let go=null;const yo=new Br(5e3,15e3),vo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wo(e){const t=e.config;Pr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?qr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:cr},i=bo.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Bt(r).slice(1))}async function _o(e){const t=await function(e){return go=go||mo(e),go}(e),n=As().gapi;return Pr(n,e,"internal-error"),t.open({where:document.body,url:wo(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vo,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ar(e,"network-request-failed"),s=As().setTimeout((()=>{r(i)}),yo.get());function o(){As().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const So={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ko{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch($C){}}}function Eo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},So),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Mt().toLowerCase();n&&(a=Ti(c)?"_blank":n),Ei(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Ri(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new ko(null);const d=window.open(t||"",a,u);Pr(d,e,"popup-blocked");try{d.focus()}catch($C){}return new ko(d)}const xo="__/auth/handler",To="emulator/auth/handler",Io=encodeURIComponent("fac");async function Co(e,t,n,r,i,s){Pr(e.config.authDomain,e,"auth-domain-config-required"),Pr(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:cr,eventId:i};if(t instanceof ss){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof os){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Io,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(xo);return qr(t,To)}(e),"?").concat(Bt(a).slice(1)).concat(c)}const No="webStorageSupport";const Ao=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ts,this._completeRedirectFn=io,this._overrideRedirectResult=to}async _openPopup(e,t,n,r){var i;Fr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Eo(e,await Co(e,t,n,jr(),r),Cs())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){As().location.href=e}(await Co(e,t,n,jr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Fr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await _o(e),n=new so(e);return t.register("authEvent",(t=>{Pr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(No,{type:No},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[No];void 0!==i&&t(!!i),Nr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uo(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Oi()||xi()||Ri()}};var Ro="@firebase/auth",Do="1.7.9";class Oo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Mo=Dt("authIdTokenMaxAge")||300;let Po=null;var Lo,Fo;Lo={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ar("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},zi=Lo,Fo="Browser",ir(new Qt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Pr(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Fo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mi(Fo)},c=new Fi(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ir(new Qt("auth-internal",(e=>(e=>new Oo(e))(ji(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),hr(Ro,Do,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Fo)),hr(Ro,Do,"esm2017");hr("firebase","10.14.1","app");const jo=ur({apiKey:"AIzaSyAaE3_td0-3vc0SxGeiNAxLxod_2dsliGI",authDomain:"sobriety-test-final.firebaseapp.com",projectId:"sobriety-test-final",storageBucket:"sobriety-test-final.firebasestorage.app",messagingSenderId:"465124189476",appId:"1:465124189476:web:4defd030f969d57dbaffb1",measurementId:"G-BWN9S5T303"});var Uo=n(579);const zo=r.createContext(),Vo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr();const t=sr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=sr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(zt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Nr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ao,persistence:[Vs,Es,Ts]}),r=Dt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Mo)return;const r=null===t||void 0===t?void 0:t.token;Po!==r&&(Po=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Gt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Gt(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=Nt("auth");return s&&Ki(n,"http://".concat(s)),n}(jo);function Bo(){return(0,r.useContext)(zo)}function qo(e){let{children:t}=e;const[n,i]=(0,r.useState)(null),[s,o]=(0,r.useState)(!0),[a,l]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=function(e,t,n,r){return Gt(e).onAuthStateChanged(t,n,r)}(Vo,(e=>{i(e),e&&"blagoyhristov03@gmail.com"===e.email?l(!0):l(!1),o(!1)}));return e}),[]);const c={currentUser:n,auth:Vo,isAdmin:a};return(0,Uo.jsx)(zo.Provider,{value:c,children:!s&&t})}var Ho,Wo,Ko="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Go={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=o(n)).j(t);d(c)||0<c.l(e);)c=(s=o(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Wo=Go.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},Ho=Go.Integer=r}).apply("undefined"!==typeof Ko?Ko:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Qo,Yo,$o,Jo,Xo,Zo,ea,ta,na="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ra={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof na&&na];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout((()=>{throw e}),0)}function E(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var x=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let I,C=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=x.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=i.Promise.resolve(void 0);I=()=>{e.then(R)}};var R=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(n){k(n)}var t=x;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function D(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function P(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&P.aa.h.call(this)}}d(P,O);var L={2:"touch",3:"pen",4:"mouse"};P.prototype.h=function(){P.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),j=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++j,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=q(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,o(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new V(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,o(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(z(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&$(n))}function $(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):z(e)}}}function J(e){return e in W?W[e]:W[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new P(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&$(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){D.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;_(t=new O(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&B(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,D),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends D{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){D.call(this),this.h=e,this.g={}}d(le,D);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&$(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){O.call(this,"d")}function be(){O.call(this,"c")}d(ve,O),d(be,O);var we={},_e=null;function Se(){return _e=_e||new ne}function ke(e){O.call(this,we.La,e)}function Ee(e){const t=Se();re(t,new ke(t))}function xe(e,t){O.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=Se();re(t,new xe(t,e))}function Ie(e,t){O.call(this,we.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ne(){this.g=!0}function Ae(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(ke,O),we.STAT_EVENT="statevent",d(xe,O),we.Ma="timingevent",d(Ie,O),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Re,De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Me(){}function Pe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Me,pe),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},Re=new Me;var Fe={},je={};function Ue(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),qe(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),xt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var o=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),$t(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(We(a),qe(a)),r.g=o}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}Pe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Pe.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=h||7==t||Ee(),We(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Kt(this.g);e="";var s=r.length,o=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ge(this),Ke(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==je){4==h&&(this.s=4,Te(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,Te(15),Ae(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Qe(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(d),d.M=!0,Te(11))}}else Ae(this.i,this.l,a,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Ae(this.i,this.l,a,null),Qe(this,a);4==h&&Ge(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ge(this),Ke(this)}}}catch(ia){}},Pe.prototype.cancel=function(){this.J=!0,Ge(this)},Pe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),Te(17)),Ge(this),this.s=2,Ke(this)):He(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function $e(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}$e.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),xt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new _t(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kt(e,t){St(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return St(e),t=Tt(e,t),e.g.has(t)}function xt(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),h(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function It(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Ct(){this.g=new fe}function Nt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch($C){throw t.push(r+"type="+encodeURIComponent("_badmap")),$C}}function At(e){this.l=e.Ub||null,this.j=e.eb||!1}function Rt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Dt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Mt(e)}function Mt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Pt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Pt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ft(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){St(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)Et(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,Et(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(At,pe),At.prototype.g=function(){return new Rt(this.l,this.j)},At.prototype.i=(mt={},function(){return mt}),d(Rt,ne),(e=Rt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Mt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Mt(this)),this.g&&(this.readyState=3,Mt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):Mt(this),3==this.readyState&&Dt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Rt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ft,ne);var jt=/^https?$/i,Ut=["POST","PUT"];function zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),qt(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!jt.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Wt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Vt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch($C){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(aa){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new $e(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Jt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Pe(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}dn(e)}function $t(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Jt(e){$t(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;I||A(),C||(I(),C=!0),N.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Pe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Nt(a,e,"req"+n+"_")}catch(ia){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;I||A(),C||(I(),C=!0),N.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Pe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,ze(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Ie(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=u(It,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(It,n,"TestLoadImage: error",!1,t,r),r.onabort=u(It,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(It,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout((()=>{n.abort(),It(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?It(0,0,!0,t):It(0,0,!1,t)})).catch((()=>{clearTimeout(r),It(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),dn(e),Jt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new At({eb:n})):new Ft(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?me(this.o):me(Re),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void zt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){zt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Pe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),_(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Pt(s)))+"&"+t:this.m&&Lt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Je(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),$t(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,$t(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},d(yn,ve),d(vn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new yn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,ta=ra.createWebChannelTransport=function(){return new mn},ea=ra.getStatEventTarget=function(){return Se()},Zo=ra.Event=we,Xo=ra.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,Jo=ra.ErrorCode=De,Oe.COMPLETE="complete",$o=ra.EventType=Oe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Yo=ra.WebChannel=ge,ra.FetchXmlHttpFactory=At,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Qo=ra.XhrIo=Ft}).apply("undefined"!==typeof na?na:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ia="@firebase/firestore";class sa{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sa.UNAUTHENTICATED=new sa(null),sa.GOOGLE_CREDENTIALS=new sa("google-credentials-uid"),sa.FIRST_PARTY=new sa("first-party-uid"),sa.MOCK_USER=new sa("mock-user");let oa="10.14.0";const aa=new sn("@firebase/firestore");function la(){return aa.logLevel}function ca(e){if(aa.logLevel<=Zt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ha);aa.debug("Firestore (".concat(oa,"): ").concat(e),...i)}}function ua(e){if(aa.logLevel<=Zt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ha);aa.error("Firestore (".concat(oa,"): ").concat(e),...i)}}function da(e){if(aa.logLevel<=Zt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ha);aa.warn("Firestore (".concat(oa,"): ").concat(e),...i)}}function ha(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function fa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(oa,") INTERNAL ASSERTION FAILED: ")+e;throw ua(t),new Error(t)}function pa(e,t){e||fa()}function ma(e,t){return e}const ga={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ya extends Ft{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class va{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ba{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class wa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sa.UNAUTHENTICATED)))}shutdown(){}}class _a{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Sa{constructor(e){this.t=e,this.currentUser=sa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pa(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new va;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new va,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{ca("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(ca("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new va)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ca("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(pa("string"==typeof t.accessToken),new ba(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pa(null===e||"string"==typeof e),new sa(e)}}class ka{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=sa.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ea{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new ka(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(sa.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ta{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){pa(void 0===this.o);const n=e=>{null!=e.error&&ca("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,ca("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ca("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):ca("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(pa("string"==typeof e.token),this.R=e.token,new xa(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ia(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ca{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ia(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Na(e,t){return e<t?-1:e>t?1:0}function Aa(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Ra{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ya(ga.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ya(ga.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ya(ga.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ya(ga.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ra.fromMillis(Date.now())}static fromDate(e){return Ra.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ra(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Na(this.nanoseconds,e.nanoseconds):Na(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Da{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Da(e)}static min(){return new Da(new Ra(0,0))}static max(){return new Da(new Ra(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Oa{constructor(e,t,n){void 0===t?t=0:t>e.length&&fa(),void 0===n?n=e.length-t:n>e.length-t&&fa(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Oa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oa?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ma extends Oa{construct(e,t,n){return new Ma(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ya(ga.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Ma(e)}static emptyPath(){return new Ma([])}}const Pa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class La extends Oa{construct(e,t,n){return new La(e,t,n)}static isValidIdentifier(e){return Pa.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),La.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new La(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ya(ga.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ya(ga.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ya(ga.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new ya(ga.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new La(t)}static emptyPath(){return new La([])}}class Fa{constructor(e){this.path=e}static fromPath(e){return new Fa(Ma.fromString(e))}static fromName(e){return new Fa(Ma.fromString(e).popFirst(5))}static empty(){return new Fa(Ma.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ma.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ma.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fa(new Ma(e.slice()))}}class ja{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ja.UNKNOWN_ID=-1;function Ua(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Da.fromTimestamp(1e9===r?new Ra(n+1,0):new Ra(n,r));return new Va(i,Fa.empty(),t)}function za(e){return new Va(e.readTime,e.key,-1)}class Va{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Va(Da.min(),Fa.empty(),-1)}static max(){return new Va(Da.max(),Fa.empty(),-1)}}function Ba(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Fa.comparator(e.documentKey,t.documentKey),0!==n?n:Na(e.largestBatchId,t.largestBatchId))}const qa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ha{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Wa(e){if(e.code!==ga.FAILED_PRECONDITION||e.message!==qa)throw e;ca("LocalStore","Unexpectedly lost primary lease")}class Ka{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fa(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ka(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ka?t:Ka.resolve(t)}catch(e){return Ka.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ka.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ka.reject(t)}static resolve(e){return new Ka(((t,n)=>{t(e)}))}static reject(e){return new Ka(((t,n)=>{n(e)}))}static waitFor(e){return new Ka(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Ka.resolve(!1);for(const n of e)t=t.next((e=>e?Ka.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Ka(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Ka(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Ga(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qa(e){return"IndexedDbTransactionError"===e.name}class Ya{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function $a(e){return null==e}function Ja(e){return 0===e&&1/e==-1/0}function Xa(e){return"number"==typeof e&&Number.isInteger(e)&&!Ja(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Ya.oe=-1;const Za=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],el=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tl=el,nl=[...tl,"indexConfiguration","indexState","indexEntries"];function rl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function il(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ol{constructor(e,t){this.comparator=e,this.root=t||ll.EMPTY}insert(e,t){return new ol(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ll.BLACK,null,null))}remove(e){return new ol(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ll.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new al(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new al(this.root,e,this.comparator,!1)}getReverseIterator(){return new al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new al(this.root,e,this.comparator,!0)}}class al{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ll{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ll.RED,this.left=null!=r?r:ll.EMPTY,this.right=null!=i?i:ll.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ll(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ll.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ll.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ll.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ll.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fa();if(this.right.isRed())throw fa();const e=this.left.check();if(e!==this.right.check())throw fa();return e+(this.isRed()?0:1)}}ll.EMPTY=null,ll.RED=!0,ll.BLACK=!1,ll.EMPTY=new class{constructor(){this.size=0}get key(){throw fa()}get value(){throw fa()}get color(){throw fa()}get left(){throw fa()}get right(){throw fa()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ll(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cl{constructor(e){this.comparator=e,this.data=new ol(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ul(this.data.getIterator())}getIteratorFrom(e){return new ul(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof cl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new cl(this.comparator);return t.data=e,t}}class ul{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class dl{constructor(e){this.fields=e,e.sort(La.comparator)}static empty(){return new dl([])}unionWith(e){let t=new cl(La.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new dl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Aa(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class hl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new hl("Invalid base64 string: "+e):e}}(e);return new fl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new fl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Na(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fl.EMPTY_BYTE_STRING=new fl("");const pl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ml(e){if(pa(!!e),"string"==typeof e){let t=0;const n=pl.exec(e);if(pa(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:gl(e.seconds),nanos:gl(e.nanos)}}function gl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function yl(e){return"string"==typeof e?fl.fromBase64String(e):fl.fromUint8Array(e)}function vl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bl(e){const t=e.mapValue.fields.__previous_value__;return vl(t)?bl(t):t}function wl(e){const t=ml(e.mapValue.fields.__local_write_time__.timestampValue);return new Ra(t.seconds,t.nanos)}class _l{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Sl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sl&&e.projectId===this.projectId&&e.database===this.database}}const kl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function El(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vl(e)?4:zl(e)?9007199254740991:jl(e)?10:11:fa()}function xl(e,t){if(e===t)return!0;const n=El(e);if(n!==El(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wl(e).isEqual(wl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ml(e.timestampValue),r=ml(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return yl(e.bytesValue).isEqual(yl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return gl(e.geoPointValue.latitude)===gl(t.geoPointValue.latitude)&&gl(e.geoPointValue.longitude)===gl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return gl(e.integerValue)===gl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=gl(e.doubleValue),r=gl(t.doubleValue);return n===r?Ja(n)===Ja(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Aa(e.arrayValue.values||[],t.arrayValue.values||[],xl);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rl(n)!==rl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xl(n[i],r[i])))return!1;return!0}(e,t);default:return fa()}}function Tl(e,t){return void 0!==(e.values||[]).find((e=>xl(e,t)))}function Il(e,t){if(e===t)return 0;const n=El(e),r=El(t);if(n!==r)return Na(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Na(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=gl(e.integerValue||e.doubleValue),r=gl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Cl(e.timestampValue,t.timestampValue);case 4:return Cl(wl(e),wl(t));case 5:return Na(e.stringValue,t.stringValue);case 6:return function(e,t){const n=yl(e),r=yl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Na(n[i],r[i]);if(0!==e)return e}return Na(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Na(gl(e.latitude),gl(t.latitude));return 0!==n?n:Na(gl(e.longitude),gl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Nl(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,c=null===(r=a.value)||void 0===r?void 0:r.arrayValue,u=Na((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Nl(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===kl.mapValue&&t===kl.mapValue)return 0;if(e===kl.mapValue)return 1;if(t===kl.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Na(r[o],s[o]);if(0!==e)return e;const t=Il(n[r[o]],i[s[o]]);if(0!==t)return t}return Na(r.length,s.length)}(e.mapValue,t.mapValue);default:throw fa()}}function Cl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Na(e,t);const n=ml(e),r=ml(t),i=Na(n.seconds,r.seconds);return 0!==i?i:Na(n.nanos,r.nanos)}function Nl(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Il(n[i],r[i]);if(e)return e}return Na(n.length,r.length)}function Al(e){return Rl(e)}function Rl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ml(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return yl(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Fa.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Rl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Rl(e.fields[i]));return n+"}"}(e.mapValue):fa()}function Dl(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ol(e){return!!e&&"integerValue"in e}function Ml(e){return!!e&&"arrayValue"in e}function Pl(e){return!!e&&"nullValue"in e}function Ll(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fl(e){return!!e&&"mapValue"in e}function jl(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ul(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return il(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ul(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ul(e.arrayValue.values[n]);return t}return Object.assign({},e)}function zl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Vl{constructor(e){this.value=e}static empty(){return new Vl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Fl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(t)}setAll(e){let t=La.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ul(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Fl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Fl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){il(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Vl(Ul(this.value))}}function Bl(e){const t=[];return il(e.fields,((e,n)=>{const r=new La([e]);if(Fl(n)){const e=Bl(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new dl(t)}class ql{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new ql(e,0,Da.min(),Da.min(),Da.min(),Vl.empty(),0)}static newFoundDocument(e,t,n,r){return new ql(e,1,t,Da.min(),n,r,0)}static newNoDocument(e,t){return new ql(e,2,t,Da.min(),Da.min(),Vl.empty(),0)}static newUnknownDocument(e,t){return new ql(e,3,t,Da.min(),Da.min(),Vl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Da.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Da.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ql&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ql(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Hl{constructor(e,t){this.position=e,this.inclusive=t}}function Wl(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Fa.comparator(Fa.fromName(o.referenceValue),n.key):Il(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Kl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!xl(e.position[n],t.position[n]))return!1;return!0}class Gl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ql(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Yl{}class $l extends Yl{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ic(e,t,n):"array-contains"===t?new lc(e,n):"in"===t?new cc(e,n):"not-in"===t?new uc(e,n):"array-contains-any"===t?new dc(e,n):new $l(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new sc(e,n):new oc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Il(t,this.value)):null!==t&&El(this.value)===El(t)&&this.matchesComparison(Il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fa()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jl extends Yl{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Jl(e,t)}matches(e){return Xl(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xl(e){return"and"===e.op}function Zl(e){return ec(e)&&Xl(e)}function ec(e){for(const t of e.filters)if(t instanceof Jl)return!1;return!0}function tc(e){if(e instanceof $l)return e.field.canonicalString()+e.op.toString()+Al(e.value);if(Zl(e))return e.filters.map((e=>tc(e))).join(",");{const t=e.filters.map((e=>tc(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function nc(e,t){return e instanceof $l?function(e,t){return t instanceof $l&&e.op===t.op&&e.field.isEqual(t.field)&&xl(e.value,t.value)}(e,t):e instanceof Jl?function(e,t){return t instanceof Jl&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&nc(n,t.filters[r])),!0)}(e,t):void fa()}function rc(e){return e instanceof $l?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Al(e.value))}(e):e instanceof Jl?function(e){return e.op.toString()+" {"+e.getFilters().map(rc).join(" ,")+"}"}(e):"Filter"}class ic extends $l{constructor(e,t,n){super(e,t,n),this.key=Fa.fromName(n.referenceValue)}matches(e){const t=Fa.comparator(e.key,this.key);return this.matchesComparison(t)}}class sc extends $l{constructor(e,t){super(e,"in",t),this.keys=ac("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class oc extends $l{constructor(e,t){super(e,"not-in",t),this.keys=ac("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ac(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Fa.fromName(e.referenceValue)))}class lc extends $l{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ml(t)&&Tl(t.arrayValue,this.value)}}class cc extends $l{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Tl(this.value.arrayValue,t)}}class uc extends $l{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Tl(this.value.arrayValue,t)}}class dc extends $l{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ml(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Tl(this.value.arrayValue,e)))}}class hc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function fc(e){return new hc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function pc(e){const t=ma(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>tc(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),$a(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Al(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Al(e))).join(",")),t.ue=e}return t.ue}function mc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ql(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!nc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Kl(e.startAt,t.startAt)&&Kl(e.endAt,t.endAt)}function gc(e){return Fa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class yc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function vc(e,t,n,r,i,s,o,a){return new yc(e,t,n,r,i,s,o,a)}function bc(e){return new yc(e)}function wc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function _c(e){return null!==e.collectionGroup}function Sc(e){const t=ma(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new cl(La.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Gl(r,n))})),e.has(La.keyField().canonicalString())||t.ce.push(new Gl(La.keyField(),n))}return t.ce}function kc(e){const t=ma(e);return t.le||(t.le=Ec(t,Sc(e))),t.le}function Ec(e,t){if("F"===e.limitType)return fc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Gl(e.field,t)}));const n=e.endAt?new Hl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Hl(e.startAt.position,e.startAt.inclusive):null;return fc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function xc(e,t){const n=e.filters.concat([t]);return new yc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Tc(e,t,n){return new yc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ic(e,t){return mc(kc(e),kc(t))&&e.limitType===t.limitType}function Cc(e){return"".concat(pc(kc(e)),"|lt:").concat(e.limitType)}function Nc(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>rc(e))).join(", "),"]")),$a(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Al(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Al(e))).join(",")),"Target(".concat(t,")")}(kc(e)),"; limitType=").concat(e.limitType,")")}function Ac(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Fa.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Sc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Wl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Sc(e),t))&&!(e.endAt&&!function(e,t,n){const r=Wl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Sc(e),t))}(e,t)}function Rc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Dc(e){return(t,n)=>{let r=!1;for(const i of Sc(e)){const e=Oc(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Oc(e,t,n){const r=e.field.isKeyField()?Fa.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Il(r,i):fa()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fa()}}class Mc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){il(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return sl(this.inner)}size(){return this.innerSize}}const Pc=new ol(Fa.comparator);function Lc(){return Pc}const Fc=new ol(Fa.comparator);function jc(){let e=Fc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Uc(e){let t=Fc;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function zc(){return Bc()}function Vc(){return Bc()}function Bc(){return new Mc((e=>e.toString()),((e,t)=>e.isEqual(t)))}const qc=new ol(Fa.comparator),Hc=new cl(Fa.comparator);function Wc(){let e=Hc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Kc=new cl(Na);function Gc(){return Kc}function Qc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ja(t)?"-0":t}}function Yc(e){return{integerValue:""+e}}function $c(e,t){return Xa(t)?Yc(t):Qc(e,t)}class Jc{constructor(){this._=void 0}}function Xc(e,t,n){return e instanceof tu?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&vl(t)&&(t=bl(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof nu?ru(e,t):e instanceof iu?su(e,t):function(e,t){const n=eu(e,t),r=au(n)+au(e.Pe);return Ol(n)&&Ol(e.Pe)?Yc(r):Qc(e.serializer,r)}(e,t)}function Zc(e,t,n){return e instanceof nu?ru(e,t):e instanceof iu?su(e,t):n}function eu(e,t){return e instanceof ou?function(e){return Ol(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class tu extends Jc{}class nu extends Jc{constructor(e){super(),this.elements=e}}function ru(e,t){const n=lu(t);for(const r of e.elements)n.some((e=>xl(e,r)))||n.push(r);return{arrayValue:{values:n}}}class iu extends Jc{constructor(e){super(),this.elements=e}}function su(e,t){let n=lu(t);for(const r of e.elements)n=n.filter((e=>!xl(e,r)));return{arrayValue:{values:n}}}class ou extends Jc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function au(e){return gl(e.integerValue||e.doubleValue)}function lu(e){return Ml(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class cu{constructor(e,t){this.field=e,this.transform=t}}class uu{constructor(e,t){this.version=e,this.transformResults=t}}class du{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new du}static exists(e){return new du(void 0,e)}static updateTime(e){return new du(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class fu{}function pu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Eu(e.key,du.none()):new bu(e.key,e.data,du.none());{const n=e.data,r=Vl.empty();let i=new cl(La.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new wu(e.key,r,new dl(i.toArray()),du.none())}}function mu(e,t,n){e instanceof bu?function(e,t,n){const r=e.value.clone(),i=Su(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof wu?function(e,t,n){if(!hu(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Su(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(_u(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function gu(e,t,n,r){return e instanceof bu?function(e,t,n,r){if(!hu(e.precondition,t))return n;const i=e.value.clone(),s=ku(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof wu?function(e,t,n,r){if(!hu(e.precondition,t))return n;const i=ku(e.fieldTransforms,r,t),s=t.data;return s.setAll(_u(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return hu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function yu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=eu(r.transform,e||null);null!=i&&(null===n&&(n=Vl.empty()),n.set(r.field,i))}return n||null}function vu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Aa(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof nu&&t instanceof nu||e instanceof iu&&t instanceof iu?Aa(e.elements,t.elements,xl):e instanceof ou&&t instanceof ou?xl(e.Pe,t.Pe):e instanceof tu&&t instanceof tu}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class bu extends fu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class wu extends fu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function _u(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Su(e,t,n){const r=new Map;pa(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Zc(o,a,n[i]))}return r}function ku(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Xc(e,s,t))}return r}class Eu extends fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xu extends fu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tu{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&mu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=gu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=gu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Vc();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=pu(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Da.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Wc())}isEqual(e){return this.batchId===e.batchId&&Aa(this.mutations,e.mutations,((e,t)=>vu(e,t)))&&Aa(this.baseMutations,e.baseMutations,((e,t)=>vu(e,t)))}}class Iu{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){pa(e.mutations.length===n.length);let r=qc;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Iu(e,t,n,r)}}class Cu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Nu{constructor(e,t){this.count=e,this.unchangedNames=t}}var Au,Ru;function Du(e){switch(e){default:return fa();case ga.CANCELLED:case ga.UNKNOWN:case ga.DEADLINE_EXCEEDED:case ga.RESOURCE_EXHAUSTED:case ga.INTERNAL:case ga.UNAVAILABLE:case ga.UNAUTHENTICATED:return!1;case ga.INVALID_ARGUMENT:case ga.NOT_FOUND:case ga.ALREADY_EXISTS:case ga.PERMISSION_DENIED:case ga.FAILED_PRECONDITION:case ga.ABORTED:case ga.OUT_OF_RANGE:case ga.UNIMPLEMENTED:case ga.DATA_LOSS:return!0}}function Ou(e){if(void 0===e)return ua("GRPC error has no .code"),ga.UNKNOWN;switch(e){case Au.OK:return ga.OK;case Au.CANCELLED:return ga.CANCELLED;case Au.UNKNOWN:return ga.UNKNOWN;case Au.DEADLINE_EXCEEDED:return ga.DEADLINE_EXCEEDED;case Au.RESOURCE_EXHAUSTED:return ga.RESOURCE_EXHAUSTED;case Au.INTERNAL:return ga.INTERNAL;case Au.UNAVAILABLE:return ga.UNAVAILABLE;case Au.UNAUTHENTICATED:return ga.UNAUTHENTICATED;case Au.INVALID_ARGUMENT:return ga.INVALID_ARGUMENT;case Au.NOT_FOUND:return ga.NOT_FOUND;case Au.ALREADY_EXISTS:return ga.ALREADY_EXISTS;case Au.PERMISSION_DENIED:return ga.PERMISSION_DENIED;case Au.FAILED_PRECONDITION:return ga.FAILED_PRECONDITION;case Au.ABORTED:return ga.ABORTED;case Au.OUT_OF_RANGE:return ga.OUT_OF_RANGE;case Au.UNIMPLEMENTED:return ga.UNIMPLEMENTED;case Au.DATA_LOSS:return ga.DATA_LOSS;default:return fa()}}(Ru=Au||(Au={}))[Ru.OK=0]="OK",Ru[Ru.CANCELLED=1]="CANCELLED",Ru[Ru.UNKNOWN=2]="UNKNOWN",Ru[Ru.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ru[Ru.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ru[Ru.NOT_FOUND=5]="NOT_FOUND",Ru[Ru.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ru[Ru.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ru[Ru.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ru[Ru.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ru[Ru.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ru[Ru.ABORTED=10]="ABORTED",Ru[Ru.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ru[Ru.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ru[Ru.INTERNAL=13]="INTERNAL",Ru[Ru.UNAVAILABLE=14]="UNAVAILABLE",Ru[Ru.DATA_LOSS=15]="DATA_LOSS";let Mu=null;function Pu(){return new TextEncoder}const Lu=new Ho([4294967295,4294967295],0);function Fu(e){const t=Pu().encode(e),n=new Wo;return n.update(t),new Uint8Array(n.digest())}function ju(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ho([n,r],0),new Ho([i,s],0)]}class Uu{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new zu("Invalid padding: ".concat(t));if(n<0)throw new zu("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new zu("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new zu("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Ho.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Ho.fromNumber(n)));return 1===r.compare(Lu)&&(r=new Ho([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Fu(e),[n,r]=ju(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Uu(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=Fu(e),[n,r]=ju(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vu{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Bu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Vu(Da.min(),r,new ol(Na),Lc(),Wc())}}class Bu{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Bu(n,t,Wc(),Wc(),Wc())}}class qu{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Hu{constructor(e,t){this.targetId=e,this.me=t}}class Wu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ku{constructor(){this.fe=0,this.ge=Yu(),this.pe=fl.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Wc(),t=Wc(),n=Wc();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:fa()}})),new Bu(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Yu()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,pa(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Gu{constructor(e){this.Le=e,this.Be=new Map,this.ke=Lc(),this.qe=Qu(),this.Qe=new ol(Na)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:fa()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(gc(i))if(0===n){const e=new Fa(i.path);this.Ue(t,e,ql.newNoDocument(e,Da.min()))}else pa(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Mu||Mu.et(function(e,t,n,r,i){var s,o,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=yl(n).toUint8Array()}catch(e){if(e instanceof hl)return da("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Uu(s,r,i)}catch(e){return da(e instanceof zu?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&gc(i.target)){const t=new Fa(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,ql.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=Wc();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Vu(e,t,this.Qe,this.ke,n);return this.ke=Lc(),this.qe=Qu(),this.Qe=new ol(Na),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Ku,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new cl(Na),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||ca("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ku),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Qu(){return new ol(Fa.comparator)}function Yu(){return new ol(Fa.comparator)}const $u={asc:"ASCENDING",desc:"DESCENDING"},Ju={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xu={and:"AND",or:"OR"};class Zu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ed(e,t){return e.useProto3Json||$a(t)?t:{value:t}}function td(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function nd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function rd(e,t){return td(e,t.toTimestamp())}function id(e){return pa(!!e),Da.fromTimestamp(function(e){const t=ml(e);return new Ra(t.seconds,t.nanos)}(e))}function sd(e,t){return od(e,t).canonicalString()}function od(e,t){const n=function(e){return new Ma(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ad(e){const t=Ma.fromString(e);return pa(Id(t)),t}function ld(e,t){return sd(e.databaseId,t.path)}function cd(e,t){const n=ad(t);if(n.get(1)!==e.databaseId.projectId)throw new ya(ga.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ya(ga.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Fa(fd(n))}function ud(e,t){return sd(e.databaseId,t)}function dd(e){const t=ad(e);return 4===t.length?Ma.emptyPath():fd(t)}function hd(e){return new Ma(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fd(e){return pa(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pd(e,t,n){return{name:ld(e,t),fields:n.value.mapValue.fields}}function md(e,t){let n;if(t instanceof bu)n={update:pd(e,t.key,t.value)};else if(t instanceof Eu)n={delete:ld(e,t.key)};else if(t instanceof wu)n={update:pd(e,t.key,t.data),updateMask:Td(t.fieldMask)};else{if(!(t instanceof xu))return fa();n={verify:ld(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof tu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof nu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof iu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ou)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw fa()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:rd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fa()}(e,t.precondition)),n}function gd(e,t){return{documents:[ud(e,t.path)]}}function yd(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ud(e,i);const s=function(e){if(0!==e.length)return xd(Jl.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:kd(e.field),direction:wd(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ed(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function vd(e){let t=dd(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pa(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=bd(e);return t instanceof Jl&&Zl(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Gl(Ed(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,$a(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Hl(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Hl(n,t)}(n.endAt)),vc(t,i,o,s,a,"F",l,c)}function bd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ed(e.unaryFilter.field);return $l.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ed(e.unaryFilter.field);return $l.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ed(e.unaryFilter.field);return $l.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ed(e.unaryFilter.field);return $l.create(i,"!=",{nullValue:"NULL_VALUE"});default:return fa()}}(e):void 0!==e.fieldFilter?function(e){return $l.create(Ed(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fa()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Jl.create(e.compositeFilter.filters.map((e=>bd(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return fa()}}(e.compositeFilter.op))}(e):fa()}function wd(e){return $u[e]}function _d(e){return Ju[e]}function Sd(e){return Xu[e]}function kd(e){return{fieldPath:e.canonicalString()}}function Ed(e){return La.fromServerFormat(e.fieldPath)}function xd(e){return e instanceof $l?function(e){if("=="===e.op){if(Ll(e.value))return{unaryFilter:{field:kd(e.field),op:"IS_NAN"}};if(Pl(e.value))return{unaryFilter:{field:kd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ll(e.value))return{unaryFilter:{field:kd(e.field),op:"IS_NOT_NAN"}};if(Pl(e.value))return{unaryFilter:{field:kd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kd(e.field),op:_d(e.op),value:e.value}}}(e):e instanceof Jl?function(e){const t=e.getFilters().map((e=>xd(e)));return 1===t.length?t[0]:{compositeFilter:{op:Sd(e.op),filters:t}}}(e):fa()}function Td(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Id(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Cd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Da.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Da.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fl.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Cd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Nd{constructor(e){this.ct=e}}function Ad(e){const t=vd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Tc(t,t.limit,"L"):t}class Rd{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(gl(e.integerValue));else if("doubleValue"in e){const n=gl(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Ja(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=ml(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(yl(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?zl(e)?this.dt(t,Number.MAX_SAFE_INTEGER):jl(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):fa()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(gl(o)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),Fa.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}Rd.vt=new Rd;class Dd{constructor(){this.un=new Od}addToCollectionParentIndex(e,t){return this.un.add(t),Ka.resolve()}getCollectionParents(e,t){return Ka.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Ka.resolve()}deleteFieldIndex(e,t){return Ka.resolve()}deleteAllFieldIndexes(e){return Ka.resolve()}createTargetIndexes(e,t){return Ka.resolve()}getDocumentsMatchingTarget(e,t){return Ka.resolve(null)}getIndexType(e,t){return Ka.resolve(0)}getFieldIndexes(e,t){return Ka.resolve([])}getNextCollectionGroupToUpdate(e){return Ka.resolve(null)}getMinOffset(e,t){return Ka.resolve(Va.min())}getMinOffsetFromCollectionGroup(e,t){return Ka.resolve(Va.min())}updateCollectionGroup(e,t,n){return Ka.resolve()}updateIndexEntries(e,t){return Ka.resolve()}}class Od{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new cl(Ma.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new cl(Ma.comparator)).toArray()}}new Uint8Array(0);class Md{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Md(e,Md.DEFAULT_COLLECTION_PERCENTILE,Md.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Md.DEFAULT_COLLECTION_PERCENTILE=10,Md.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Md.DEFAULT=new Md(41943040,Md.DEFAULT_COLLECTION_PERCENTILE,Md.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Md.DISABLED=new Md(-1,0,0);class Pd{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Pd(0)}static kn(){return new Pd(-1)}}class Ld{constructor(){this.changes=new Mc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ql.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ka.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fd{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class jd{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&gu(n.mutation,e,dl.empty(),Ra.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Wc()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wc();const r=zc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=jc();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=zc();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Wc())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Lc();const s=Bc(),o=Bc();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof wu)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),gu(o.mutation,t,o.mutation.getFieldMask(),Ra.now())):s.set(t.key,dl.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Fd(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Bc();let r=new ol(((e,t)=>e-t)),i=Wc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||dl.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Wc()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=Vc();l.forEach((e=>{if(!i.has(e)){const r=pu(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Ka.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Fa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_c(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ka.resolve(zc());let o=-1,a=i;return s.next((t=>Ka.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Ka.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Wc()))).next((e=>({batchId:o,changes:Uc(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fa(t)).next((e=>{let t=jc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=jc();return this.indexManager.getCollectionParents(e,i).next((o=>Ka.forEach(o,(o=>{const a=function(e,t){return new yc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,ql.newInvalidDocument(r)))}));let n=jc();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&gu(s.mutation,r,dl.empty(),Ra.now()),Ac(t,r)&&(n=n.insert(e,r))})),n}))}}class Ud{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Ka.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:id(e.createTime)}}(t)),Ka.resolve()}getNamedQuery(e,t){return Ka.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Ad(e.bundledQuery),readTime:id(e.readTime)}}(t)),Ka.resolve()}}class zd{constructor(){this.overlays=new ol(Fa.comparator),this.Ir=new Map}getOverlay(e,t){return Ka.resolve(this.overlays.get(t))}getOverlays(e,t){const n=zc();return Ka.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Ka.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),Ka.resolve()}getOverlaysForCollection(e,t,n){const r=zc(),i=t.length+1,s=new Fa(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ka.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ol(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=zc(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=zc(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Ka.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Cu(t,n));let i=this.Ir.get(t);void 0===i&&(i=Wc(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class Vd{constructor(){this.sessionToken=fl.EMPTY_BYTE_STRING}getSessionToken(e){return Ka.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ka.resolve()}}class Bd{constructor(){this.Tr=new cl(qd.Er),this.dr=new cl(qd.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new qd(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new qd(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new Fa(new Ma([])),n=new qd(t,e),r=new qd(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Fa(new Ma([])),n=new qd(t,e),r=new qd(t,e+1);let i=Wc();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new qd(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class qd{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Fa.comparator(e.key,t.key)||Na(e.wr,t.wr)}static Ar(e,t){return Na(e.wr,t.wr)||Fa.comparator(e.key,t.key)}}class Hd{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new cl(qd.Er)}checkEmpty(e){return Ka.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Tu(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.br=this.br.add(new qd(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ka.resolve(s)}lookupMutationBatch(e,t){return Ka.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return Ka.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ka.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Ka.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new qd(t,0),r=new qd(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),Ka.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new cl(Na);return t.forEach((e=>{const t=new qd(e,0),r=new qd(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),Ka.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Fa.isDocumentKey(i)||(i=i.child(""));const s=new qd(new Fa(i),0);let o=new cl(Na);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.wr)),!0)}),s),Ka.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){pa(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return Ka.forEach(t.mutations,(r=>{const i=new qd(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new qd(t,0),r=this.br.firstAfterOrEqual(n);return Ka.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ka.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Wd{constructor(e){this.Mr=e,this.docs=new ol(Fa.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ka.resolve(n?n.document.mutableCopy():ql.newInvalidDocument(t))}getEntries(e,t){let n=Lc();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ql.newInvalidDocument(e))})),Ka.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Lc();const s=t.path,o=new Fa(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Ba(za(o),n)<=0||(r.has(o.key)||Ac(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Ka.resolve(i)}getAllFromCollectionGroup(e,t,n,r){fa()}Or(e,t){return Ka.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Kd(this)}getSize(e){return Ka.resolve(this.size)}}class Kd extends Ld{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),Ka.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Gd{constructor(e){this.persistence=e,this.Nr=new Mc((e=>pc(e)),mc),this.lastRemoteSnapshotVersion=Da.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Bd,this.targetCount=0,this.kr=Pd.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),Ka.resolve()}getLastRemoteSnapshotVersion(e){return Ka.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ka.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ka.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),Ka.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Pd(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Ka.resolve()}updateTargetData(e,t){return this.Kn(t),Ka.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Ka.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Ka.waitFor(i).next((()=>r))}getTargetCount(e){return Ka.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return Ka.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),Ka.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Ka.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Ka.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return Ka.resolve(n)}containsKey(e,t){return Ka.resolve(this.Br.containsKey(t))}}class Qd{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Ya(0),this.Kr=!1,this.Kr=!0,this.$r=new Vd,this.referenceDelegate=e(this),this.Ur=new Gd(this),this.indexManager=new Dd,this.remoteDocumentCache=function(e){return new Wd(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new Nd(t),this.Gr=new Ud(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zd,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Hd(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){ca("MemoryPersistence","Starting transaction:",e);const r=new Yd(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return Ka.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class Yd extends Ha{constructor(e){super(),this.currentSequenceNumber=e}}class $d{constructor(e){this.persistence=e,this.Jr=new Bd,this.Yr=null}static Zr(e){return new $d(e)}get Xr(){if(this.Yr)return this.Yr;throw fa()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),Ka.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),Ka.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Ka.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ka.forEach(this.Xr,(n=>{const r=Fa.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,Da.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return Ka.or([()=>Ka.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Jd{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=Wc(),r=Wc();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Jd(e,t.fromCache,n,r)}}class Xd{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Zd{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=Pt()?8:Ga(Mt())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Xd;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(la()<=Zt.DEBUG&&ca("QueryEngine","SDK will not create cache indexes for query:",Nc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ka.resolve()):(la()<=Zt.DEBUG&&ca("QueryEngine","Query:",Nc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(la()<=Zt.DEBUG&&ca("QueryEngine","The SDK decides to create cache indexes for query:",Nc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kc(t))):Ka.resolve())}Yi(e,t){if(wc(t))return Ka.resolve(null);let n=kc(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Tc(t,null,"F"),n=kc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Wc(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,Tc(t,null,"F")):this.rs(e,s,t,n)}))))})))))}Zi(e,t,n,r){return wc(t)||r.isEqual(Da.min())?Ka.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?Ka.resolve(null):(la()<=Zt.DEBUG&&ca("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nc(t)),this.rs(e,s,t,Ua(r,-1)).next((e=>e)))}))}ts(e,t){let n=new cl(Dc(e));return t.forEach(((t,r)=>{Ac(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return la()<=Zt.DEBUG&&ca("QueryEngine","Using full collection scan to execute query:",Nc(t)),this.Ji.getDocumentsMatchingQuery(e,t,Va.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class eh{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new ol(Na),this._s=new Mc((e=>pc(e)),mc),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jd(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function th(e,t,n,r){return new eh(e,t,n,r)}async function nh(e,t){const n=ma(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Wc();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function rh(e){const t=ma(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function ih(e,t,n){let r=Wc(),i=Wc();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Lc();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Da.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):ca("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Ps:r,Is:i}}))}function sh(e,t){const n=ma(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function oh(e,t){const n=ma(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,Ka.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new Cd(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function ah(e,t,n){const r=ma(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Qa(e))throw e;ca("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(i.target)}function lh(e,t,n){const r=ma(e);let i=Da.min(),s=Wc();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=ma(e),i=r._s.get(n);return void 0!==i?Ka.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,kc(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:Da.min(),n?s:Wc()))).next((e=>(ch(r,Rc(t),e),{documents:e,Ts:s})))))}function ch(e,t,n){let r=e.us.get(t)||Da.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}class uh{constructor(){this.activeTargetIds=Gc()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dh{constructor(){this.so=new uh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new uh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hh{_o(e){}shutdown(){}}class fh{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ca("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ca("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ph=null;function mh(){return null===ph?ph=268435456+Math.round(2147483648*Math.random()):ph++,"0x"+ph.toString(16)}const gh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yh{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const vh="WebChannelConnection";class bh extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,i){const s=mh(),o=this.xo(e,t.toUriEncodedString());ca("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(a,r,i),this.No(e,o,a,n).then((t=>(ca("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw da("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+oa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=gh[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=mh();return new Promise(((s,o)=>{const a=new Qo;a.setWithCredentials(!0),a.listenOnce($o.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Jo.NO_ERROR:const t=a.getResponseJson();ca(vh,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Jo.TIMEOUT:ca(vh,"RPC '".concat(e,"' ").concat(i," timed out")),o(new ya(ga.DEADLINE_EXCEEDED,"Request time out"));break;case Jo.HTTP_ERROR:const n=a.getStatus();if(ca(vh,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ga).indexOf(t)>=0?t:ga.UNKNOWN}(t.status);o(new ya(e,t.message))}else o(new ya(ga.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ya(ga.UNAVAILABLE,"Connection failed."));break;default:fa()}}finally{ca(vh,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);ca(vh,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=mh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ta(),o=ea(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");ca(vh,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let d=!1,h=!1;const f=new yh({Io:t=>{h?ca(vh,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(ca(vh,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),ca(vh,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Yo.EventType.OPEN,(()=>{h||(ca(vh,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.yo())})),p(u,Yo.EventType.CLOSE,(()=>{h||(h=!0,ca(vh,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.So())})),p(u,Yo.EventType.ERROR,(t=>{h||(h=!0,da(vh,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.So(new ya(ga.UNAVAILABLE,"The operation could not be completed")))})),p(u,Yo.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];pa(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){ca(vh,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Au[e];if(void 0!==t)return Ou(t)}(t),i=o.message;void 0===n&&(n=ga.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.So(new ya(n,i)),u.close()}else ca(vh,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.bo(i)}})),p(o,Zo.STAT_EVENT,(t=>{t.stat===Xo.PROXY?ca(vh,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Xo.NOPROXY&&ca(vh,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.wo()}),0),f}}function wh(){return"undefined"!=typeof document?document:null}function _h(e){return new Zu(e,!0)}class Sh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&ca("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class kh{constructor(e,t,n,r,i,s,o,a){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Sh(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===ga.RESOURCE_EXHAUSTED?(ua(t.toString()),ua("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===ga.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new ya(ga.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ca("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(ca("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Eh extends kh{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fa()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(pa(void 0===t||"string"==typeof t),fl.fromBase64String(t||"")):(pa(void 0===t||t instanceof Buffer||t instanceof Uint8Array),fl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?ga.UNKNOWN:Ou(e.code);return new ya(t,e.message||"")}(o);n=new Wu(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=cd(e,r.document.name),s=id(r.document.updateTime),o=r.document.createTime?id(r.document.createTime):Da.min(),a=new Vl({mapValue:{fields:r.document.fields}}),l=ql.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new qu(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=cd(e,r.document),s=r.readTime?id(r.readTime):Da.min(),o=ql.newNoDocument(i,s),a=r.removedTargetIds||[];n=new qu([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=cd(e,r.document),s=r.removedTargetIds||[];n=new qu([],s,i,null)}else{if(!("filter"in t))return fa();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Nu(r,i),o=e.targetId;n=new Hu(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Da.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Da.min():t.readTime?id(t.readTime):Da.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=hd(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=gc(r)?{documents:gd(e,r)}:{query:yd(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=nd(e,t.resumeToken);const r=ed(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Da.min())>0){n.readTime=td(e,t.snapshotVersion.toTimestamp());const r=ed(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fa()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=hd(this.serializer),t.removeTarget=e,this.a_(t)}}class xh extends kh{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return pa(!!e.streamToken),this.lastStreamToken=e.streamToken,pa(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){pa(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(pa(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?id(e.updateTime):id(t);return n.isEqual(Da.min())&&(n=id(t)),new uu(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=id(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=hd(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>md(this.serializer,e)))};this.a_(t)}}class Th extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new ya(ga.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Mo(e,od(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ga.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ya(ga.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.Lo(e,od(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ga.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ya(ga.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Ih{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(ua(t),this.D_=!1):ca("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Ch{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{Fh(this)&&(ca("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=ma(e);t.L_.add(4),await Ah(t),t.q_.set("Unknown"),t.L_.delete(4),await Nh(t)}(this))}))})),this.q_=new Ih(n,r)}}async function Nh(e){if(Fh(e))for(const t of e.B_)await t(!0)}async function Ah(e){for(const t of e.B_)await t(!1)}function Rh(e,t){const n=ma(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Lh(n)?Ph(n):nf(n).r_()&&Oh(n,t))}function Dh(e,t){const n=ma(e),r=nf(n);n.N_.delete(t),r.r_()&&Mh(n,t),0===n.N_.size&&(r.r_()?r.o_():Fh(n)&&n.q_.set("Unknown"))}function Oh(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Da.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}nf(e).A_(t)}function Mh(e,t){e.Q_.xe(t),nf(e).R_(t)}function Ph(e){e.Q_=new Gu({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),nf(e).start(),e.q_.v_()}function Lh(e){return Fh(e)&&!nf(e).n_()&&e.N_.size>0}function Fh(e){return 0===ma(e).L_.size}function jh(e){e.Q_=void 0}async function Uh(e){e.q_.set("Online")}async function zh(e){e.N_.forEach(((t,n)=>{Oh(e,t)}))}async function Vh(e,t){jh(e),Lh(e)?(e.q_.M_(t),Ph(e)):e.q_.set("Unknown")}async function Bh(e,t,n){if(e.q_.set("Online"),t instanceof Wu&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){ca("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await qh(e,n)}else if(t instanceof qu?e.Q_.Ke(t):t instanceof Hu?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Da.min()))try{const t=await rh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(fl.EMPTY_BYTE_STRING,r.snapshotVersion)),Mh(e,t);const i=new Cd(r.target,t,n,r.sequenceNumber);Oh(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ca("RemoteStore","Failed to raise snapshot:",t),await qh(e,t)}}async function qh(e,t,n){if(!Qa(t))throw t;e.L_.add(1),await Ah(e),e.q_.set("Offline"),n||(n=()=>rh(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ca("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Nh(e)}))}function Hh(e,t){return t().catch((n=>qh(e,n,t)))}async function Wh(e){const t=ma(e),n=rf(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Kh(t);)try{const e=await sh(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,Gh(t,e)}catch(e){await qh(t,e)}Qh(t)&&Yh(t)}function Kh(e){return Fh(e)&&e.O_.length<10}function Gh(e,t){e.O_.push(t);const n=rf(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Qh(e){return Fh(e)&&!rf(e).n_()&&e.O_.length>0}function Yh(e){rf(e).start()}async function $h(e){rf(e).p_()}async function Jh(e){const t=rf(e);for(const n of e.O_)t.m_(n.mutations)}async function Xh(e,t,n){const r=e.O_.shift(),i=Iu.from(r,t,n);await Hh(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Wh(e)}async function Zh(e,t){t&&rf(e).V_&&await async function(e,t){if(function(e){return Du(e)&&e!==ga.ABORTED}(t.code)){const n=e.O_.shift();rf(e).s_(),await Hh(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Wh(e)}}(e,t),Qh(e)&&Yh(e)}async function ef(e,t){const n=ma(e);n.asyncQueue.verifyOperationInProgress(),ca("RemoteStore","RemoteStore received new credentials");const r=Fh(n);n.L_.add(3),await Ah(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Nh(n)}async function tf(e,t){const n=ma(e);t?(n.L_.delete(2),await Nh(n)):t||(n.L_.add(2),await Ah(n),n.q_.set("Unknown"))}function nf(e){return e.K_||(e.K_=function(e,t,n){const r=ma(e);return r.w_(),new Eh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:Uh.bind(null,e),Ro:zh.bind(null,e),mo:Vh.bind(null,e),d_:Bh.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),Lh(e)?Ph(e):e.q_.set("Unknown")):(await e.K_.stop(),jh(e))}))),e.K_}function rf(e){return e.U_||(e.U_=function(e,t,n){const r=ma(e);return r.w_(),new xh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:$h.bind(null,e),mo:Zh.bind(null,e),f_:Jh.bind(null,e),g_:Xh.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await Wh(e)):(await e.U_.stop(),e.O_.length>0&&(ca("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))}))),e.U_}class sf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new sf(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ya(ga.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function of(e,t){if(ua("AsyncQueue","".concat(t,": ").concat(e)),Qa(e))return new ya(ga.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class af{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Fa.comparator(t.key,n.key):(e,t)=>Fa.comparator(e.key,t.key),this.keyedMap=jc(),this.sortedSet=new ol(this.comparator)}static emptySet(e){return new af(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof af))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new af;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class lf{constructor(){this.W_=new ol(Fa.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):fa():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class cf{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new cf(e,t,af.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ic(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class uf{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class df{constructor(){this.queries=hf(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=ma(e),r=n.queries;n.queries=hf(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new ya(ga.ABORTED,"Firestore shutting down"))}}function hf(){return new Mc((e=>Cc(e)),Ic)}async function ff(e,t){const n=ma(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new uf,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=of(e,"Initialization of query '".concat(Nc(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&yf(n)}async function pf(e,t){const n=ma(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mf(e,t){const n=ma(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&yf(n)}function gf(e,t,n){const r=ma(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function yf(e){e.Y_.forEach((e=>{e.next()}))}var vf,bf;(bf=vf||(vf={})).ea="default",bf.Cache="cache";class wf{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new cf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=cf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vf.Cache}}class _f{constructor(e){this.key=e}}class Sf{constructor(e){this.key=e}}class kf{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Wc(),this.mutatedKeys=Wc(),this.Aa=Dc(e),this.Ra=new af(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new lf,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Ac(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Aa(u,a)>0||l&&this.Aa(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:o,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fa()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const o=t&&!r?this.ya():[],a=0===this.da.size&&this.current&&!r?1:0,l=a!==this.Ea;return this.Ea=a,0!==s.length||l?{snapshot:new cf(this.query,e.Ra,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new lf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Wc(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new Sf(e))})),this.da.forEach((n=>{e.has(n)||t.push(new _f(n))})),t}ba(e){this.Ta=e.Ts,this.da=Wc();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return cf.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Ef{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class xf{constructor(e){this.key=e,this.va=!1}}class Tf{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Mc((e=>Cc(e)),Ic),this.Ma=new Map,this.xa=new Set,this.Oa=new ol(Fa.comparator),this.Na=new Map,this.La=new Bd,this.Ba={},this.ka=new Map,this.qa=Pd.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function If(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Qf(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Nf(r,t,n,!0),i}async function Cf(e,t){const n=Qf(e);await Nf(n,t,!0,!1)}async function Nf(e,t,n,r){const i=await oh(e.localStore,kc(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Af(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Rh(e.remoteStore,i),a}async function Af(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await lh(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Bf(e,t.targetId,a.wa),a.snapshot}(e,t,n,r);const s=await lh(e.localStore,t,!0),o=new kf(t,s.Ts),a=o.ma(s.documents),l=Bu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);Bf(e,n,c.wa);const u=new Ef(t,n,o);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function Rf(e,t,n){const r=ma(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter((e=>!Ic(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ah(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Dh(r.remoteStore,i.targetId),zf(r,i.targetId)})).catch(Wa)):(zf(r,i.targetId),await ah(r.localStore,i.targetId,!0))}async function Df(e,t){const n=ma(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dh(n.remoteStore,r.targetId))}async function Of(e,t){const n=ma(e);try{const e=await function(e,t){const n=ma(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Ur.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(fl.EMPTY_BYTE_STRING,Da.min()).withLastLimboFreeSnapshotVersion(Da.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Ur.updateTargetData(e,c))}));let a=Lc(),l=Wc();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ih(e,s,t.documentUpdates).next((e=>{a=e.Ps,l=e.Is}))),!r.isEqual(Da.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Ka.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.os=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(pa(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?pa(r.va):e.removedDocuments.size>0&&(pa(r.va),r.va=!1))})),await Wf(n,e,t)}catch(e){await Wa(e)}}function Mf(e,t,n){const r=ma(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=ma(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&yf(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Pf(e,t,n){const r=ma(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new ol(Fa.comparator);e=e.insert(s,ql.newNoDocument(s,Da.min()));const n=Wc().add(s),i=new Vu(Da.min(),new Map,new ol(Na),e,n);await Of(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),Hf(r)}else await ah(r.localStore,t,!1).then((()=>zf(r,t,n))).catch(Wa)}async function Lf(e,t){const n=ma(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ma(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Ka.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);pa(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Wc();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Uf(n,r,null),jf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wf(n,e)}catch(e){await Wa(e)}}async function Ff(e,t,n){const r=ma(e);try{const e=await function(e,t){const n=ma(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(pa(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Uf(r,t,n),jf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Wf(r,e)}catch(n){await Wa(n)}}function jf(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function Uf(e,t,n){const r=ma(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function zf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||Vf(e,t)}))}function Vf(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Dh(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Hf(e))}function Bf(e,t,n){for(const r of n)r instanceof _f?(e.La.addReference(r.key,t),qf(e,r)):r instanceof Sf?(ca("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Vf(e,r.key)):fa()}function qf(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(ca("SyncEngine","New document in limbo: "+n),e.xa.add(r),Hf(e))}function Hf(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Fa(Ma.fromString(t)),r=e.qa.next();e.Na.set(r,new xf(n)),e.Oa=e.Oa.insert(n,r),Rh(e.remoteStore,new Cd(kc(bc(n.path)),r,"TargetPurposeLimboResolution",Ya.oe))}}async function Wf(e,t,n){const r=ma(e),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,a)=>{o.push(r.Ka(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Jd.Wi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Ca.d_(i),await async function(e,t){const n=ma(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ka.forEach(t,(t=>Ka.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Ka.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Qa(e))throw e;ca("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function Kf(e,t){const n=ma(e);if(!n.currentUser.isEqual(t)){ca("SyncEngine","User change. New user:",t.toKey());const e=await nh(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new ya(ga.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Wf(n,e.hs)}}function Gf(e,t){const n=ma(e),r=n.Na.get(t);if(r&&r.va)return Wc().add(r.key);{let e=Wc();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function Qf(e){const t=ma(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Of.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Pf.bind(null,t),t.Ca.d_=mf.bind(null,t.eventManager),t.Ca.$a=gf.bind(null,t.eventManager),t}function Yf(e){const t=ma(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Lf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ff.bind(null,t),t}class $f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_h(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return th(this.persistence,new Zd,e.initialUser,this.serializer)}Ga(e){return new Qd($d.Zr,this.serializer)}Wa(e){return new dh}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$f.provider={build:()=>new $f};class Jf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Mf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kf.bind(null,this.syncEngine),await tf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new df}createDatastore(e){const t=_h(e.databaseInfo.databaseId),n=function(e){return new bh(e)}(e.databaseInfo);return function(e,t,n,r){return new Th(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Ch(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Mf(this.syncEngine,e,0)),fh.D()?new fh:new hh)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Tf(e,t,n,r,i,s);return o&&(a.Qa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ma(e);ca("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Ah(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Jf.provider={build:()=>new Jf};class Xf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ua("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Zf{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=sa.UNAUTHENTICATED,this.clientId=Ca.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{ca("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ca("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=of(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function ep(e,t){e.asyncQueue.verifyOperationInProgress(),ca("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await nh(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function tp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await np(e);ca("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>ef(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ef(t.remoteStore,n))),e._onlineComponents=t}async function np(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ca("FirestoreClient","Using user provided OfflineComponentProvider");try{await ep(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===ga.FAILED_PRECONDITION||e.code===ga.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;da("Error using user provided cache. Falling back to memory cache: "+n),await ep(e,new $f)}}else ca("FirestoreClient","Using default OfflineComponentProvider"),await ep(e,new $f);return e._offlineComponents}async function rp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ca("FirestoreClient","Using user provided OnlineComponentProvider"),await tp(e,e._uninitializedComponentsProvider._online)):(ca("FirestoreClient","Using default OnlineComponentProvider"),await tp(e,new Jf))),e._onlineComponents}function ip(e){return rp(e).then((e=>e.syncEngine))}async function sp(e){const t=await rp(e),n=t.eventManager;return n.onListen=If.bind(null,t.syncEngine),n.onUnlisten=Rf.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Cf.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Df.bind(null,t.syncEngine),n}function op(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new va;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Xf({next:a=>{s.Za(),t.enqueueAndForget((()=>pf(e,o)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new ya(ga.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new ya(ga.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new wf(bc(n.path),s,{includeMetadataChanges:!0,_a:!0});return ff(e,o)}(await sp(e),e.asyncQueue,t,n,r))),r.promise}function ap(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new va;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Xf({next:n=>{s.Za(),t.enqueueAndForget((()=>pf(e,o))),n.fromCache&&"server"===r.source?i.reject(new ya(ga.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new wf(n,s,{includeMetadataChanges:!0,_a:!0});return ff(e,o)}(await sp(e),e.asyncQueue,t,n,r))),r.promise}function lp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const cp=new Map;function up(e,t,n){if(!n)throw new ya(ga.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function dp(e){if(!Fa.isDocumentKey(e))throw new ya(ga.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function hp(e){if(Fa.isDocumentKey(e))throw new ya(ga.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function fp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":fa()}function pp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ya(ga.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fp(e);throw new ya(ga.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class mp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ya(ga.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ya(ga.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ya(ga.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ya(ga.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ya(ga.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ya(ga.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gp{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ya(ga.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ya(ga.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new wa;switch(e.type){case"firstParty":return new Ea(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ya(ga.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=cp.get(e);t&&(ca("ComponentProvider","Removing Datastore"),cp.delete(e),t.terminate())}(this),Promise.resolve()}}function yp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=pp(e,gp))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=sa.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[xt(JSON.stringify({alg:"none",type:"JWT"})),xt(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ya(ga.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new sa(s)}e._authCredentials=new _a(new ba(t,n))}}class vp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new vp(this.firestore,e,this._query)}}class bp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bp(this.firestore,e,this._key)}}class wp extends vp{constructor(e,t,n){super(e,t,bc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bp(this.firestore,null,new Fa(e))}withConverter(e){return new wp(this.firestore,e,this._path)}}function _p(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Gt(e),up("collection","path",t),e instanceof gp){const n=Ma.fromString(t,...r);return hp(n),new wp(e,null,n)}{if(!(e instanceof bp||e instanceof wp))throw new ya(ga.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ma.fromString(t,...r));return hp(n),new wp(e.firestore,null,n)}}function Sp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Gt(e),1===arguments.length&&(t=Ca.newId()),up("doc","path",t),e instanceof gp){const n=Ma.fromString(t,...r);return dp(n),new bp(e,null,new Fa(n))}{if(!(e instanceof bp||e instanceof wp))throw new ya(ga.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ma.fromString(t,...r));return dp(n),new bp(e.firestore,e instanceof wp?e.converter:null,new Fa(n))}}class kp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Sh(this,"async_queue_retry"),this.Vu=()=>{const e=wh();e&&ca("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=wh();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=wh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new va;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch($C){if(!Qa($C))throw $C;ca("AsyncQueue","Operation failed with retryable error: "+$C)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ua("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=sf.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&fa()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Ep(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class xp extends gp{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new kp,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kp(e),this._firestoreClient=void 0,await e}}}function Tp(e,t){const n="string"==typeof e?e:t||"(default)",r=sr("object"==typeof e?e:dr(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=At("firestore");e&&yp(r,...e)}return r}function Ip(e){if(e._terminated)throw new ya(ga.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Cp(e),e._firestoreClient}function Cp(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new _l(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,lp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Zf(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Np{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Np(fl.fromBase64String(e))}catch(e){throw new ya(ga.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Np(fl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ap{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ya(ga.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new La(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rp{constructor(e){this._methodName=e}}class Dp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ya(ga.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ya(ga.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Na(this._lat,e._lat)||Na(this._long,e._long)}}class Op{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Mp=/^__.*__$/;class Pp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new wu(e,this.data,this.fieldMask,t,this.fieldTransforms):new bu(e,this.data,t,this.fieldTransforms)}}class Lp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new wu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Fp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fa()}}class jp{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new jp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return nm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Fp(this.Cu)&&Mp.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Up{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||_h(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new jp({Cu:e,methodName:t,qu:n,path:La.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zp(e){const t=e._freezeSettings(),n=_h(e._databaseId);return new Up(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Vp(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);Xp("Data must be an object, but it was:",o,r);const a=$p(r,o);let l,c;if(s.merge)l=new dl(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Zp(t,r,n);if(!o.contains(i))throw new ya(ga.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));rm(e,i)||e.push(i)}l=new dl(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new Pp(new Vl(a),l,c)}class Bp extends Rp{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Bu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bp}}function qp(e,t,n){return new jp({Cu:3,qu:t.settings.qu,methodName:e._methodName,xu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Hp extends Rp{_toFieldTransform(e){return new cu(e.path,new tu)}isEqual(e){return e instanceof Hp}}class Wp extends Rp{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=qp(this,e,!0),n=this.Ku.map((e=>Yp(e,t))),r=new nu(n);return new cu(e.path,r)}isEqual(e){return e instanceof Wp&&zt(this.Ku,e.Ku)}}function Kp(e,t,n,r){const i=e.Qu(1,t,n);Xp("Data must be an object, but it was:",i,r);const s=[],o=Vl.empty();il(r,((e,r)=>{const a=tm(t,e,n);r=Gt(r);const l=i.Nu(a);if(r instanceof Bp)s.push(a);else{const e=Yp(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new dl(s);return new Lp(o,a,i.fieldTransforms)}function Gp(e,t,n,r,i,s){const o=e.Qu(1,t,n),a=[Zp(t,r,n)],l=[i];if(s.length%2!=0)throw new ya(ga.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)a.push(Zp(t,s[h])),l.push(s[h+1]);const c=[],u=Vl.empty();for(let h=a.length-1;h>=0;--h)if(!rm(c,a[h])){const e=a[h];let t=l[h];t=Gt(t);const n=o.Nu(e);if(t instanceof Bp)c.push(e);else{const r=Yp(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new dl(c);return new Lp(u,d,o.fieldTransforms)}function Qp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Yp(n,e.Qu(r?4:3,t))}function Yp(e,t){if(Jp(e=Gt(e)))return Xp("Unsupported field value:",t,e),$p(e,t);if(e instanceof Rp)return function(e,t){if(!Fp(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Yp(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Gt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return $c(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ra.fromDate(e);return{timestampValue:td(t.serializer,n)}}if(e instanceof Ra){const n=new Ra(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:td(t.serializer,n)}}if(e instanceof Dp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Np)return{bytesValue:nd(t.serializer,e._byteString)};if(e instanceof bp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:sd(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Op)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return Qc(t.serializer,e)}))}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(fp(e)))}(e,t)}function $p(e,t){const n={};return sl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):il(e,((e,r)=>{const i=Yp(r,t.Mu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Jp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ra||e instanceof Dp||e instanceof Np||e instanceof bp||e instanceof Rp||e instanceof Op)}function Xp(e,t,n){if(!Jp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=fp(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function Zp(e,t,n){if((t=Gt(t))instanceof Ap)return t._internalPath;if("string"==typeof t)return tm(e,t);throw nm("Field path arguments must be of type string or ",e,!1,void 0,n)}const em=new RegExp("[~\\*/\\[\\]]");function tm(e,t,n){if(t.search(em)>=0)throw nm("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Ap(...t.split("."))._internalPath}catch(r){throw nm("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function nm(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new ya(ga.INVALID_ARGUMENT,a+e+l)}function rm(e,t){return e.some((e=>e.isEqual(t)))}class im{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(om("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sm extends im{data(){return super.data()}}function om(e,t){return"string"==typeof t?tm(e,t):t instanceof Ap?t._internalPath:t._delegate._internalPath}function am(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ya(ga.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lm{}class cm extends lm{}function um(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof lm&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof hm)).length,n=e.filter((e=>e instanceof dm)).length;if(t>1||t>0&&n>0)throw new ya(ga.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class dm extends cm{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new dm(e,t,n)}_apply(e){const t=this._parse(e);return ym(e._query,t),new vp(e.firestore,e.converter,xc(e._query,t))}_parse(e){const t=zp(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new ya(ga.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){gm(o,s);const t=[];for(const n of o)t.push(mm(r,e,n));a={arrayValue:{values:t}}}else a=mm(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||gm(o,s),a=Qp(n,t,o,"in"===s||"not-in"===s);return $l.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class hm extends lm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hm(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Jl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ym(n,i),n=xc(n,i)}(e._query,t),new vp(e.firestore,e.converter,xc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class fm extends cm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new fm(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ya(ga.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ya(ga.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gl(t,n)}(e._query,this._field,this._direction);return new vp(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new yc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function pm(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=om("orderBy",e);return fm._create(n,t)}function mm(e,t,n){if("string"==typeof(n=Gt(n))){if(""===n)throw new ya(ga.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_c(t)&&-1!==n.indexOf("/"))throw new ya(ga.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Ma.fromString(n));if(!Fa.isDocumentKey(r))throw new ya(ga.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Dl(e,new Fa(r))}if(n instanceof bp)return Dl(e,n._key);throw new ya(ga.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(fp(n),"."))}function gm(e,t){if(!Array.isArray(e)||0===e.length)throw new ya(ga.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function ym(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ya(ga.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ya(ga.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class vm{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(El(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw fa()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return il(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>gl(e.doubleValue)));return new Op(i)}convertGeoPoint(e){return new Dp(gl(e.latitude),gl(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=bl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(wl(e));default:return null}}convertTimestamp(e){const t=ml(e);return new Ra(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ma.fromString(e);pa(Id(n));const r=new Sl(n.get(1),n.get(3)),i=new Fa(n.popFirst(5));return r.isEqual(t)||ua("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function bm(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class wm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _m extends im{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Sm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(om("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Sm extends _m{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class km{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new wm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Sm(this._firestore,this._userDataWriter,n.key,n,new wm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ya(ga.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Sm(e._firestore,e._userDataWriter,n.doc.key,n.doc,new wm(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Sm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Em(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Em(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fa()}}function xm(e){e=pp(e,bp);const t=pp(e.firestore,xp);return op(Ip(t),e._key).then((n=>Mm(t,e,n)))}class Tm extends vm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Np(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bp(this.firestore,null,t)}}function Im(e){e=pp(e,vp);const t=pp(e.firestore,xp),n=Ip(t),r=new Tm(t);return am(e._query),ap(n,e._query).then((n=>new km(t,r,e,n)))}function Cm(e,t,n){e=pp(e,bp);const r=pp(e.firestore,xp),i=bm(e.converter,t,n);return Om(r,[Vp(zp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,du.none())])}function Nm(e,t,n){e=pp(e,bp);const r=pp(e.firestore,xp),i=zp(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=Gt(t))||t instanceof Ap?Gp(i,"updateDoc",e._key,t,n,a):Kp(i,"updateDoc",e._key,t),Om(r,[s.toMutation(e._key,du.exists(!0))])}function Am(e){return Om(pp(e.firestore,xp),[new Eu(e._key,du.none())])}function Rm(e,t){const n=pp(e.firestore,xp),r=Sp(e),i=bm(e.converter,t);return Om(n,[Vp(zp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,du.exists(!1))]).then((()=>r))}function Dm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=Gt(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Ep(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Ep(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,d,h;if(e instanceof bp)d=pp(e.firestore,xp),h=bc(e._key.path),u={next:t=>{n[l]&&n[l](Mm(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=pp(e,vp);d=pp(t.firestore,xp),h=t._query;const r=new Tm(d);u={next:e=>{n[l]&&n[l](new km(d,r,t,e))},error:n[l+1],complete:n[l+2]},am(e._query)}return function(e,t,n,r){const i=new Xf(r),s=new wf(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>ff(await sp(e),s))),()=>{i.Za(),e.asyncQueue.enqueueAndForget((async()=>pf(await sp(e),s)))}}(Ip(d),h,c,u)}function Om(e,t){return function(e,t){const n=new va;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Yf(e);try{const e=await function(e,t){const n=ma(e),r=Ra.now(),i=t.reduce(((e,t)=>e.add(t.key)),Wc());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Lc(),l=Wc();return n.cs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=yu(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new wu(e.key,t,Bl(t.value.mapValue),du.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Uc(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new ol(Na)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Wf(r,e.changes),await Wh(r.remoteStore)}catch(e){const t=of(e,"Failed to persist write");n.reject(t)}}(await ip(e),t,n))),n.promise}(Ip(e),t)}function Mm(e,t,n){const r=n.docs.get(t._key),i=new Tm(e);return new _m(e,i,t._key,r,new wm(n.hasPendingWrites,n.fromCache),t.converter)}function Pm(){return new Hp("serverTimestamp")}function Lm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Wp("arrayUnion",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){oa=e}(cr),ir(new Qt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new xp(new Sa(e.getProvider("auth-internal")),new Ta(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ya(ga.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),hr(ia,"4.7.3",e),hr(ia,"4.7.3","esm2017")}();const Fm=Tp(jo);function jm(){const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),{auth:d}=Bo(),h=pe();return(0,Uo.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:(0,Uo.jsxs)("div",{className:"w-full max-w-md p-8 space-y-6 bg-slate-800 rounded-lg shadow-lg",children:[(0,Uo.jsx)("h2",{className:"text-3xl font-bold text-center text-white",children:"Register"}),a&&(0,Uo.jsx)("p",{className:"p-3 bg-red-500 text-white rounded text-center",children:a}),(0,Uo.jsxs)("form",{onSubmit:async function(t){if(t.preventDefault(),n!==s)return l("Passwords do not match");try{l(""),u(!0);const t=await async function(e,t,n){if(or(e.app))return Promise.reject(Dr(e));const r=ji(e),i=Wi(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ds),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ws(e),t})),o=await hs._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(d,e,n),r=t.user;if(r){const e=Sp(Fm,"users",r.uid);await Cm(e,{email:r.email,createdAt:Pm()}),console.log("User document created in Firestore users collection for UID:",r.uid)}h("/")}catch(r){"auth/email-already-in-use"===r.code?l("This email address is already in use."):"auth/weak-password"===r.code?l("Password should be at least 6 characters."):l("Failed to create an account. Please try again."),console.error("Registration error: ",r)}u(!1)},className:"space-y-6",children:[(0,Uo.jsxs)("div",{children:[(0,Uo.jsx)("label",{className:"text-sm font-bold text-gray-400 block",children:"Email"}),(0,Uo.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full p-3 mt-1 text-gray-200 bg-slate-700 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500"})]}),(0,Uo.jsxs)("div",{children:[(0,Uo.jsx)("label",{className:"text-sm font-bold text-gray-400 block",children:"Password"}),(0,Uo.jsx)("input",{type:"password",value:n,onChange:e=>i(e.target.value),required:!0,placeholder:"At least 6 characters",className:"w-full p-3 mt-1 text-gray-200 bg-slate-700 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500"})]}),(0,Uo.jsxs)("div",{children:[(0,Uo.jsx)("label",{className:"text-sm font-bold text-gray-400 block",children:"Confirm Password"}),(0,Uo.jsx)("input",{type:"password",value:s,onChange:e=>o(e.target.value),required:!0,className:"w-full p-3 mt-1 text-gray-200 bg-slate-700 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500"})]}),(0,Uo.jsx)("button",{disabled:c,type:"submit",className:"w-full py-3 px-4 bg-sky-600 hover:bg-sky-700 rounded-md text-white font-bold transition-colors disabled:opacity-50",children:c?"Registering...":"Register"})]}),(0,Uo.jsxs)("div",{className:"text-center text-gray-400",children:["Already have an account? ",(0,Uo.jsx)(mt,{to:"/login",className:"font-bold text-sky-500 hover:underline",children:"Log In"})]})]})})}function Um(){const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)(""),[a,l]=(0,r.useState)(!1),{auth:c}=Bo(),u=pe(),d=e=>{"auth/user-disabled"===e.code?o("This account has been disabled. Please contact support."):o("Failed to log in. Please check your credentials."),console.error("Login Error:",e)};return(0,Uo.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:(0,Uo.jsxs)("div",{className:"w-full max-w-md p-8 space-y-6 bg-slate-800 rounded-lg shadow-lg",children:[(0,Uo.jsx)("h2",{className:"text-3xl font-bold text-center text-white",children:"Log In"}),s&&(0,Uo.jsx)("p",{className:"p-3 bg-red-500 text-white rounded text-center",children:s}),(0,Uo.jsxs)("form",{onSubmit:async function(t){t.preventDefault();try{o(""),l(!0),await function(e,t,n){return or(e.app)?Promise.reject(Dr(e)):bs(Gt(e),is.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ws(e),t}))}(c,e,n),u("/")}catch(r){d(r)}l(!1)},className:"space-y-6",children:[(0,Uo.jsxs)("div",{children:[(0,Uo.jsx)("label",{className:"text-sm font-bold text-gray-400 block",children:"Email"}),(0,Uo.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full p-3 mt-1 text-gray-200 bg-slate-700 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500"})]}),(0,Uo.jsxs)("div",{children:[(0,Uo.jsx)("label",{className:"text-sm font-bold text-gray-400 block",children:"Password"}),(0,Uo.jsx)("input",{type:"password",value:n,onChange:e=>i(e.target.value),required:!0,className:"w-full p-3 mt-1 text-gray-200 bg-slate-700 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500"})]}),(0,Uo.jsx)("button",{disabled:a,type:"submit",className:"w-full py-3 px-4 bg-sky-600 hover:bg-sky-700 rounded-md text-white font-bold transition-colors disabled:opacity-50",children:a?"Logging In...":"Log In"})]}),(0,Uo.jsxs)("div",{className:"my-4 flex items-center",children:[(0,Uo.jsx)("hr",{className:"w-full border-gray-600"}),(0,Uo.jsx)("span",{className:"p-2 text-gray-400",children:"OR"}),(0,Uo.jsx)("hr",{className:"w-full border-gray-600"})]}),(0,Uo.jsxs)("button",{onClick:async function(){try{o("");const e=new ls;await async function(e,t,n){if(or(e.app))return Promise.reject(Ar(e,"operation-not-supported-in-this-environment"));const r=ji(e);Or(e,t,ss);const i=Ws(r,n);return new Xs(r,"signInViaPopup",t,i).executeNotNull()}(c,e),u("/")}catch(e){d(e)}},className:"w-full py-3 px-4 bg-red-600 hover:bg-red-700 rounded-md text-white font-bold transition-colors flex items-center justify-center",children:[(0,Uo.jsxs)("svg",{className:"w-6 h-6 mr-2",viewBox:"0 0 48 48",children:[(0,Uo.jsx)("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),(0,Uo.jsx)("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),(0,Uo.jsx)("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),(0,Uo.jsx)("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.574l6.19,5.238C42.022,35.244,44,30.036,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign In with Google"]}),(0,Uo.jsxs)("div",{className:"text-center text-gray-400",children:["Need an account? ",(0,Uo.jsx)(mt,{to:"/register",className:"font-bold text-sky-500 hover:underline",children:"Register"})]})]})})}const zm=e=>{let{style:t,className:n}=e;return(0,Uo.jsx)("div",{className:"absolute w-2 h-4 ".concat(n),style:t})};function Vm(e){let{milestone:t,onClose:n}=e;if(!t)return null;const r=Array.from({length:50}).map(((e,t)=>{const n=["bg-yellow-400","bg-green-400","bg-blue-400","bg-red-400","bg-pink-400"],r={left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),transform:"rotate(".concat(360*Math.random(),"deg)"),animation:"fall 2s ease-out ".concat(2*Math.random(),"s forwards"),opacity:0};return(0,Uo.jsx)(zm,{style:r,className:n[t%n.length]},t)}));return(0,Uo.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:[(0,Uo.jsx)("style",{children:"\n          @keyframes fall {\n            0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }\n            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }\n          }\n          @keyframes fadeIn {\n            from { opacity: 0; transform: scale(0.8); }\n            to { opacity: 1; transform: scale(1); }\n          }\n        "}),(0,Uo.jsxs)("div",{className:"relative overflow-hidden bg-slate-800 p-8 rounded-2xl shadow-2xl w-full max-w-md text-center border-2 border-yellow-400 transform transition-all",style:{animation:"fadeIn 0.5s ease-out"},children:[r,(0,Uo.jsxs)("div",{className:"relative z-10",children:[(0,Uo.jsx)("h2",{className:"text-xl font-bold text-yellow-300 uppercase tracking-widest",children:"Congratulations!"}),(0,Uo.jsx)("p",{className:"text-4xl md:text-5xl font-bold text-white my-4",children:t.title}),(0,Uo.jsx)("p",{className:"text-lg text-slate-300",children:"You've reached an incredible milestone. Keep up the amazing work!"}),(0,Uo.jsx)("button",{onClick:()=>{console.log("MilestoneModal: 'Continue' button clicked. Calling onClose prop."),n()},className:"mt-8 w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-4 rounded-lg transition-colors shadow-md hover:shadow-lg",children:"Continue"})]})]})]})}function Bm(e){let{isOpen:t,onClose:n,children:r,title:i}=e;return t?(0,Uo.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:(0,Uo.jsxs)("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow-2xl w-full max-w-md transform transition-all",children:[(0,Uo.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Uo.jsx)("h2",{className:"text-2xl font-semibold text-slate-700",children:i}),(0,Uo.jsx)("button",{onClick:n,className:"text-slate-500 hover:text-slate-700 transition-colors p-1 rounded-full","aria-label":"Close modal",children:(0,Uo.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Uo.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,Uo.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),r]})}):null}function qm(e){let{value:t,label:n,className:r}=e;return(0,Uo.jsxs)("div",{className:"text-center p-4 rounded-lg shadow-lg ".concat(r),children:[(0,Uo.jsx)("div",{className:"text-4xl md:text-6xl font-bold font-mono tracking-tight",children:String(t).padStart(2,"0")}),(0,Uo.jsx)("div",{className:"text-xs md:text-sm uppercase text-white/70 tracking-wider mt-1",children:n})]})}function Hm(e){var t;let{entry:n,onDelete:r}=e;return(0,Uo.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md mb-4 border border-slate-200",children:[(0,Uo.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:null!==(t=n.timestamp)&&void 0!==t&&t.toDate?new Date(n.timestamp.toDate()).toLocaleString():"Date pending..."}),(0,Uo.jsx)("p",{className:"text-slate-700 whitespace-pre-wrap",children:n.text}),r&&(0,Uo.jsx)("button",{onClick:()=>r(n.id),className:"mt-2 text-xs text-red-500 hover:text-red-700 transition-colors",children:"Delete Entry"})]})}const Wm=Tp(jo),Km=[{name:"Great",emoji:"\ud83d\ude04",color:"bg-green-500 hover:bg-green-600",value:"great"},{name:"Good",emoji:"\ud83d\ude0a",color:"bg-sky-500 hover:bg-sky-600",value:"good"},{name:"Okay",emoji:"\ud83d\ude42",color:"bg-yellow-500 hover:bg-yellow-600",value:"okay"},{name:"Anxious",emoji:"\ud83d\ude1f",color:"bg-orange-500 hover:bg-orange-600",value:"anxious"},{name:"Struggling",emoji:"\ud83d\ude25",color:"bg-red-500 hover:bg-red-600",value:"struggling"},{name:"Tempted",emoji:"\ud83d\ude2c",color:"bg-purple-500 hover:bg-purple-600",value:"tempted"}];function Gm(e){let{userId:t,onCheckinSaved:n}=e;const[i,s]=(0,r.useState)(null),[o,a]=(0,r.useState)(""),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)("");return(0,Uo.jsxs)("div",{className:"p-6 bg-slate-700/50 backdrop-blur-sm rounded-xl shadow-xl border border-white/10",children:[(0,Uo.jsx)("h3",{className:"text-xl font-semibold text-sky-300 mb-4",children:"Daily Check-in: How are you feeling today?"}),u&&(0,Uo.jsx)("p",{className:"p-2 mb-3 bg-red-500 text-white rounded text-sm",children:u}),(0,Uo.jsx)("div",{className:"flex flex-wrap justify-center gap-3 mb-6",children:Km.map((e=>(0,Uo.jsx)("button",{onClick:()=>{return t=e.value,void s(t);var t},title:e.name,className:"p-3 rounded-lg text-3xl transition-all duration-150 ease-in-out\n                        ".concat(i===e.value?"ring-4 ring-white ring-offset-2 ring-offset-slate-700 scale-110":"opacity-70 hover:opacity-100"," \n                        ").concat(e.color),children:e.emoji},e.value)))}),(0,Uo.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!i)return void d("Please select a mood.");d(""),c(!0);const r=(()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)})(),l=Sp(Wm,"artifacts/default-sobriety-app/users/".concat(t,"/moodCheckins"),r);try{await Cm(l,{mood:i,note:o.trim(),dateString:r,timestamp:Pm()}),n(),s(null),a("")}catch(u){console.error("Error saving mood check-in:",u),d("Failed to save your check-in. Please try again.")}c(!1)},children:[(0,Uo.jsx)("textarea",{value:o,onChange:e=>a(e.target.value),placeholder:"Add a note about your day (optional)",rows:"3",className:"w-full p-3 mb-4 text-gray-200 bg-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500 border border-slate-500 custom-scrollbar"}),(0,Uo.jsx)("button",{type:"submit",disabled:!i||l,className:"w-full py-3 px-4 bg-green-600 hover:bg-green-700 rounded-md text-white font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Saving...":"Save Check-in"})]})]})}const Qm=Tp(jo),Ym="default-sobriety-app";function $m(){const{currentUser:e,auth:t}=Bo(),[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)(""),[a,l]=(0,r.useState)({years:0,months:0,days:0,hours:0,minutes:0,seconds:0}),[c,d]=(0,r.useState)([]),[h,f]=(0,r.useState)([]),[p,m]=(0,r.useState)(null),[g,y]=(0,r.useState)([]),[v,b]=(0,r.useState)(""),[w,_]=(0,r.useState)(!0),[S,k]=(0,r.useState)(null),[E,x]=(0,r.useState)(!1),[T,I]=(0,r.useState)(!1),[C,N]=(0,r.useState)(0),[A,R]=(0,r.useState)(!1),[D,O]=(0,r.useState)(!0),M=(0,r.useCallback)((e=>{const t=new Date(e),n=new Date;if(isNaN(t.getTime())||t>n)return{years:0,months:0,days:0,hours:0,minutes:0,seconds:0};let r=n.getFullYear()-t.getFullYear(),i=n.getMonth()-t.getMonth(),s=n.getDate()-t.getDate(),o=n.getHours()-t.getHours(),a=n.getMinutes()-t.getMinutes(),l=n.getSeconds()-t.getSeconds();if(l<0&&(l+=60,a--),a<0&&(a+=60,o--),o<0&&(o+=24,s--),s<0){s+=new Date(n.getFullYear(),n.getMonth(),0).getDate(),i--}return i<0&&(i+=12,r--),{years:r,months:i,days:s,hours:o,minutes:a,seconds:l}}),[]);(0,r.useEffect)((()=>{if(!n)return;const e=setInterval((()=>{l(M(n))}),1e3);return()=>clearInterval(e)}),[n,M]),(0,r.useEffect)((()=>{if(!e)return;(async()=>{try{const e=um(_p(Qm,"milestones"),pm("days","asc")),t=await Im(e),n=[];t.forEach((e=>{n.push(u({id:e.id},e.data()))})),d(n)}catch(e){console.error("Error fetching milestones:",e),k("Failed to load milestones configuration.")}})()}),[e]),(0,r.useEffect)((()=>{if(!e||0===c.length)return void _(!1);_(!0);const t=Dm(Sp(Qm,"artifacts/".concat(Ym,"/users/").concat(e.uid,"/sobrietyData/profile")),(e=>{if(e.exists()){const t=e.data(),n=t.achievedMilestones||[];if(f(n),t.startDate){i(t.startDate),o(t.startDate);const e=M(t.startDate);l(e);const r=Math.max(0,Math.floor((new Date-new Date(t.startDate))/864e5));N(r);const s=c.filter((e=>r>=e.days&&!n.includes(e.days)));if(s.length>0){const e=s.sort(((e,t)=>t.days-e.days))[0];(!p||p&&p.days!==e.days)&&m(e)}}else x(!0)}else i(""),x(!0);_(!1)}),(e=>{console.error("Error fetching profile:",e),k("Failed to load sobriety data. "+e.message),_(!1)})),n=Dm(_p(Qm,"artifacts/".concat(Ym,"/users/").concat(e.uid,"/sobrietyData/profile/journalEntries")),(e=>{const t=[];e.forEach((e=>{t.push(u({id:e.id},e.data()))})),t.sort(((e,t)=>{var n,r;return((null===(n=t.timestamp)||void 0===n?void 0:n.toDate())||0)-((null===(r=e.timestamp)||void 0===r?void 0:r.toDate())||0)})),y(t)}),(e=>{console.error("Error fetching journal entries:",e)}));return()=>{t(),n()}}),[e,M,c,p]),(0,r.useEffect)((()=>{if(!e)return void O(!1);(async()=>{O(!0);const t=(()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)})(),n=Sp(Qm,"artifacts/".concat(Ym,"/users/").concat(e.uid,"/moodCheckins"),t);try{const e=await xm(n);R(e.exists())}catch(r){console.error("Error checking for today's check-in:",r),R(!1)}O(!1)})()}),[e]);const P=async t=>{if(Qm&&e&&t&&window.confirm("Are you sure you want to delete this journal entry?"))try{const n=Sp(Qm,"artifacts/".concat(Ym,"/users/").concat(e.uid,"/sobrietyData/profile/journalEntries"),t);await Am(n)}catch($C){console.error("Error deleting journal entry:",$C),k("Failed to delete journal entry. "+$C.message)}},L=w||D;if(L&&!S)return(0,Uo.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex flex-col justify-center items-center p-4 text-white",children:(0,Uo.jsx)("div",{className:"animate-pulse text-2xl font-semibold",children:"Loading Your Journey..."})});if(S)return(0,Uo.jsx)("div",{className:"min-h-screen bg-red-100 flex flex-col justify-center items-center p-4",children:(0,Uo.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-xl text-center",children:[(0,Uo.jsx)("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Oops! Something went wrong."}),(0,Uo.jsx)("p",{className:"text-red-500",children:S})]})});const F=c.map((e=>{const t=h.includes(e.days),n=e.days-C;return u(u({},e),{},{isAchieved:t,daysToGo:t||n<=0?0:n})}));return(0,Uo.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-700 text-white p-4 sm:p-6 md:p-8",children:[(0,Uo.jsx)(Vm,{milestone:p,onClose:async()=>{if(!p||!e)return;const t=Sp(Qm,"artifacts/".concat(Ym,"/users/").concat(e.uid,"/sobrietyData/profile"));try{await Nm(t,{achievedMilestones:Lm(p.days)}),m(null)}catch(S){console.error("Error updating milestones in Firestore:",S),m(null)}}}),(0,Uo.jsxs)("header",{className:"flex justify-between items-center mb-8",children:[(0,Uo.jsx)("h1",{className:"text-2xl sm:text-4xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-green-400 via-emerald-400 to-teal-500",children:"My Sobriety Journey"}),(0,Uo.jsxs)("div",{className:"text-right",children:[e&&(0,Uo.jsx)("p",{className:"text-sm text-slate-300",children:e.email}),(0,Uo.jsx)("button",{onClick:async()=>{try{await t.signOut()}catch(S){console.error("Failed to log out",S)}},className:"text-sm text-sky-400 hover:text-sky-300 transition-colors",children:"Log Out"})]})]}),!n&&!L&&(0,Uo.jsx)("div",{className:"flex justify-center mb-8",children:(0,Uo.jsx)("button",{onClick:()=>x(!0),className:"bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:shadow-lg transition-all text-lg",children:"\u2728 Set Your Sobriety Start Date"})}),n&&(0,Uo.jsxs)(Uo.Fragment,{children:[(0,Uo.jsxs)("div",{className:"mb-8 p-6 bg-slate-800/50 backdrop-blur-sm rounded-xl shadow-2xl border border-white/10",children:[(0,Uo.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Uo.jsx)("h2",{className:"text-2xl font-semibold text-green-400",children:"Time Sober"}),(0,Uo.jsx)("button",{onClick:()=>x(!0),className:"text-sm bg-slate-700 hover:bg-slate-600 text-green-300 py-2 px-4 rounded-md transition-colors",children:"Edit Start Date"})]}),(0,Uo.jsxs)("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 md:gap-4 text-white",children:[(0,Uo.jsx)(qm,{value:a.years,label:"Years",className:"bg-green-600/70"}),(0,Uo.jsx)(qm,{value:a.months,label:"Months",className:"bg-emerald-600/70"}),(0,Uo.jsx)(qm,{value:a.days,label:"Days",className:"bg-teal-600/70"}),(0,Uo.jsx)(qm,{value:a.hours,label:"Hours",className:"bg-cyan-600/70"}),(0,Uo.jsx)(qm,{value:a.minutes,label:"Minutes",className:"bg-sky-600/70"}),(0,Uo.jsx)(qm,{value:a.seconds,label:"Seconds",className:"bg-blue-600/70"})]})]}),n&&!D&&!A&&(0,Uo.jsx)("div",{className:"my-10",children:(0,Uo.jsx)(Gm,{userId:e.uid,onCheckinSaved:()=>{R(!0)}})}),n&&!D&&A&&(0,Uo.jsx)("div",{className:"my-10 p-6 bg-slate-700/50 backdrop-blur-sm rounded-xl shadow-xl border border-white/10 text-center",children:(0,Uo.jsx)("p",{className:"text-lg text-green-400",children:"\ud83d\ude0a You've checked in for today. Great job!"})}),(0,Uo.jsxs)("div",{className:"mt-10 p-6 bg-slate-800 rounded-xl shadow-2xl",children:[(0,Uo.jsx)("h2",{className:"text-2xl font-semibold text-amber-400 mb-6",children:"My Milestones"}),F.length>0?(0,Uo.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:F.map((e=>(0,Uo.jsxs)("div",{className:"p-4 rounded-lg shadow-md transition-all ".concat(e.isAchieved?"bg-green-500/80 border-green-400":"bg-slate-700/60 border-slate-600"," border"),children:[(0,Uo.jsx)("h3",{className:"font-semibold text-lg ".concat(e.isAchieved?"text-white":"text-slate-300"),children:e.title}),e.isAchieved?(0,Uo.jsxs)("p",{className:"text-xs text-white/80 flex items-center mt-1",children:[(0,Uo.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1 text-yellow-300",children:[(0,Uo.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,Uo.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"Achieved!"]}):(0,Uo.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:e.daysToGo>0?"".concat(e.daysToGo," day").concat(e.daysToGo>1?"s":""," to go"):"Coming soon!"})]},e.id||e.days)))}):!w&&(0,Uo.jsx)("p",{className:"text-slate-400 text-center",children:"Milestones are loading or none are defined yet."})]}),(0,Uo.jsxs)("div",{className:"mt-10 p-6 bg-slate-800 rounded-xl shadow-2xl",children:[(0,Uo.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Uo.jsx)("h2",{className:"text-2xl font-semibold text-sky-400",children:"My Journal"}),(0,Uo.jsx)("button",{onClick:()=>I(!0),className:"bg-sky-500 hover:bg-sky-600 text-white font-semibold py-2 px-5 rounded-lg shadow-md hover:shadow-lg transition-all",children:"Add Entry \u270d\ufe0f"})]}),g.length>0?(0,Uo.jsx)("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:g.map((e=>(0,Uo.jsx)(Hm,{entry:e,onDelete:P},e.id)))}):(0,Uo.jsx)("p",{className:"text-slate-400 text-center py-6",children:"No journal entries yet. Start by adding one!"})]})]}),(0,Uo.jsx)(Bm,{isOpen:E,onClose:()=>x(!1),title:"Set Sobriety Start Date",children:(0,Uo.jsxs)("div",{className:"space-y-4",children:[(0,Uo.jsx)("p",{className:"text-slate-600",children:"Select the date you started your sobriety journey."}),(0,Uo.jsx)("input",{type:"date",value:s,onChange:e=>o(e.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none text-slate-700"}),(0,Uo.jsx)("button",{onClick:async()=>{if(Qm&&e&&s)try{const t=Sp(Qm,"artifacts/".concat(Ym,"/users/").concat(e.uid,"/sobrietyData/profile"));await Cm(t,{startDate:s,achievedMilestones:[]},{merge:!0}),x(!1),k(null),m(null)}catch($C){console.error("Error saving start date:",$C),k("Failed to save start date. "+$C.message)}},disabled:!s,className:"w-full bg-green-500 hover:bg-green-600 disabled:bg-slate-300 text-white font-semibold py-3 px-4 rounded-lg transition-colors shadow-md hover:shadow-lg",children:"Save Start Date"})]})}),(0,Uo.jsx)(Bm,{isOpen:T,onClose:()=>I(!1),title:"Add Journal Entry",children:(0,Uo.jsxs)("div",{className:"space-y-4",children:[(0,Uo.jsx)("textarea",{value:v,onChange:e=>b(e.target.value),placeholder:"Write about your thoughts, feelings, or milestones...",rows:"5",className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 outline-none text-slate-700 custom-scrollbar"}),(0,Uo.jsx)("button",{onClick:async()=>{if(Qm&&e&&v.trim())try{const t=_p(Qm,"artifacts/".concat(Ym,"/users/").concat(e.uid,"/sobrietyData/profile/journalEntries"));await Rm(t,{text:v,timestamp:Pm()}),b(""),I(!1),k(null)}catch($C){console.error("Error adding journal entry:",$C),k("Failed to add journal entry. "+$C.message)}},disabled:!v.trim(),className:"w-full bg-sky-500 hover:bg-sky-600 disabled:bg-slate-300 text-white font-semibold py-3 px-4 rounded-lg transition-colors shadow-md hover:shadow-lg",children:"Add to Journal"})]})}),(0,Uo.jsx)("style",{jsx:!0,global:!0,children:"\n              .custom-scrollbar::-webkit-scrollbar { width: 8px; }\n              .custom-scrollbar::-webkit-scrollbar-track { background: #2d3748; }\n              .custom-scrollbar::-webkit-scrollbar-thumb { background: #4a5568; border-radius: 10px; }\n              .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #718096; }\n          "})]})}function Jm(e){let{children:t}=e;const{currentUser:n}=Bo();return n?t:(0,Uo.jsx)(Ae,{to:"/login"})}const Xm=Tp(jo);function Zm(){const{auth:e}=Bo(),[t,n]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[o,a]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null),[y,v]=(0,r.useState)(""),[b,w]=(0,r.useState)(""),[_,S]=(0,r.useState)(!1),[k,E]=(0,r.useState)([]),[x,T]=(0,r.useState)(!0),[I,C]=(0,r.useState)(""),N=(0,r.useCallback)((async()=>{s(!0),a("");try{const e=um(_p(Xm,"milestones"),pm("days","asc")),t=await Im(e),r=[];t.forEach((e=>{r.push(u({id:e.id},e.data()))})),n(r)}catch(e){console.error("Error fetching milestones:",e),a("Failed to load milestones. "+e.message)}s(!1)}),[]),A=(0,r.useCallback)((async()=>{T(!0),C("");try{const e=_p(Xm,"users"),t=await Im(e),n=[];t.forEach((e=>{n.push(u({uid:e.id},e.data()))})),E(n)}catch(e){console.error("Error fetching users:",e),C("Failed to load users. "+e.message)}T(!1)}),[]);(0,r.useEffect)((()=>{N(),A()}),[N,A]);const R=()=>{S(!1),g(null),v(""),w("")};return(0,Uo.jsxs)("div",{className:"min-h-screen bg-slate-800 text-white p-4 md:p-8",children:[(0,Uo.jsxs)("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-10 pb-4 border-b border-slate-700",children:[(0,Uo.jsx)("h1",{className:"text-3xl font-bold text-sky-400 mb-4 sm:mb-0",children:"Admin Panel"}),(0,Uo.jsxs)("div",{children:[(0,Uo.jsx)(mt,{to:"/",className:"text-sky-400 hover:text-sky-300 mr-4 text-sm sm:text-base",children:"Go to App"}),(0,Uo.jsx)("button",{onClick:async()=>{try{await e.signOut()}catch(t){console.error("Failed to log out",t)}},className:"text-sm sm:text-base text-red-400 hover:text-red-300",children:"Log Out"})]})]}),(o||I)&&(0,Uo.jsxs)("p",{className:"p-3 mb-4 bg-red-500 text-white rounded text-center",children:[o," ",o&&I&&(0,Uo.jsx)("br",{})," ",I]}),(0,Uo.jsxs)("div",{className:"bg-slate-700 p-6 rounded-lg shadow-xl mb-10",children:[(0,Uo.jsx)("h2",{className:"text-2xl font-semibold text-white mb-6",children:"Add New Milestone"}),(0,Uo.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!l||!d.trim())return void a("Both 'Days' and 'Title' are required for new milestone.");const t=parseInt(l);if(isNaN(t)||t<=0)a("'Days' must be a positive number for new milestone.");else{p(!0),a("");try{const e=_p(Xm,"milestones");await Rm(e,{days:t,title:d.trim()}),c(""),h(""),await N()}catch(n){console.error("Error adding milestone:",n),a("Failed to add milestone. "+n.message)}p(!1)}},className:"space-y-4",children:[(0,Uo.jsxs)("div",{children:[(0,Uo.jsx)("label",{htmlFor:"milestoneDays",className:"block text-sm font-medium text-slate-300 mb-1",children:"Days (e.g., 7, 30, 365)"}),(0,Uo.jsx)("input",{type:"number",id:"milestoneDays",value:l,onChange:e=>c(e.target.value),placeholder:"Number of days",required:!0,className:"w-full p-3 text-gray-200 bg-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500 border border-slate-500"})]}),(0,Uo.jsxs)("div",{children:[(0,Uo.jsx)("label",{htmlFor:"milestoneTitle",className:"block text-sm font-medium text-slate-300 mb-1",children:'Title (e.g., "1 Week Sober")'}),(0,Uo.jsx)("input",{type:"text",id:"milestoneTitle",value:d,onChange:e=>h(e.target.value),placeholder:"Celebration Title",required:!0,className:"w-full p-3 text-gray-200 bg-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500 border border-slate-500"})]}),(0,Uo.jsx)("button",{type:"submit",disabled:f,className:"w-full sm:w-auto py-2 px-6 bg-green-600 hover:bg-green-700 rounded-md text-white font-semibold transition-colors disabled:opacity-50",children:f?"Adding...":"Add Milestone"})]})]}),(0,Uo.jsxs)("div",{className:"bg-slate-700 p-6 rounded-lg shadow-xl mb-10",children:[(0,Uo.jsx)("h2",{className:"text-2xl font-semibold text-white mb-6",children:"Current Milestones"}),i?(0,Uo.jsx)("p",{className:"text-slate-300",children:"Loading milestones..."}):0!==t.length||o?(0,Uo.jsx)("ul",{className:"space-y-3",children:t.map((e=>(0,Uo.jsxs)("li",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 bg-slate-600 rounded-md border border-slate-500",children:[(0,Uo.jsxs)("div",{className:"mb-2 sm:mb-0",children:[(0,Uo.jsx)("p",{className:"font-semibold text-lg",children:e.title}),(0,Uo.jsxs)("p",{className:"text-sm text-slate-400",children:[e.days," days"]})]}),(0,Uo.jsxs)("div",{className:"flex space-x-2 self-end sm:self-center",children:[(0,Uo.jsx)("button",{onClick:()=>(e=>{g(e),v(String(e.days)),w(e.title),S(!0),a("")})(e),className:"text-xs py-1 px-3 bg-yellow-500 hover:bg-yellow-600 rounded-md text-white font-semibold transition-colors",children:"Edit"}),(0,Uo.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this milestone? This action cannot be undone.")){a("");try{const t=Sp(Xm,"milestones",e);await Am(t),await N()}catch(t){console.error("Error deleting milestone:",t),a("Failed to delete milestone. "+t.message)}}})(e.id),className:"text-xs py-1 px-3 bg-red-600 hover:bg-red-700 rounded-md text-white font-semibold transition-colors",children:"Delete"})]})]},e.id)))}):(0,Uo.jsx)("p",{className:"text-slate-300",children:"No milestones found. Add some using the form above!"})]}),(0,Uo.jsxs)("div",{className:"bg-slate-700 p-6 rounded-lg shadow-xl mt-10",children:[(0,Uo.jsx)("h2",{className:"text-2xl font-semibold text-white mb-6",children:"App Users"}),x?(0,Uo.jsx)("p",{className:"text-slate-300",children:"Loading users..."}):0!==k.length||I?(0,Uo.jsx)("ul",{className:"space-y-3",children:k.map((e=>(0,Uo.jsxs)("li",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 bg-slate-600 rounded-md border border-slate-500",children:[(0,Uo.jsxs)("div",{className:"mb-2 sm:mb-0",children:[(0,Uo.jsx)("p",{className:"font-semibold text-lg",children:e.email||"No email provided"}),(0,Uo.jsxs)("p",{className:"text-xs text-slate-400",children:["UID: ",e.uid]})]}),(0,Uo.jsx)(mt,{to:"/admin/user/".concat(e.uid),className:"text-xs py-1 px-3 bg-sky-600 hover:bg-sky-700 rounded-md text-white font-semibold transition-colors self-end sm:self-center",children:"View Details"})]},e.uid)))}):(0,Uo.jsx)("p",{className:"text-slate-300",children:"No users found in the 'users' collection. Ensure you have a top-level 'users' collection where each document ID is the user's UID and contains at least an 'email' field."})]}),m&&(0,Uo.jsx)(Bm,{isOpen:_,onClose:R,title:"Edit Milestone",children:(0,Uo.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!m||!y||!b.trim())return void a("Both 'Days' and 'Title' are required for editing.");const t=parseInt(y);if(isNaN(t)||t<=0)a("'Days' must be a positive number for editing.");else{p(!0),a("");try{const e=Sp(Xm,"milestones",m.id);await Nm(e,{days:t,title:b.trim()}),await N(),R()}catch(n){console.error("Error updating milestone:",n),a("Failed to update milestone. "+n.message)}p(!1)}},className:"space-y-4",children:[(0,Uo.jsxs)("div",{children:[(0,Uo.jsx)("label",{htmlFor:"editMilestoneDays",className:"block text-sm font-medium text-slate-700 mb-1",children:"Days"}),(0,Uo.jsx)("input",{type:"number",id:"editMilestoneDays",value:y,onChange:e=>v(e.target.value),required:!0,className:"w-full p-3 text-gray-700 bg-slate-50 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500 border border-slate-300"})]}),(0,Uo.jsxs)("div",{children:[(0,Uo.jsx)("label",{htmlFor:"editMilestoneTitle",className:"block text-sm font-medium text-slate-700 mb-1",children:"Title"}),(0,Uo.jsx)("input",{type:"text",id:"editMilestoneTitle",value:b,onChange:e=>w(e.target.value),required:!0,className:"w-full p-3 text-gray-700 bg-slate-50 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500 border border-slate-300"})]}),(0,Uo.jsxs)("div",{className:"flex justify-end space-x-3 pt-2",children:[(0,Uo.jsx)("button",{type:"button",onClick:R,className:"py-2 px-4 bg-slate-500 hover:bg-slate-600 rounded-md text-white font-semibold transition-colors",children:"Cancel"}),(0,Uo.jsx)("button",{type:"submit",disabled:f,className:"py-2 px-4 bg-sky-600 hover:bg-sky-700 rounded-md text-white font-semibold transition-colors disabled:opacity-50",children:f?"Saving...":"Save Changes"})]})]})})]})}function eg(e){let{children:t}=e;const{currentUser:n,isAdmin:r}=Bo();return n?r?t:(0,Uo.jsx)(Ae,{to:"/"}):(0,Uo.jsx)(Ae,{to:"/login"})}function tg(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function ng(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((e=>ng(e)));if("function"===typeof e||"object"===typeof e)return tg(e,(e=>ng(e)));throw new Error("Data cannot be encoded in JSON: "+e)}function rg(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((e=>rg(e))):"function"===typeof e||"object"===typeof e?tg(e,(e=>rg(e))):e}const ig="functions",sg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class og extends Ft{constructor(e,t,n){super("".concat(ig,"/").concat(e),t||""),this.details=n}}class ag{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((e=>this.auth=e),(()=>{})),this.messaging||t.get().then((e=>this.messaging=e),(()=>{})),this.appCheck||n.get().then((e=>this.appCheck=e),(()=>{}))}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null===e||void 0===e?void 0:e.accessToken}catch($C){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch($C){return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const lg="us-central1";class cg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:lg,s=arguments.length>5?arguments[5]:void 0;this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new ag(t,n,r),this.cancelAllRequests=new Promise((e=>{this.deleteService=()=>Promise.resolve(e())}));try{const e=new URL(i);this.customDomain=e.origin+("/"===e.pathname?"":e.pathname),this.region=lg}catch($C){this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){const n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}function ug(e,t,n){return r=>function(e,t,n,r){const i=e._url(t);return hg(e,i,n,r)}(e,t,r,n||{})}async function dg(e,t,n,r){let i;n["Content-Type"]="application/json";try{i=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch($C){return{status:0,json:null}}let s=null;try{s=await i.json()}catch($C){}return{status:i.status,json:s}}async function hg(e,t,n,r){const i={data:n=ng(n)},s={},o=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),null!==o.appCheckToken&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=function(e){let t=null;return{promise:new Promise(((n,r)=>{t=setTimeout((()=>{r(new og("deadline-exceeded","deadline-exceeded"))}),e)})),cancel:()=>{t&&clearTimeout(t)}}}(r.timeout||7e4),l=await Promise.race([dg(t,i,s,e.fetchImpl),a.promise,e.cancelAllRequests]);if(a.cancel(),!l)throw new og("cancelled","Firebase Functions instance was deleted.");const c=function(e,t){let n,r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r;try{const e=t&&t.error;if(e){const t=e.status;if("string"===typeof t){if(!sg[t])return new og("internal","internal");r=sg[t],i=t}const s=e.message;"string"===typeof s&&(i=s),n=e.details,void 0!==n&&(n=rg(n))}}catch($C){}return"ok"===r?null:new og(r,i,n)}(l.status,l.json);if(c)throw c;if(!l.json)throw new og("internal","Response is not valid JSON object.");let u=l.json.data;if("undefined"===typeof u&&(u=l.json.result),"undefined"===typeof u)throw new og("internal","Response is missing data field.");return{data:rg(u)}}const fg="@firebase/functions",pg="0.11.8";!function(e,t){ir(new Qt(ig,((t,n)=>{let{instanceIdentifier:r}=n;const i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),o=t.getProvider("messaging-internal"),a=t.getProvider("app-check-internal");return new cg(i,s,o,a,r,e)}),"PUBLIC").setMultipleInstances(!0)),hr(fg,pg,t),hr(fg,pg,"esm2017")}(fetch.bind(self));const mg=Tp(jo),gg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lg;const n=sr(Gt(e),ig).getImmediate({identifier:t}),r=At("functions");return r&&function(e,t,n){!function(e,t,n){e.emulatorOrigin="http://".concat(t,":").concat(n)}(Gt(e),t,n)}(n,...r),n}(jo),yg="default-sobriety-app";function vg(){var e;const{viewUserId:t}=me(),{isAdmin:n}=Bo(),[i,s]=(0,r.useState)(null),[o,a]=(0,r.useState)(null),[l,c]=(0,r.useState)([]),[d,h]=(0,r.useState)(!0),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),[y,v]=(0,r.useState)(!1);(0,r.useEffect)((()=>{if(!t)return p("No user ID provided in URL."),void h(!1);h(!0),p(""),g("");let e=!0;const n=(async()=>{try{const n=Sp(mg,"users",t),r=await xm(n);e&&r.exists()?s(u({uid:r.id},r.data())):e&&(console.warn("User document not found in 'users' collection for UID:",t),s({uid:t,email:"N/A (No /users doc)",isDisabledByAdmin:!1}));const i=Sp(mg,"artifacts/".concat(yg,"/users/").concat(t,"/sobrietyData/profile")),o=await xm(i);e&&o.exists()?a(o.data()):e&&a(null);const l=_p(mg,"artifacts/".concat(yg,"/users/").concat(t,"/sobrietyData/profile/journalEntries")),d=Dm(um(l,pm("timestamp","desc")),(t=>{if(!e)return;const n=[];t.forEach((e=>{n.push(u({id:e.id},e.data()))})),c(n),h(!1)}),(t=>{e&&(console.error("Error fetching journal entries:",t),p((e=>e+" Failed to load journal entries.")),h(!1))}));return()=>{d()}}catch(n){if(!e)return;console.error("Error fetching user details:",n),p("Failed to load some user details. "+n.message),h(!1)}})();return()=>{e=!1,"function"===typeof n&&n()}}),[t]);const b=async e=>{if(!i)return;const t=e?"disable":"enable";if(window.confirm("Are you sure you want to ".concat(t," this user's account? This will update their Firebase Authentication status."))){v(!0),g(""),p("");try{const o=(n="toggleUserActivation",ug(Gt(gg),n,r)),a=await o({uid:i.uid,disable:e});if(a.data.success){g(String(a.data.message));const e=Sp(mg,"users",i.uid),t=await xm(e);t.exists()&&s(u({uid:t.id},t.data()))}else p(String(a.data.message)||"Failed to ".concat(t," user."))}catch(o){console.error("Error calling toggleUserActivation for user ".concat(i.uid,":"),o),p("Failed to ".concat(t," user: ").concat(o.message))}var n,r;v(!1)}};if(d)return(0,Uo.jsx)("div",{className:"min-h-screen bg-slate-900 text-white p-8 text-center",children:"Loading user details..."});if(!i&&!d)return(0,Uo.jsxs)("div",{className:"min-h-screen bg-slate-900 text-white p-8 text-center",children:["User main data record not found for UID: ",t,". Please ensure a document exists in the top-level 'users' collection."]});if(f&&(!i||!o))return(0,Uo.jsxs)("div",{className:"min-h-screen bg-slate-900 text-white p-8",children:[(0,Uo.jsx)(mt,{to:"/admin",className:"text-sky-400 hover:text-sky-300 mb-4 inline-block",children:"\u2190 Back to Admin Panel"}),(0,Uo.jsx)("p",{className:"text-center text-red-400",children:f})]});const w=!0===(null===i||void 0===i?void 0:i.isDisabledByAdmin);return(0,Uo.jsxs)("div",{className:"min-h-screen bg-slate-900 text-white p-4 md:p-8",children:[(0,Uo.jsxs)("header",{className:"mb-8 pb-4 border-b border-slate-700",children:[(0,Uo.jsx)(mt,{to:"/admin",className:"text-sky-400 hover:text-sky-300 mb-4 inline-block",children:"\u2190 Back to Admin Panel"}),(0,Uo.jsxs)("h1",{className:"text-3xl font-bold text-sky-400",children:["User Details: ",(null===i||void 0===i?void 0:i.email)||t]})]}),f&&(0,Uo.jsx)("p",{className:"p-3 my-4 bg-yellow-600/80 text-white rounded text-center text-sm",children:f}),m&&(0,Uo.jsx)("p",{className:"p-3 my-4 bg-green-600/80 text-white rounded text-center text-sm",children:m}),(0,Uo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Uo.jsxs)("div",{className:"bg-slate-800 p-6 rounded-lg shadow-xl",children:[(0,Uo.jsx)("h2",{className:"text-xl font-semibold text-green-400 mb-3",children:"Sobriety Profile"}),o?(0,Uo.jsxs)(Uo.Fragment,{children:[(0,Uo.jsxs)("p",{children:[(0,Uo.jsx)("strong",{className:"text-slate-400",children:"Sobriety Start Date:"})," ",o.startDate?new Date(o.startDate).toLocaleDateString():"Not set"]}),(0,Uo.jsxs)("p",{children:[(0,Uo.jsx)("strong",{className:"text-slate-400",children:"Achieved Milestones (Days):"})," ",(o.achievedMilestones||[]).join(", ")||"None yet"]})]}):(0,Uo.jsx)("p",{className:"text-slate-400",children:"No sobriety profile data found (e.g., start date not set by user)."})]}),(0,Uo.jsxs)("div",{className:"bg-slate-800 p-6 rounded-lg shadow-xl",children:[(0,Uo.jsx)("h2",{className:"text-xl font-semibold text-sky-400 mb-3",children:"User Information"}),i&&(0,Uo.jsxs)("p",{children:[(0,Uo.jsx)("strong",{className:"text-slate-400",children:"Email:"})," ",i.email]}),(0,Uo.jsxs)("p",{children:[(0,Uo.jsx)("strong",{className:"text-slate-400",children:"User ID (UID):"})," ",t]}),(null===i||void 0===i||null===(e=i.createdAt)||void 0===e?void 0:e.toDate)&&(0,Uo.jsxs)("p",{children:[(0,Uo.jsx)("strong",{className:"text-slate-400",children:"Registered On (from /users):"})," ",i.createdAt.toDate().toLocaleString()]}),(0,Uo.jsxs)("p",{children:[(0,Uo.jsx)("strong",{className:"text-slate-400",children:"Account Status (Firestore Flag):"}),(0,Uo.jsx)("span",{className:w?"text-red-400 font-semibold":"text-green-400 font-semibold",children:w?" Disabled by Admin":" Enabled"})]})]})]}),(0,Uo.jsxs)("div",{className:"mt-10 bg-slate-800 p-6 rounded-lg shadow-xl",children:[(0,Uo.jsxs)("h2",{className:"text-xl font-semibold text-amber-400 mb-3",children:["Journal Entries (",l.length,")"]}),l.length>0?(0,Uo.jsx)("ul",{className:"space-y-3 max-h-96 overflow-y-auto custom-scrollbar pr-2",children:l.map((e=>{var t;return(0,Uo.jsxs)("li",{className:"p-3 bg-slate-700 rounded-md border border-slate-600",children:[(0,Uo.jsx)("p",{className:"text-xs text-slate-400 mb-1",children:null!==(t=e.timestamp)&&void 0!==t&&t.toDate?e.timestamp.toDate().toLocaleString():"Date missing"}),(0,Uo.jsx)("p",{className:"text-slate-200 whitespace-pre-wrap",children:e.text})]},e.id)}))}):(0,Uo.jsx)("p",{className:"text-slate-400",children:"No journal entries found for this user."})]}),n&&(0,Uo.jsxs)("div",{className:"mt-10 p-6 bg-slate-700/50 rounded-lg shadow-xl border border-yellow-500/50",children:[(0,Uo.jsx)("h2",{className:"text-xl font-semibold text-yellow-400 mb-4",children:"Admin Actions"}),(0,Uo.jsxs)("div",{className:"space-y-3 sm:space-y-0 sm:flex sm:space-x-3",children:[w?(0,Uo.jsx)("button",{onClick:()=>b(!1),disabled:y,className:"w-full sm:w-auto py-2 px-4 bg-green-600 hover:bg-green-700 text-white rounded-md font-semibold transition-colors disabled:opacity-50",children:y?"Processing...":"Enable User Account"}):(0,Uo.jsx)("button",{onClick:()=>b(!0),disabled:y,className:"w-full sm:w-auto py-2 px-4 bg-red-600 hover:bg-red-700 text-white rounded-md font-semibold transition-colors disabled:opacity-50",children:y?"Processing...":"Deactivate User Account"}),(0,Uo.jsx)("button",{onClick:()=>{i&&i.email&&"N/A (No /users doc)"!==i.email?window.confirm("This will trigger a password reset email to ".concat(i.email," via Firebase Authentication. Continue?"))&&(g(""),p(""),v(!0),console.log("ADMIN ACTION: Would call Cloud Function to trigger password reset for ".concat(i.email,".")),g("Password reset email would be initiated for ".concat(i.email," (Simulated - requires Cloud Function for real action).")),v(!1)):p("User email not available to send password reset.")},disabled:y,className:"w-full sm:w-auto py-2 px-4 bg-sky-600 hover:bg-sky-700 text-white rounded-md font-semibold transition-colors disabled:opacity-50",children:"Send Password Reset Email (Simulated)"})]}),(0,Uo.jsx)("p",{className:"text-xs text-slate-400 mt-4",children:"Note: Account activation/deactivation now calls a Cloud Function to update Firebase Auth. Password reset is still simulated."})]}),(0,Uo.jsx)("style",{jsx:!0,global:!0,children:"\n                .custom-scrollbar::-webkit-scrollbar { width: 8px; }\n                .custom-scrollbar::-webkit-scrollbar-track { background: #1e293b; } \n                .custom-scrollbar::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; } \n                .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #475569; } \n            "})]})}const bg="9.24.0",wg=globalThis;function _g(){return Sg(wg),wg}function Sg(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||bg,t[bg]=t[bg]||{}}function kg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wg;const r=n.__SENTRY__=n.__SENTRY__||{},i=r[bg]=r[bg]||{};return i[e]||(i[e]=t())}const Eg="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,xg=Object.prototype.toString;function Tg(e){switch(xg.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Lg(e,Error)}}function Ig(e,t){return xg.call(e)==="[object ".concat(t,"]")}function Cg(e){return Ig(e,"ErrorEvent")}function Ng(e){return Ig(e,"DOMError")}function Ag(e){return Ig(e,"String")}function Rg(e){return"object"===typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Dg(e){return null===e||Rg(e)||"object"!==typeof e&&"function"!==typeof e}function Og(e){return Ig(e,"Object")}function Mg(e){return"undefined"!==typeof Event&&Lg(e,Event)}function Pg(e){return Boolean((null===e||void 0===e?void 0:e.then)&&"function"===typeof e.then)}function Lg(e,t){try{return e instanceof t}catch(Fc){return!1}}function Fg(e){return!("object"!==typeof e||null===e||!e.__isVue&&!e._isVue)}function jg(e){return"undefined"!==typeof Request&&Lg(e,Request)}const Ug=wg;function zg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&s++<r&&(c=Vg(n,u),!("html"===c||s>1&&o+i.length*l+c.length>=d));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(a)}catch(n){return"<unknown>"}}function Vg(e,t){const n=e,r=[];if(null===n||void 0===n||!n.tagName)return"";if(Ug.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=null!==t&&void 0!==t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(null!==i&&void 0!==i&&i.length)i.forEach((e=>{r.push("[".concat(e[0],'="').concat(e[1],'"]'))}));else{n.id&&r.push("#".concat(n.id));const e=n.className;if(e&&Ag(e)){const t=e.split(/\s+/);for(const e of t)r.push(".".concat(e))}}const s=["aria-label","type","name","title","alt"];for(const o of s){const e=n.getAttribute(o);e&&r.push("[".concat(o,'="').concat(e,'"]'))}return r.join("")}function Bg(){try{return Ug.document.location.href}catch(e){return""}}function qg(e){if(!Ug.HTMLElement)return null;let t=e;for(let n=0;n<5;n++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}const Hg=["debug","info","warn","error","log","assert","trace"],Wg={};function Kg(e){if(!("console"in wg))return e();const t=wg.console,n={},r=Object.keys(Wg);r.forEach((e=>{const r=Wg[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const Gg=kg("logger",(function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Eg?Hg.forEach((n=>{t[n]=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e&&Kg((()=>{wg.console[n]("".concat("Sentry Logger ","[").concat(n,"]:"),...r)}))}})):Hg.forEach((e=>{t[e]=()=>{}})),t}));function Qg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!==typeof e||0===t||e.length<=t?e:"".concat(e.slice(0,t),"...")}function Yg(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const t=e[r];try{Fg(t)?n.push("[VueViewModel]"):n.push(String(t))}catch($C){n.push("[value cannot be serialized]")}}return n.join(t)}function $g(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!Ag(e)&&(Ig(t,"RegExp")?t.test(e):!!Ag(t)&&(n?e===t:e.includes(t)))}function Jg(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some((n=>$g(e,n,t)))}function Xg(e,t,n){if(!(t in e))return;const r=e[t];if("function"!==typeof r)return;const i=n(r);"function"===typeof i&&ey(i,r);try{e[t]=i}catch(s){Eg&&Gg.log('Failed to replace method "'.concat(t,'" in object'),e)}}function Zg(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(r){Eg&&Gg.log('Failed to add non-enumerable property "'.concat(t,'" to object'),e)}}function ey(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Zg(e,"__sentry_original__",t)}catch(n){}}function ty(e){return e.__sentry_original__}function ny(e){if(Tg(e))return u({message:e.message,name:e.name,stack:e.stack},iy(e));if(Mg(e)){const t=u({type:e.type,target:ry(e.target),currentTarget:ry(e.currentTarget)},iy(e));return"undefined"!==typeof CustomEvent&&Lg(e,CustomEvent)&&(t.detail=e.detail),t}return e}function ry(e){try{return t=e,"undefined"!==typeof Element&&Lg(t,Element)?zg(e):Object.prototype.toString.call(e)}catch(n){return"<unknown>"}var t}function iy(e){if("object"===typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function sy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){const e=wg;return e.crypto||e.msCrypto}(),t=()=>16*Math.random();try{if(null!==e&&void 0!==e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");null!==e&&void 0!==e&&e.getRandomValues&&(t=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(n){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&t())>>e/4).toString(16)))}function oy(e){var t;return null===(t=e.exception)||void 0===t||null===(t=t.values)||void 0===t?void 0:t[0]}function ay(e){const{message:t,event_id:n}=e;if(t)return t;const r=oy(e);return r?r.type&&r.value?"".concat(r.type,": ").concat(r.value):r.type||r.value||n||"<unknown>":n||"<unknown>"}function ly(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function cy(e,t){const n=oy(e);if(!n)return;const r=n.mechanism;if(n.mechanism=u(u(u({},{type:"generic",handled:!0}),r),t),t&&"data"in t){const e=u(u({},null===r||void 0===r?void 0:r.data),t.data);n.mechanism.data=e}}function uy(e){if(function(e){try{return e.__sentry_captured__}catch(t){}}(e))return!0;try{Zg(e,"__sentry_captured__",!0)}catch(t){}return!1}function dy(){return Date.now()/1e3}const hy=function(){const{performance:e}=wg;if(null===e||void 0===e||!e.now)return dy;const t=Date.now()-e.now(),n=void 0==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}();let fy;function py(){return fy||(fy=function(){var e;const{performance:t}=wg;if(null===t||void 0===t||!t.now)return[void 0,"none"];const n=36e5,r=t.now(),i=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+r-i):n,o=s<n,a=null===(e=t.timing)||void 0===e?void 0:e.navigationStart,l="number"===typeof a?Math.abs(a+r-i):n;return o||l<n?s<=l?[t.timeOrigin,"timeOrigin"]:[a,"navigationStart"]:[i,"dateNow"]}()),fy[0]}function my(e){const t=hy(),n={sid:sy(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return{sid:"".concat(e.sid),init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"===typeof e.did||"string"===typeof e.did?"".concat(e.did):void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}(n)};return e&&gy(n,e),n}function gy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||hy(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:sy()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did="".concat(t.did)),"number"===typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"===typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"===typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function yy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!t||"object"!==typeof t||n<=0)return t;if(e&&0===Object.keys(t).length)return e;const r=u({},e);for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=yy(r[i],t[i],n-1));return r}const vy="_sentrySpan";function by(e,t){t?Zg(e,vy,t):delete e[vy]}function wy(e){return e[vy]}function _y(){return sy()}function Sy(){return sy().substring(16)}class ky{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:_y(),sampleRand:Math.random()}}clone(){const e=new ky;return e._breadcrumbs=[...this._breadcrumbs],e._tags=u({},this._tags),e._extra=u({},this._extra),e._contexts=u({},this._contexts),this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata=u({},this._sdkProcessingMetadata),e._propagationContext=u({},this._propagationContext),e._client=this._client,e._lastEventId=this._lastEventId,by(e,wy(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&gy(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags=u(u({},this._tags),e),this._notifyScopeListeners(),this}setTag(e,t){return this._tags=u(u({},this._tags),{},{[e]:t}),this._notifyScopeListeners(),this}setExtras(e){return this._extra=u(u({},this._extra),e),this._notifyScopeListeners(),this}setExtra(e,t){return this._extra=u(u({},this._extra),{},{[e]:t}),this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"===typeof e?e(this):e,n=t instanceof ky?t.getScopeData():Og(t)?e:void 0,{tags:r,extra:i,user:s,contexts:o,level:a,fingerprint:l=[],propagationContext:c}=n||{};return this._tags=u(u({},this._tags),r),this._extra=u(u({},this._extra),i),this._contexts=u(u({},this._contexts),o),s&&Object.keys(s).length&&(this._user=s),a&&(this._level=a),l.length&&(this._fingerprint=l),c&&(this._propagationContext=c),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,by(this,void 0),this._attachments=[],this.setPropagationContext({traceId:_y(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const n="number"===typeof t?t:100;if(n<=0)return this;const r=u(u({timestamp:dy()},e),{},{message:e.message?Qg(e.message,2048):e.message});var i;(this._breadcrumbs.push(r),this._breadcrumbs.length>n)&&(this._breadcrumbs=this._breadcrumbs.slice(-n),null===(i=this._client)||void 0===i||i.recordDroppedEvent("buffer_overflow","log_item"));return this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:wy(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=yy(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=(null===t||void 0===t?void 0:t.event_id)||sy();if(!this._client)return Gg.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,u(u({originalException:e,syntheticException:r},t),{},{event_id:n}),this),n}captureMessage(e,t,n){const r=(null===n||void 0===n?void 0:n.event_id)||sy();if(!this._client)return Gg.warn("No client configured on scope - will not capture message!"),r;const i=new Error(e);return this._client.captureMessage(e,t,u(u({originalException:e,syntheticException:i},n),{},{event_id:r}),this),r}captureEvent(e,t){const n=(null===t||void 0===t?void 0:t.event_id)||sy();return this._client?(this._client.captureEvent(e,u(u({},t),{},{event_id:n}),this),n):(Gg.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}class Ey{constructor(e,t){let n,r;n=e||new ky,r=t||new ky,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch($C){throw this._popScope(),$C}return Pg(n)?n.then((e=>(this._popScope(),e)),(e=>{throw this._popScope(),e})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function xy(){const e=Sg(_g());return e.stack=e.stack||new Ey(kg("defaultCurrentScope",(()=>new ky)),kg("defaultIsolationScope",(()=>new ky)))}function Ty(e){return xy().withScope(e)}function Iy(e,t){const n=xy();return n.withScope((()=>(n.getStackTop().scope=e,t(e))))}function Cy(e){return xy().withScope((()=>e(xy().getIsolationScope())))}function Ny(e){const t=Sg(e);return t.acs?t.acs:{withIsolationScope:Cy,withScope:Ty,withSetScope:Iy,withSetIsolationScope:(e,t)=>Cy(t),getCurrentScope:()=>xy().getScope(),getIsolationScope:()=>xy().getIsolationScope()}}function Ay(){return Ny(_g()).getCurrentScope()}function Ry(){return Ny(_g()).getIsolationScope()}function Dy(){const e=Ny(_g());for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(2===n.length){const[t,r]=n;return t?e.withSetScope(t,r):e.withScope(r)}return e.withScope(n[0])}function Oy(){return Ay().getClient()}function My(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:i}=t,s={trace_id:n,span_id:i||Sy()};return r&&(s.parent_span_id=r),s}const Py="sentry.source",Ly="sentry.sample_rate",Fy="sentry.previous_trace_sample_rate",jy="sentry.op",Uy="sentry.origin",zy="sentry.idle_span_finish_reason",Vy="sentry.measurement_unit",By="sentry.measurement_value",qy="sentry.custom_span_name",Hy="sentry.profile_id",Wy="sentry.exclusive_time",Ky="sentry.link.type";function Gy(e){var t;if("boolean"===typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const n=e||(null===(t=Oy())||void 0===t?void 0:t.getOptions());return!!n&&(null!=n.tracesSampleRate||!!n.tracesSampler)}function Qy(e,t){e.setAttribute("http.response.status_code",t);const n=function(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}(t);"unknown_error"!==n.message&&e.setStatus(n)}const Yy="_sentryScope",$y="_sentryIsolationScope";function Jy(e){return{scope:e[Yy],isolationScope:e[$y]}}function Xy(e){if("boolean"===typeof e)return Number(e);const t="string"===typeof e?parseFloat(e):e;return"number"!==typeof t||isNaN(t)||t<0||t>1?void 0:t}const Zy="sentry-",ev=/^sentry-/;function tv(e){const t=function(e){if(!e||!Ag(e)&&!Array.isArray(e))return;if(Array.isArray(e))return e.reduce(((e,t)=>{const n=rv(t);return Object.entries(n).forEach((t=>{let[n,r]=t;e[n]=r})),e}),{});return rv(e)}(e);if(!t)return;const n=Object.entries(t).reduce(((e,t)=>{let[n,r]=t;if(n.match(ev)){e[n.slice(7)]=r}return e}),{});return Object.keys(n).length>0?n:void 0}function nv(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,t,n)=>{let[r,i]=t;const s="".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(i)),o=0===n?s:"".concat(e,",").concat(s);return o.length>8192?(Eg&&Gg.warn("Not adding key: ".concat(r," with val: ").concat(i," to baggage header due to exceeding baggage size limits.")),e):o}),"")}(Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return r&&(e["".concat(Zy).concat(n)]=r),e}),{}))}function rv(e){return e.split(",").map((e=>e.split("=").map((e=>{try{return decodeURIComponent(e.trim())}catch(t){return}})))).reduce(((e,t)=>{let[n,r]=t;return n&&r&&(e[n]=r),e}),{})}const iv=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function sv(e,t){const n=function(e){if(!e)return;const t=e.match(iv);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}(e),r=tv(t);if(null===n||void 0===n||!n.traceId)return{traceId:_y(),sampleRand:Math.random()};const i=function(e,t){const n=Xy(null===t||void 0===t?void 0:t.sample_rand);if(void 0!==n)return n;const r=Xy(null===t||void 0===t?void 0:t.sample_rate);return r&&void 0!==(null===e||void 0===e?void 0:e.parentSampled)?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}(n,r);r&&(r.sample_rand=i.toString());const{traceId:s,parentSpanId:o,parentSampled:a}=n;return{traceId:s,parentSpanId:o,sampled:a,dsc:r||{},sampleRand:i}}function ov(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_y(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sy(),n=arguments.length>2?arguments[2]:void 0,r="";return void 0!==n&&(r=n?"-1":"-0"),"".concat(e,"-").concat(t).concat(r)}const av=["spanId","traceId","traceFlags"];let lv=!1;function cv(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,origin:a,links:l}=pv(e);return{parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:o,origin:a,links:l}}function uv(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:pv(e).parent_span_id,s=Jy(e).scope;return{parent_span_id:i,span_id:r?(null===s||void 0===s?void 0:s.getPropagationContext().propagationSpanId)||Sy():t,trace_id:n}}function dv(e){return e&&e.length>0?e.map((e=>{let{context:{spanId:t,traceId:n,traceFlags:r},attributes:i}=e;return u({span_id:t,trace_id:n,sampled:1===r,attributes:i},s(e.context,av))})):void 0}function hv(e){return"number"===typeof e?fv(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?fv(e.getTime()):hy()}function fv(e){return e>9999999999?e/1e3:e}function pv(e){if(function(e){return"function"===typeof e.getSpanJSON}(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(function(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}(e)){var r;const{attributes:i,startTime:s,name:o,endTime:a,status:l,links:c}=e;return{span_id:t,trace_id:n,data:i,description:o,parent_span_id:"parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?null===(r=e.parentSpanContext)||void 0===r?void 0:r.spanId:void 0,start_timestamp:hv(s),timestamp:hv(a)||void 0,status:gv(l),op:i[jy],origin:i[Uy],links:dv(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function mv(e){const{traceFlags:t}=e.spanContext();return 1===t}function gv(e){if(e&&0!==e.code)return 1===e.code?"ok":e.message||"unknown_error"}const yv="_sentryChildSpans",vv="_sentryRootSpan";function bv(e,t){const n=e[vv]||e;Zg(t,vv,n),e[yv]?e[yv].add(t):Zg(e,yv,new Set([t]))}function wv(e){const t=new Set;return function e(n){if(!t.has(n)&&mv(n)){t.add(n);const r=n[yv]?Array.from(n[yv]):[];for(const t of r)e(t)}}(e),Array.from(t)}function _v(e){return e[vv]||e}function Sv(){const e=Ny(_g());return e.getActiveSpan?e.getActiveSpan():wy(Ay())}function kv(){lv||(Kg((()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")})),lv=!0)}const Ev="production",xv=/^o(\d+)\./,Tv=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Iv(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:l}=e;return"".concat(a,"://").concat(l).concat(t&&i?":".concat(i):"")+"@".concat(n).concat(s?":".concat(s):"","/").concat(r?"".concat(r,"/"):r).concat(o)}function Cv(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Nv(e){const t="string"===typeof e?function(e){const t=Tv.exec(e);if(!t)return void Kg((()=>{console.error("Invalid Sentry Dsn: ".concat(e))}));const[n,r,i="",s="",o="",a=""]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const e=c.match(/^\d+/);e&&(c=e[0])}return Cv({host:s,pass:i,path:l,projectId:c,port:o,protocol:n,publicKey:r})}(e):Cv(e);if(t&&function(e){if(!Eg)return!0;const{port:t,projectId:n,protocol:r}=e;return!["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(Gg.error("Invalid Sentry Dsn: ".concat(t," missing")),!0)))&&(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?!t||!isNaN(parseInt(t,10))||(Gg.error("Invalid Sentry Dsn: Invalid port ".concat(t)),!1):(Gg.error("Invalid Sentry Dsn: Invalid protocol ".concat(r)),!1):(Gg.error("Invalid Sentry Dsn: Invalid projectId ".concat(n)),!1))}(t))return t}const Av="_frozenDsc";function Rv(e,t){Zg(e,Av,t)}function Dv(e,t){const n=t.getOptions(),{publicKey:r,host:i}=t.getDsn()||{};let s;n.orgId?s=String(n.orgId):i&&(s=function(e){const t=e.match(xv);return null===t||void 0===t?void 0:t[1]}(i));const o={environment:n.environment||Ev,release:n.release,public_key:r,trace_id:e,org_id:s};return t.emit("createDsc",o),o}function Ov(e,t){const n=t.getPropagationContext();return n.dsc||Dv(n.traceId,e)}function Mv(e){var t,n;const r=Oy();if(!r)return{};const i=_v(e),s=pv(i),o=s.data,a=i.spanContext().traceState,l=null!==(t=null!==(n=null===a||void 0===a?void 0:a.get("sentry.sample_rate"))&&void 0!==n?n:o[Ly])&&void 0!==t?t:o[Fy];function c(e){return"number"!==typeof l&&"string"!==typeof l||(e.sample_rate="".concat(l)),e}const u=i[Av];if(u)return c(u);const d=null===a||void 0===a?void 0:a.get("sentry.dsc"),h=d&&tv(d);if(h)return c(h);const f=Dv(e.spanContext().traceId,r),p=o[Py],m=s.description;var g,y;("url"!==p&&m&&(f.transaction=m),Gy())&&(f.sampled=String(mv(i)),f.sample_rand=null!==(g=null===a||void 0===a?void 0:a.get("sentry.sample_rand"))&&void 0!==g?g:null===(y=Jy(i).scope)||void 0===y?void 0:y.getPropagationContext().sampleRand.toString());return c(f),r.emit("createDsc",f,i),f}class Pv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._traceId=e.traceId||_y(),this._spanId=e.spanId||Sy()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}}const Lv="?",Fv=/\(error: (.*)\)/,jv=/captureMessage|captureException/;function Uv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=[],s=e.split("\n");for(let o=t;o<s.length;o++){const e=s[o];if(e.length>1024)continue;const t=Fv.test(e)?e.replace(Fv,"$1"):e;if(!t.match(/\S*Error: /)){for(const e of r){const n=e(t);if(n){i.push(n);break}}if(i.length>=50+n)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(zv(t).function||"")&&t.pop();t.reverse(),jv.test(zv(t).function||"")&&(t.pop(),jv.test(zv(t).function||"")&&t.pop());return t.slice(0,50).map((e=>u(u({},e),{},{filename:e.filename||zv(t).filename,function:e.function||Lv})))}(i.slice(n))}}function zv(e){return e[e.length-1]||{}}const Vv="<anonymous>";function Bv(e){try{return e&&"function"===typeof e&&e.name||Vv}catch($C){return Vv}}function qv(e){const t=e.exception;if(t){const e=[];try{return t.values.forEach((t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)})),e}catch(n){return}}}function Hv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;try{return Kv("",e,t,n)}catch(r){return{ERROR:"**non-serializable** (".concat(r,")")}}}function Wv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:102400;const r=Hv(e,t);return i=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>n?Wv(e,t-1,n):r;var i}function Kv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){const e=new WeakSet;function t(t){return!!e.has(t)||(e.add(t),!1)}function n(t){e.delete(t)}return[t,n]}();const[s,o]=i;if(null==t||["boolean","string"].includes(typeof t)||"number"===typeof t&&Number.isFinite(t))return t;const a=function(e,t){try{if("domain"===e&&t&&"object"===typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!==typeof global&&t===global)return"[Global]";if("undefined"!==typeof window&&t===window)return"[Window]";if("undefined"!==typeof document&&t===document)return"[Document]";if(Fg(t))return"[VueViewModel]";if(Og(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"===typeof t&&!Number.isFinite(t))return"[".concat(t,"]");if("function"===typeof t)return"[Function: ".concat(Bv(t),"]");if("symbol"===typeof t)return"[".concat(String(t),"]");if("bigint"===typeof t)return"[BigInt: ".concat(String(t),"]");const r=function(e){const t=Object.getPrototypeOf(e);return null!==t&&void 0!==t&&t.constructor?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(r)?"[HTMLElement: ".concat(r,"]"):"[object ".concat(r,"]")}catch(r){return"**non-serializable** (".concat(r,")")}var n}(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l="number"===typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===l)return a.replace("object ","");if(s(t))return"[Circular ~]";const c=t;if(c&&"function"===typeof c.toJSON)try{return Kv("",c.toJSON(),l-1,r,i)}catch(f){}const u=Array.isArray(t)?[]:{};let d=0;const h=ny(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(d>=r){u[p]="[MaxProperties ~]";break}const e=h[p];u[p]=Kv(p,e,l-1,r,i),d++}return o(t),u}function Gv(e){return[e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]]}function Qv(e,t){const[n,r]=e;return[n,[...r,t]]}function Yv(e,t){const n=e[1];for(const r of n){if(t(r,r[0].type))return!0}return!1}function $v(e){const t=Sg(wg);return t.encodePolyfill?t.encodePolyfill(e):(new TextEncoder).encode(e)}function Jv(e){const[t,n]=e;let r=JSON.stringify(t);function i(e){"string"===typeof r?r="string"===typeof e?r+e:[$v(r),e]:r.push("string"===typeof e?$v(e):e)}for(const s of n){const[e,t]=s;if(i("\n".concat(JSON.stringify(e),"\n")),"string"===typeof t||t instanceof Uint8Array)i(t);else{let e;try{e=JSON.stringify(t)}catch($C){e=JSON.stringify(Hv(t))}i(e)}}return"string"===typeof r?r:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}(r)}function Xv(e){return[{type:"span"},e]}function Zv(e){const t="string"===typeof e.data?$v(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const eb={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function tb(e){return eb[e]}function nb(e){if(null===e||void 0===e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function rb(e,t,n,r){var i;const s=null===(i=e.sdkProcessingMetadata)||void 0===i?void 0:i.dynamicSamplingContext;return u(u(u({event_id:e.event_id,sent_at:(new Date).toISOString()},t&&{sdk:t}),!!n&&r&&{dsn:Iv(r)}),s&&{trace:s})}function ib(e){if(!e||0===e.length)return;const t={};return e.forEach((e=>{const n=e.attributes||{},r=n[Vy],i=n[By];"string"===typeof r&&"number"===typeof i&&(t[e.name]={value:i,unit:r})})),t}class sb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._traceId=e.traceId||_y(),this._spanId=e.spanId||Sy(),this._startTime=e.startTimestamp||hy(),this._links=e.links,this._attributes={},this.setAttributes(u({[Uy]:"manual",[jy]:e.op},e.attributes)),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,t){}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?1:0}}setAttribute(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach((t=>this.setAttribute(t,e[t]))),this}updateStartTime(e){this._startTime=hv(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Py,"custom"),this}end(e){this._endTime||(this._endTime=hv(e),function(e){if(!Eg)return;const{description:t="< unknown name >",op:n="< unknown op >"}=pv(e),{spanId:r}=e.spanContext(),i=_v(e)===e,s='[Tracing] Finishing "'.concat(n,'" ').concat(i?"root ":"",'span "').concat(t,'" with ID ').concat(r);Gg.log(s)}(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[jy],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:gv(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Uy],profile_id:this._attributes[Hy],exclusive_time:this._attributes[Wy],measurements:ib(this._events),is_segment:this._isStandaloneSpan&&_v(this)===this||void 0,segment_id:this._isStandaloneSpan?_v(this).spanContext().spanId:void 0,links:dv(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){Eg&&Gg.log("[Tracing] Adding an event to span:",e);const r=ob(t)?t:n||hy(),i=ob(t)?{}:t||{},s={name:e,time:hv(r),attributes:i};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=Oy();e&&e.emit("spanEnd",this);if(!(this._isStandaloneSpan||this===_v(this)))return;if(this._isStandaloneSpan)return void(this._sampled?function(e){const t=Oy();if(!t)return;const n=e[1];if(!n||0===n.length)return void t.recordDroppedEvent("before_send","span");t.sendEnvelope(e)}(function(e,t){const n=Mv(e[0]),r=null===t||void 0===t?void 0:t.getDsn(),i=null===t||void 0===t?void 0:t.getOptions().tunnel,s=u(u({sent_at:(new Date).toISOString()},function(e){return!!e.trace_id&&!!e.public_key}(n)&&{trace:n}),!!i&&r&&{dsn:Iv(r)}),o=null===t||void 0===t?void 0:t.getOptions().beforeSendSpan,a=o?e=>{const t=pv(e);return o(t)||(kv(),t)}:pv,l=[];for(const c of e){const e=a(c);e&&l.push(Xv(e))}return Gv(s,l)}([this],e)):(Eg&&Gg.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span")));const t=this._convertSpanToTransaction();if(t){(Jy(this).scope||Ay()).captureEvent(t)}}_convertSpanToTransaction(){var e;if(!ab(pv(this)))return;this._name||(Eg&&Gg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=Jy(this),r=null===t||void 0===t||null===(e=t.getScopeData().sdkProcessingMetadata)||void 0===e?void 0:e.normalizedRequest;if(!0!==this._sampled)return;const i=wv(this).filter((e=>e!==this&&!function(e){return e instanceof sb&&e.isStandaloneSpan()}(e))).map((e=>pv(e))).filter(ab),s=this._attributes[Py];delete this._attributes[qy],i.forEach((e=>{delete e.data[qy]}));const o=u({contexts:{trace:cv(this)},spans:i.length>1e3?i.sort(((e,t)=>e.start_timestamp-t.start_timestamp)).slice(0,1e3):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:Mv(this)},request:r},s&&{transaction_info:{source:s}}),a=ib(this._events);return a&&Object.keys(a).length&&(Eg&&Gg.log("[Measurements] Adding measurements to transaction event",JSON.stringify(a,void 0,2)),o.measurements=a),o}}function ob(e){return e&&"number"===typeof e||e instanceof Date||Array.isArray(e)}function ab(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}const lb="__SENTRY_SUPPRESS_TRACING__";function cb(e){const t=fb();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=hb(e),{forceTransaction:r,parentSpan:i}=e,s=e.scope?t=>Dy(e.scope,t):void 0!==i?e=>ub(i,e):e=>e();return s((()=>{const t=Ay(),i=mb(t);return e.onlyIfParent&&!i?new Pv:db({parentSpan:i,spanArguments:n,forceTransaction:r,scope:t})}))}function ub(e,t){const n=fb();return n.withActiveSpan?n.withActiveSpan(e,t):Dy((n=>(by(n,e||void 0),t(n))))}function db(e){let{parentSpan:t,spanArguments:n,forceTransaction:r,scope:i}=e;if(!Gy()){const e=new Pv;if(r||!t){Rv(e,u({sampled:"false",sample_rate:"0",transaction:n.name},Mv(e)))}return e}const s=Ry();let o;if(t&&!r)o=function(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=!t.getScopeData().sdkProcessingMetadata[lb]&&mv(e),o=s?new sb(u(u({},n),{},{parentSpanId:r,traceId:i,sampled:s})):new Pv({traceId:i});bv(e,o);const a=Oy();a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o));return o}(t,i,n),bv(t,o);else if(t){const e=Mv(t),{traceId:r,spanId:s}=t.spanContext(),a=mv(t);o=pb(u({traceId:r,parentSpanId:s},n),i,a),Rv(o,e)}else{const{traceId:e,dsc:t,parentSpanId:r,sampled:a}=u(u({},s.getPropagationContext()),i.getPropagationContext());o=pb(u({traceId:e,parentSpanId:r},n),i,a),t&&Rv(o,t)}return function(e){if(!Eg)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=pv(e),{spanId:i}=e.spanContext(),s=mv(e),o=_v(e),a=o===e,l="[Tracing] Starting ".concat(s?"sampled":"unsampled"," ").concat(a?"root ":"","span"),c=["op: ".concat(n),"name: ".concat(t),"ID: ".concat(i)];if(r&&c.push("parent ID: ".concat(r)),!a){const{op:e,description:t}=pv(o);c.push("root ID: ".concat(o.spanContext().spanId)),e&&c.push("root op: ".concat(e)),t&&c.push("root description: ".concat(t))}Gg.log("".concat(l,"\n  ").concat(c.join("\n  ")))}(o),function(e,t,n){e&&(Zg(e,$y,n),Zg(e,Yy,t))}(o,i,s),o}function hb(e){const t=u({isStandalone:(e.experimental||{}).standalone},e);if(e.startTime){const n=u({},t);return n.startTimestamp=hv(e.startTime),delete n.startTime,n}return t}function fb(){return Ny(_g())}function pb(e,t,n){var r,i;const s=Oy(),o=(null===s||void 0===s?void 0:s.getOptions())||{},{name:a=""}=e,l={spanAttributes:u({},e.attributes),spanName:a,parentSampled:n};null===s||void 0===s||s.emit("beforeSampling",l,{decision:!1});const c=null!==(r=l.parentSampled)&&void 0!==r?r:n,d=l.spanAttributes,h=t.getPropagationContext(),[f,p,m]=t.getScopeData().sdkProcessingMetadata[lb]?[!1]:function(e,t,n){if(!Gy(e))return[!1];let r,i;"function"===typeof e.tracesSampler?(i=e.tracesSampler(u(u({},t),{},{inheritOrSampleWith:e=>"number"===typeof t.parentSampleRate?t.parentSampleRate:"boolean"===typeof t.parentSampled?Number(t.parentSampled):e})),r=!0):void 0!==t.parentSampled?i=t.parentSampled:"undefined"!==typeof e.tracesSampleRate&&(i=e.tracesSampleRate,r=!0);const s=Xy(i);if(void 0===s)return Eg&&Gg.warn("[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ".concat(JSON.stringify(i)," of type ").concat(JSON.stringify(typeof i),".")),[!1];if(!s)return Eg&&Gg.log("[Tracing] Discarding transaction because ".concat("function"===typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,s,r];const o=n<s;return o||Eg&&Gg.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ".concat(Number(i),")")),[o,s,r]}(o,{name:a,parentSampled:c,attributes:d,parentSampleRate:Xy(null===(i=h.dsc)||void 0===i?void 0:i.sample_rate)},h.sampleRand),g=new sb(u(u({},e),{},{attributes:u({[Py]:"custom",[Ly]:void 0!==p&&m?p:void 0},d),sampled:f}));return!f&&s&&(Eg&&Gg.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),s.recordDroppedEvent("sample_rate","transaction")),s&&s.emit("spanStart",g),g}function mb(e){const t=wy(e);if(!t)return;const n=Oy();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?_v(t):t}const gb={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function yb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new Map;let r,i=!1,s="externalFinish",o=!t.disableAutoFinish;const a=[],{idleTimeout:l=gb.idleTimeout,finalTimeout:c=gb.finalTimeout,childSpanTimeout:d=gb.childSpanTimeout,beforeSpanEnd:h}=t,f=Oy();if(!f||!Gy()){const e=new Pv;return Rv(e,u({sample_rate:"0",sampled:"false"},Mv(e))),e}const p=Ay(),m=Sv(),g=function(e){const t=cb(e);return by(Ay(),t),Eg&&Gg.log("[Tracing] Started span is an idle span"),t}(e);function y(){r&&(clearTimeout(r),r=void 0)}function v(e){y(),r=setTimeout((()=>{!i&&0===n.size&&o&&(s="idleTimeout",g.end(e))}),l)}function b(e){r=setTimeout((()=>{!i&&o&&(s="heartbeatFailed",g.end(e))}),d)}function w(e){i=!0,n.clear(),a.forEach((e=>e())),by(p,m);const t=pv(g),{start_timestamp:r}=t;if(!r)return;t.data[zy]||g.setAttribute(zy,s),Gg.log('[Tracing] Idle span "'.concat(t.op,'" finished'));const o=wv(g).filter((e=>e!==g));let u=0;o.forEach((t=>{t.isRecording()&&(t.setStatus({code:2,message:"cancelled"}),t.end(e),Eg&&Gg.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));const n=pv(t),{timestamp:r=0,start_timestamp:i=0}=n,s=i<=e,o=r-i<=(c+l)/1e3;if(Eg){const e=JSON.stringify(t,void 0,2);s?o||Gg.log("[Tracing] Discarding span since it finished after idle span final timeout",e):Gg.log("[Tracing] Discarding span since it happened after idle span was finished",e)}o&&s||(!function(e,t){e[yv]&&e[yv].delete(t)}(g,t),u++)})),u>0&&g.setAttribute("sentry.idle_span_discarded_spans",u)}return g.end=new Proxy(g.end,{apply(e,t,n){if(h&&h(g),t instanceof Pv)return;const[r,...i]=n,s=hv(r||hy()),o=wv(g).filter((e=>e!==g));if(!o.length)return w(s),Reflect.apply(e,t,[s,...i]);const a=o.map((e=>pv(e).timestamp)).filter((e=>!!e)),l=a.length?Math.max(...a):void 0,u=pv(g).start_timestamp,d=Math.min(u?u+c/1e3:1/0,Math.max(u||-1/0,Math.min(s,l||1/0)));return w(d),Reflect.apply(e,t,[d,...i])}}),a.push(f.on("spanStart",(e=>{if(i||e===g||pv(e).timestamp)return;var t;wv(g).includes(e)&&(t=e.spanContext().spanId,y(),n.set(t,!0),b(hy()+d/1e3))}))),a.push(f.on("spanEnd",(e=>{var t;i||(t=e.spanContext().spanId,n.has(t)&&n.delete(t),0===n.size&&v(hy()+l/1e3))}))),a.push(f.on("idleSpanEnableAutoFinish",(e=>{e===g&&(o=!0,v(),n.size&&b())}))),t.disableAutoFinish||v(),setTimeout((()=>{i||(g.setStatus({code:2,message:"deadline_exceeded"}),s="finalTimeout",g.end())}),c),g}const vb={},bb={};function wb(e,t){vb[e]=vb[e]||[],vb[e].push(t)}function _b(e,t){if(!bb[e]){bb[e]=!0;try{t()}catch($C){Eg&&Gg.error("Error while instrumenting ".concat(e),$C)}}}function Sb(e,t){const n=e&&vb[e];if(n)for(const r of n)try{r(t)}catch($C){Eg&&Gg.error("Error while triggering instrumentation handler.\nType: ".concat(e,"\nName: ").concat(Bv(r),"\nError:"),$C)}}let kb=null;function Eb(e){const t="error";wb(t,e),_b(t,xb)}function xb(){kb=wg.onerror,wg.onerror=function(e,t,n,r,i){return Sb("error",{column:r,error:i,line:n,msg:e,url:t}),!!kb&&kb.apply(this,arguments)},wg.onerror.__SENTRY_INSTRUMENTED__=!0}let Tb=null;function Ib(e){const t="unhandledrejection";wb(t,e),_b(t,Cb)}function Cb(){Tb=wg.onunhandledrejection,wg.onunhandledrejection=function(e){return Sb("unhandledrejection",e),!Tb||Tb.apply(this,arguments)},wg.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}let Nb=!1;function Ab(){const e=Sv(),t=e&&_v(e);if(t){const e="internal_error";Eg&&Gg.log("[Tracing] Root span: ".concat(e," -> Global error occurred")),t.setStatus({code:2,message:e})}}Ab.tag="sentry_tracingErrorCallback";function Rb(e){return"isRelative"in e}function Db(e,t){const n=e.indexOf("://")<=0&&0!==e.indexOf("//"),r=null!==t&&void 0!==t?t:n?"thismessage:/":void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const t=new URL(e,r);return n?{isRelative:n,pathname:t.pathname,search:t.search,hash:t.hash}:t}catch(i){}}function Ob(e){if(Rb(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Mb(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const Pb=wg,Lb="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Fb=(e,t,n,r)=>{let i,s;return o=>{t.value>=0&&(o||r)&&(s=t.value-(i||0),(s||void 0===i)&&(i=t.value,t.delta=s,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,n),e(t)))}},jb=function(){var e,t;let n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const r=null===(e=Pb.performance)||void 0===e||null===(t=e.getEntriesByType)||void 0===t?void 0:t.call(e,"navigation")[0];if(!n||r&&r.responseStart>0&&r.responseStart<performance.now())return r},Ub=()=>{const e=jb();return(null===e||void 0===e?void 0:e.activationStart)||0},zb=(e,t)=>{const n=jb();let r="navigate";var i,s;n&&(null!==(i=Pb.document)&&void 0!==i&&i.prerendering||Ub()>0?r="prerender":null!==(s=Pb.document)&&void 0!==s&&s.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-")));return{name:e,value:"undefined"===typeof t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},Vb=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{Promise.resolve().then((()=>{t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch($C){}},Bb=e=>{const t=t=>{var n;"pagehide"!==t.type&&"hidden"!==(null===(n=Pb.document)||void 0===n?void 0:n.visibilityState)||e(t)};Pb.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},qb=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let Hb=-1;const Wb=e=>{"hidden"===Pb.document.visibilityState&&Hb>-1&&(Hb="visibilitychange"===e.type?e.timeStamp:0,Kb())},Kb=()=>{removeEventListener("visibilitychange",Wb,!0),removeEventListener("prerenderingchange",Wb,!0)},Gb=()=>(Pb.document&&Hb<0&&(Hb="hidden"!==Pb.document.visibilityState||Pb.document.prerendering?1/0:0,addEventListener("visibilitychange",Wb,!0),addEventListener("prerenderingchange",Wb,!0)),{get firstHiddenTime(){return Hb}}),Qb=e=>{var t;null!==(t=Pb.document)&&void 0!==t&&t.prerendering?addEventListener("prerenderingchange",(()=>e()),!0):e()},Yb=[1800,3e3],$b=[.1,.25],Jb=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Qb((()=>{const n=Gb(),r=zb("FCP");let i;const s=Vb("paint",(e=>{e.forEach((e=>{"first-contentful-paint"===e.name&&(s.disconnect(),e.startTime<n.firstHiddenTime&&(r.value=Math.max(e.startTime-Ub(),0),r.entries.push(e),i(!0)))}))}));s&&(i=Fb(e,r,Yb,t.reportAllChanges))}))}(qb((()=>{const n=zb("CLS",0);let r,i=0,s=[];const o=e=>{e.forEach((e=>{if(!e.hadRecentInput){const t=s[0],n=s[s.length-1];i&&t&&n&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,s.push(e)):(i=e.value,s=[e])}})),i>n.value&&(n.value=i,n.entries=s,r())},a=Vb("layout-shift",o);a&&(r=Fb(e,n,$b,t.reportAllChanges),Bb((()=>{o(a.takeRecords()),r(!0)})),setTimeout(r,0))})))},Xb=[100,300];let Zb=0,ew=1/0,tw=0;const nw=e=>{e.forEach((e=>{e.interactionId&&(ew=Math.min(ew,e.interactionId),tw=Math.max(tw,e.interactionId),Zb=tw?(tw-ew)/7+1:0)}))};let rw;const iw=()=>{"interactionCount"in performance||rw||(rw=Vb("event",nw,{type:"event",buffered:!0,durationThreshold:0}))},sw=[],ow=new Map;const aw=()=>(rw?Zb:performance.interactionCount||0)-0,lw=[],cw=e=>{if(lw.forEach((t=>t(e))),!e.interactionId&&"first-input"!==e.entryType)return;const t=sw[sw.length-1],n=ow.get(e.interactionId);if(n||sw.length<10||t&&e.duration>t.latency){if(n){var r;e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===(null===(r=n.entries[0])||void 0===r?void 0:r.startTime)&&n.entries.push(e)}else{const t={id:e.interactionId,latency:e.duration,entries:[e]};ow.set(t.id,t),sw.push(t)}sw.sort(((e,t)=>t.latency-e.latency)),sw.length>10&&sw.splice(10).forEach((e=>ow.delete(e.id)))}},uw=e=>{var t;const n=Pb.requestIdleCallback||Pb.setTimeout;let r=-1;return e=qb(e),"hidden"===(null===(t=Pb.document)||void 0===t?void 0:t.visibilityState)?e():(r=n(e),Bb(e)),r},dw=[200,500],hw=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"PerformanceEventTiming"in Pb&&"interactionId"in PerformanceEventTiming.prototype&&Qb((()=>{iw();const n=zb("INP");let r;const i=e=>{uw((()=>{e.forEach(cw);const t=(()=>{const e=Math.min(sw.length-1,Math.floor(aw()/50));return sw[e]})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())}))},s=Vb("event",i,{durationThreshold:null!=t.durationThreshold?t.durationThreshold:40});r=Fb(e,n,dw,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),Bb((()=>{i(s.takeRecords()),r(!0)})))}))},fw=[2500,4e3],pw={},mw=[800,1800],gw=e=>{var t,n;null!==(t=Pb.document)&&void 0!==t&&t.prerendering?Qb((()=>gw(e))):"complete"!==(null===(n=Pb.document)||void 0===n?void 0:n.readyState)?addEventListener("load",(()=>gw(e)),!0):setTimeout(e,0)},yw={},vw={};let bw,ww,_w,Sw,kw;function Ew(e){return Pw("cls",e,Aw,bw,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function xw(e){return Pw("lcp",e,Dw,_w,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function Tw(e){return Pw("fid",e,Rw,ww)}function Iw(e){return Pw("inp",e,Mw,kw)}function Cw(e,t){return Lw(e,t),vw[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);Vb(e,(t=>{Nw(e,{entries:t})}),t)}(e),vw[e]=!0),Fw(e,t)}function Nw(e,t){const n=yw[e];if(null!==n&&void 0!==n&&n.length)for(const r of n)try{r(t)}catch($C){Lb&&Gg.error("Error while triggering instrumentation handler.\nType: ".concat(e,"\nName: ").concat(Bv(r),"\nError:"),$C)}}function Aw(){return Jb((e=>{Nw("cls",{metric:e}),bw=e}),{reportAllChanges:!0})}function Rw(){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Qb((()=>{const n=Gb(),r=zb("FID");let i;const s=e=>{e.startTime<n.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),i(!0))},o=e=>{e.forEach(s)},a=Vb("first-input",o);i=Fb(e,r,Xb,t.reportAllChanges),a&&Bb(qb((()=>{o(a.takeRecords()),a.disconnect()})))}))}((e=>{Nw("fid",{metric:e}),ww=e}))}function Dw(){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Qb((()=>{const n=Gb(),r=zb("LCP");let i;const s=e=>{t.reportAllChanges||(e=e.slice(-1)),e.forEach((e=>{e.startTime<n.firstHiddenTime&&(r.value=Math.max(e.startTime-Ub(),0),r.entries=[e],i())}))},o=Vb("largest-contentful-paint",s);if(o){i=Fb(e,r,fw,t.reportAllChanges);const n=qb((()=>{pw[r.id]||(s(o.takeRecords()),o.disconnect(),pw[r.id]=!0,i(!0))}));["keydown","click"].forEach((e=>{Pb.document&&addEventListener(e,(()=>uw(n)),{once:!0,capture:!0})})),Bb(n)}}))}((e=>{Nw("lcp",{metric:e}),_w=e}),{reportAllChanges:!0})}function Ow(){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=zb("TTFB"),r=Fb(e,n,mw,t.reportAllChanges);gw((()=>{const e=jb();e&&(n.value=Math.max(e.responseStart-Ub(),0),n.entries=[e],r(!0))}))}((e=>{Nw("ttfb",{metric:e}),Sw=e}))}function Mw(){return hw((e=>{Nw("inp",{metric:e}),kw=e}))}function Pw(e,t,n,r){let i,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return Lw(e,t),vw[e]||(i=n(),vw[e]=!0),r&&t({metric:r}),Fw(e,t,s?i:void 0)}function Lw(e,t){yw[e]=yw[e]||[],yw[e].push(t)}function Fw(e,t,n){return()=>{n&&n();const r=yw[e];if(!r)return;const i=r.indexOf(t);-1!==i&&r.splice(i,1)}}function jw(e){return"number"===typeof e&&isFinite(e)}function Uw(e,t,n,r){let i=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(r),r));const s=pv(e).start_timestamp;return s&&s>t&&"function"===typeof e.updateStartTime&&e.updateStartTime(t),ub(e,(()=>{const e=cb(u({startTime:t},i));return e&&e.end(n),e}))}function zw(e){var t;const n=Oy();if(!n)return;const{name:r,transaction:i,attributes:s,startTime:o}=e,{release:a,environment:l,sendDefaultPii:c}=n.getOptions(),d=n.getIntegrationByName("Replay"),h=null===d||void 0===d?void 0:d.getReplayId(),f=Ay(),p=f.getUser(),m=void 0!==p?p.email||p.id||p.ip_address:void 0;let g;try{g=f.getScopeData().contexts.profile.profile_id}catch(y){}return cb({name:r,attributes:u({release:a,environment:l,user:m||void 0,profile_id:g||void 0,replay_id:h||void 0,transaction:i,"user_agent.original":null===(t=Pb.navigator)||void 0===t?void 0:t.userAgent,"client.address":c?"{{auto}}":void 0},s),startTime:o,experimental:{standalone:!0}})}function Vw(){return Pb.addEventListener&&Pb.performance}function Bw(e){return e/1e3}function qw(e){let t="unknown",n="unknown",r="";for(const i of e){if("/"===i){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function Hw(){let e,t,n=0;if(!function(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch(e){return!1}}())return;let r=!1;function i(){r||(r=!0,t&&function(e,t,n){var r;Lb&&Gg.log("Sending CLS span (".concat(e,")"));const i=Bw((py()||0)+((null===t||void 0===t?void 0:t.startTime)||0)),s=Ay().getScopeData().transactionName,o=t?zg(null===(r=t.sources[0])||void 0===r?void 0:r.node):"Layout shift",a={[Uy]:"auto.http.browser.cls",[jy]:"ui.webvital.cls",[Wy]:(null===t||void 0===t?void 0:t.duration)||0,"sentry.pageload.span_id":n},l=zw({name:o,transaction:s,attributes:a,startTime:i});l&&(l.addEvent("cls",{[Vy]:"",[By]:e}),l.end(i))}(n,e,t),s())}const s=Ew((t=>{let{metric:r}=t;const i=r.entries[r.entries.length-1];i&&(n=r.value,e=i)}),!0);Bb((()=>{i()})),setTimeout((()=>{const e=Oy();if(!e)return;const n=e.on("startNavigationSpan",(()=>{i(),null===n||void 0===n||n()})),r=Sv();if(r){const e=_v(r);"pageload"===pv(e).op&&(t=e.spanContext().spanId)}}),0)}let Ww,Kw,Gw=0,Qw={};function Yw(e){let{recordClsStandaloneSpans:t}=e;const n=Vw();if(n&&py()){n.mark&&Pb.performance.mark("sentry-tracing-init");const e=Tw((e=>{let{metric:t}=e;const n=t.entries[t.entries.length-1];if(!n)return;const r=Bw(py()),i=Bw(n.startTime);Qw.fid={value:t.value,unit:"millisecond"},Qw["mark.fid"]={value:r+i,unit:"second"}})),r=xw((e=>{let{metric:t}=e;const n=t.entries[t.entries.length-1];n&&(Qw.lcp={value:t.value,unit:"millisecond"},Ww=n)}),!0),i=function(e){return Pw("ttfb",e,Ow,Sw)}((e=>{let{metric:t}=e;t.entries[t.entries.length-1]&&(Qw.ttfb={value:t.value,unit:"millisecond"})})),s=t?Hw():Ew((e=>{let{metric:t}=e;const n=t.entries[t.entries.length-1];n&&(Qw.cls={value:t.value,unit:""},Kw=n)}),!0);return()=>{e(),r(),i(),null===s||void 0===s||s()}}return()=>{}}function $w(e,t){const n=Vw(),r=py();if(null===n||void 0===n||!n.getEntries||!r)return;const i=Bw(r),s=n.getEntries(),{op:o,start_timestamp:a}=pv(e);if(s.slice(Gw).forEach((n=>{const r=Bw(n.startTime),s=Bw(Math.max(0,n.duration));if(!("navigation"===o&&a&&i+r<a))switch(n.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{Jw(e,t,r,n)})),Jw(e,t,"secureConnection",n,"TLS/SSL"),Jw(e,t,"fetch",n,"cache"),Jw(e,t,"domainLookup",n,"DNS"),function(e,t,n){const r=n+Bw(t.requestStart),i=n+Bw(t.responseEnd),s=n+Bw(t.responseStart);t.responseEnd&&(Uw(e,r,i,{op:"browser.request",name:t.name,attributes:{[Uy]:"auto.ui.browser.metrics"}}),Uw(e,s,i,{op:"browser.response",name:t.name,attributes:{[Uy]:"auto.ui.browser.metrics"}}))}(e,t,n)}(e,n,i);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,i){const s=jb(!1),o=Bw(s?s.requestStart:0),a=i+Math.max(n,o),l=i+n,c=l+r,u={[Uy]:"auto.resource.browser.metrics"};a!==l&&(u["sentry.browser.measure_happened_before_request"]=!0,u["sentry.browser.measure_start_time"]=a);a<=c&&Uw(e,a,c,{name:t.name,op:t.entryType,attributes:u})}(e,n,r,s,i);const t=Gb(),o=n.startTime<t.firstHiddenTime;"first-paint"===n.name&&o&&(Qw.fp={value:n.startTime,unit:"millisecond"}),"first-contentful-paint"===n.name&&o&&(Qw.fcp={value:n.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,i,s,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const a=t.initiatorType?"resource.".concat(t.initiatorType):"resource.other";if(null!==o&&void 0!==o&&o.includes(a))return;const l=Mb(n),c={[Uy]:"auto.resource.browser.metrics"};Xw(c,t,"transferSize","http.response_transfer_size"),Xw(c,t,"encodedBodySize","http.response_content_length"),Xw(c,t,"decodedBodySize","http.decoded_response_content_length");const u=t.deliveryType;null!=u&&(c["http.response_delivery_type"]=u);const d=t.renderBlockingStatus;d&&(c["resource.render_blocking_status"]=d);l.protocol&&(c["url.scheme"]=l.protocol.split(":").pop());l.host&&(c["server.address"]=l.host);c["url.same_origin"]=n.includes(Pb.location.origin);const{name:h,version:f}=qw(t.nextHopProtocol);c["network.protocol.name"]=h,c["network.protocol.version"]=f;const p=s+r,m=p+i;Uw(e,p,m,{name:n.replace(Pb.location.origin,""),op:a,attributes:c})}(e,n,n.name,r,s,i,t.ignoreResourceSpans)}})),Gw=Math.max(s.length-1,0),function(e){const t=Pb.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),jw(n.rtt)&&(Qw["connection.rtt"]={value:n.rtt,unit:"millisecond"}));jw(t.deviceMemory)&&e.setAttribute("deviceMemory","".concat(t.deviceMemory," GB"));jw(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===o){!function(e){const t=jb(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(Qw);const n=Qw["mark.fid"];n&&Qw.fid&&(Uw(e,n.value,n.value+Bw(Qw.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Uy]:"auto.ui.browser.metrics"}}),delete Qw["mark.fid"]),"fcp"in Qw&&t.recordClsOnPageloadSpan||delete Qw.cls,Object.entries(Qw).forEach((e=>{let[t,n]=e;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Sv();const i=r&&_v(r);i&&(Eg&&Gg.log("[Measurement] Setting measurement on root span: ".concat(e," = ").concat(t," ").concat(n)),i.addEvent(e,{[By]:t,[Vy]:n}))}(t,n.value,n.unit)})),e.setAttribute("performance.timeOrigin",i),e.setAttribute("performance.activationStart",Ub()),function(e){var t;Ww&&(Ww.element&&e.setAttribute("lcp.element",zg(Ww.element)),Ww.id&&e.setAttribute("lcp.id",Ww.id),Ww.url&&e.setAttribute("lcp.url",Ww.url.trim().slice(0,200)),null!=Ww.loadTime&&e.setAttribute("lcp.loadTime",Ww.loadTime),null!=Ww.renderTime&&e.setAttribute("lcp.renderTime",Ww.renderTime),e.setAttribute("lcp.size",Ww.size));null!==(t=Kw)&&void 0!==t&&t.sources&&Kw.sources.forEach(((t,n)=>e.setAttribute("cls.source.".concat(n+1),zg(t.node))))}(e)}Ww=void 0,Kw=void 0,Qw={}}function Jw(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n;const s=function(e){if("secureConnection"===e)return"connectEnd";if("fetch"===e)return"domainLookupStart";return"".concat(e,"End")}(n),o=t[s],a=t["".concat(n,"Start")];a&&o&&Uw(e,r+Bw(a),r+Bw(o),{op:"browser.".concat(i),name:t.name,attributes:u({[Uy]:"auto.ui.browser.metrics"},"redirect"===n&&null!=t.redirectCount?{"http.redirect_count":t.redirectCount}:{})})}function Xw(e,t,n,r){const i=t[n];null!=i&&i<2147483647&&(e[r]=i)}const Zw=[],e_=new Map;function t_(){if(Vw()&&py()){const e=Iw((e=>{let{metric:t}=e;if(void 0==t.value)return;const n=t.entries.find((e=>e.duration===t.value&&n_[e.name]));if(!n)return;const{interactionId:r}=n,i=n_[n.name],s=Bw(py()+n.startTime),o=Bw(t.value),a=Sv(),l=a?_v(a):void 0,c=(null!=r?e_.get(r):void 0)||l,u=c?pv(c).description:Ay().getScopeData().transactionName,d=zw({name:zg(n.target),transaction:u,attributes:{[Uy]:"auto.http.browser.inp",[jy]:"ui.interaction.".concat(i),[Wy]:n.duration},startTime:s});d&&(d.addEvent("inp",{[Vy]:"millisecond",[By]:t.value}),d.end(s+o))}));return()=>{e()}}return()=>{}}const n_={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};const r_=wg;function i_(){if(!("fetch"in r_))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch($C){return!1}}function s_(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}let o_;function a_(e){const t="history";wb(t,e),_b(t,l_)}function l_(){function e(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=n.length>2?n[2]:void 0;if(i){const t=o_,r=function(e){try{return new URL(e,Pb.location.origin).toString()}catch(t){return e}}(String(i));if(o_=r,t===r)return e.apply(this,n);Sb("history",{from:t,to:r})}return e.apply(this,n)}}Pb.addEventListener("popstate",(()=>{const e=Pb.location.href,t=o_;if(o_=e,t===e)return;Sb("history",{from:t,to:e})})),"history"in r_&&r_.history&&(Xg(Pb.history,"pushState",e),Xg(Pb.history,"replaceState",e))}const c_="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var u_;function d_(e){return new f_((t=>{t(e)}))}function h_(e){return new f_(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(u_||(u_={}));class f_{constructor(e){this._state=u_.PENDING,this._handlers=[],this._runExecutor(e)}then(e,t){return new f_(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch($C){r($C)}else n(t)},e=>{if(t)try{n(t(e))}catch($C){r($C)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new f_(((t,n)=>{let r,i;return this.then((t=>{i=!1,r=t,e&&e()}),(t=>{i=!0,r=t,e&&e()})).then((()=>{i?n(r):t(r)}))}))}_executeHandlers(){if(this._state===u_.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===u_.RESOLVED&&e[1](this._value),this._state===u_.REJECTED&&e[2](this._value),e[0]=!0)}))}_runExecutor(e){const t=(e,t)=>{this._state===u_.PENDING&&(Pg(t)?t.then(n,r):(this._state=e,this._value=t,this._executeHandlers()))},n=e=>{t(u_.RESOLVED,e)},r=e=>{t(u_.REJECTED,e)};try{e(n,r)}catch($C){r($C)}}}function p_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new f_(((i,s)=>{const o=e[r];if(null===t||"function"!==typeof o)i(t);else{const a=o(u({},t),n);Eg&&o.id&&null===a&&Gg.log('Event processor "'.concat(o.id,'" dropped event')),Pg(a)?a.then((t=>p_(e,t,n,r+1).then(i))).then(null,s):p_(e,a,n,r+1).then(i).then(null,s)}}))}let m_,g_,y_;function v_(e){const t=wg._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return y_&&n.length===g_||(g_=n.length,y_=n.reduce(((n,r)=>{m_||(m_={});const i=m_[r];if(i)n[i[0]]=i[1];else{const i=e(r);for(let e=i.length-1;e>=0;e--){const s=i[e],o=null===s||void 0===s?void 0:s.filename,a=t[r];if(o&&a){n[o]=a,m_[r]=[o,a];break}}}return n}),{})),y_}function b_(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;!function(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t;Object.keys(n).length&&(e.extra=u(u({},n),e.extra));Object.keys(r).length&&(e.tags=u(u({},r),e.tags));Object.keys(i).length&&(e.user=u(u({},i),e.user));Object.keys(s).length&&(e.contexts=u(u({},s),e.contexts));o&&(e.level=o);a&&"transaction"!==e.type&&(e.transaction=a)}(e,t),r&&function(e,t){e.contexts=u({trace:uv(t)},e.contexts),e.sdkProcessingMetadata=u({dynamicSamplingContext:Mv(t)},e.sdkProcessingMetadata);const n=_v(t),r=pv(n).description;r&&!e.transaction&&"transaction"===e.type&&(e.transaction=r)}(e,r),function(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint.length||delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,i),function(e,t){e.sdkProcessingMetadata=u(u({},e.sdkProcessingMetadata),t)}(e,s)}function w_(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:h,propagationContext:f,transactionName:p,span:m}=t;__(e,"extra",n),__(e,"tags",r),__(e,"user",i),__(e,"contexts",s),e.sdkProcessingMetadata=yy(e.sdkProcessingMetadata,a,2),o&&(e.level=o),p&&(e.transactionName=p),m&&(e.span=m),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext=u(u({},e.propagationContext),f)}function __(e,t,n){e[t]=yy(e[t],n,1)}function S_(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l=u(u({},t),{},{event_id:t.event_id||n.event_id||sy(),timestamp:t.timestamp||dy()}),c=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;e.environment=e.environment||n||Ev,!e.release&&r&&(e.release=r);!e.dist&&i&&(e.dist=i);const o=e.request;null!==o&&void 0!==o&&o.url&&(o.url=Qg(o.url,s))}(l,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(l,c),i&&i.emit("applyFrameMetadata",t),void 0===t.type&&function(e,t){var n;const r=v_(t);null===(n=e.exception)||void 0===n||null===(n=n.values)||void 0===n||n.forEach((e=>{var t;null===(t=e.stacktrace)||void 0===t||null===(t=t.frames)||void 0===t||t.forEach((e=>{e.filename&&(e.debug_id=r[e.filename])}))}))}(l,e.stackParser);const d=function(e,t){if(!t)return e;const n=e?e.clone():new ky;return n.update(t),n}(r,n.captureContext);n.mechanism&&cy(l,n.mechanism);const h=i?i.getEventProcessors():[],f=kg("globalScope",(()=>new ky)).getScopeData();if(s){w_(f,s.getScopeData())}if(d){w_(f,d.getScopeData())}const p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),b_(l,f);return p_([...h,...f.eventProcessors],l,n).then((e=>(e&&function(e){var t;const n={};if(null===(t=e.exception)||void 0===t||null===(t=t.values)||void 0===t||t.forEach((e=>{var t;null===(t=e.stacktrace)||void 0===t||null===(t=t.frames)||void 0===t||t.forEach((e=>{e.debug_id&&(e.abs_path?n[e.abs_path]=e.debug_id:e.filename&&(n[e.filename]=e.debug_id),delete e.debug_id)}))})),0===Object.keys(n).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const r=e.debug_meta.images;Object.entries(n).forEach((e=>{let[t,n]=e;r.push({type:"sourcemap",code_file:t,debug_id:n})}))}(e),"number"===typeof o&&o>0?function(e,t,n){var r,i;if(!e)return null;const s=u(u(u(u(u({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>u(u({},e),e.data&&{data:Hv(e.data,t,n)})))}),e.user&&{user:Hv(e.user,t,n)}),e.contexts&&{contexts:Hv(e.contexts,t,n)}),e.extra&&{extra:Hv(e.extra,t,n)});null!==(r=e.contexts)&&void 0!==r&&r.trace&&s.contexts&&(s.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(s.contexts.trace.data=Hv(e.contexts.trace.data,t,n)));e.spans&&(s.spans=e.spans.map((e=>u(u({},e),e.data&&{data:Hv(e.data,t,n)}))));null!==(i=e.contexts)&&void 0!==i&&i.flags&&s.contexts&&(s.contexts.flags=Hv(e.contexts.flags,3,n));return s}(e,o,a):e)))}function k_(e){if(e)return function(e){return e instanceof ky||"function"===typeof e}(e)||function(e){return Object.keys(e).some((e=>E_.includes(e)))}(e)?{captureContext:e}:e}const E_=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function x_(e,t){return Ay().captureException(e,k_(t))}function T_(e,t){return Ay().captureEvent(e,t)}function I_(e,t){Ry().setContext(e,t)}function C_(e){const t=Ry(),n=Ay(),{userAgent:r}=wg.navigator||{},i=my(u(u({user:n.getUser()||t.getUser()},r&&{userAgent:r}),e)),s=t.getSession();return"ok"===(null===s||void 0===s?void 0:s.status)&&gy(s,{status:"exited"}),N_(),t.setSession(i),i}function N_(){const e=Ry(),t=Ay().getSession()||e.getSession();t&&function(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),gy(e,n)}(t),A_(),e.setSession()}function A_(){const e=Ry(),t=Oy(),n=e.getSession();n&&t&&t.captureSession(n)}function R_(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?N_():A_()}const D_=wg;let O_=0;function M_(){return O_>0}function P_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!function(e){return"function"===typeof e}(e))return e;try{const t=e.__sentry_wrapped__;if(t)return"function"===typeof t?t:e;if(ty(e))return e}catch($C){return e}const n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];try{const n=r.map((e=>P_(e,t)));return e.apply(this,n)}catch(s){throw O_++,setTimeout((()=>{O_--})),Dy((e=>{e.addEventProcessor((e=>(t.mechanism&&(ly(e,void 0,void 0),cy(e,t.mechanism)),e.extra=u(u({},e.extra),{},{arguments:r}),e))),x_(s)})),s}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}catch(r){}ey(n,e),Zg(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch(i){}return n}function L_(){const e=Bg(),{referrer:t}=D_.document||{},{userAgent:n}=D_.navigator||{};return{url:e,headers:u(u({},t&&{Referer:t}),n&&{"User-Agent":n})}}const F_="sentry_previous_trace",j_="sentry.previous_trace";function U_(e,t){let{linkPreviousTrace:n,consistentTraceSampling:r}=t;const i="session-storage"===n;let s=i?function(){try{var e;const t=null===(e=D_.sessionStorage)||void 0===e?void 0:e.getItem(F_);return JSON.parse(t)}catch($C){return}}():void 0;e.on("spanStart",(e=>{if(_v(e)!==e)return;const t=Ay().getPropagationContext();s=function(e,t,n){const r=pv(t);function i(){try{var e,t,i;return null!==(e=Number(null===(t=n.dsc)||void 0===t?void 0:t.sample_rate))&&void 0!==e?e:Number(null===(i=r.data)||void 0===i?void 0:i[Ly])}catch(s){return 0}}const s={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:i(),sampleRand:n.sampleRand};if(!e)return s;const o=e.spanContext;if(o.traceId===r.trace_id)return e;Date.now()/1e3-e.startTimestamp<=3600&&(c_&&Gg.info("Adding previous_trace ".concat(o," link to span ").concat(u({op:r.op},t.spanContext()))),t.addLink({context:o,attributes:{[Ky]:"previous_trace"}}),t.setAttribute(j_,"".concat(o.traceId,"-").concat(o.spanId,"-").concat(z_(o)?1:0)));return s}(s,e,t),i&&function(e){try{D_.sessionStorage.setItem(F_,JSON.stringify(e))}catch($C){c_&&Gg.warn("Could not store previous trace in sessionStorage",$C)}}(s)}));let o=!0;r&&e.on("beforeSampling",(e=>{if(!s)return;const t=Ay(),n=t.getPropagationContext();o&&n.parentSpanId?o=!1:(t.setPropagationContext(u(u({},n),{},{dsc:u(u({},n.dsc),{},{sample_rate:String(s.sampleRate),sampled:String(z_(s.spanContext))}),sampleRand:s.sampleRand})),e.parentSampled=z_(s.spanContext),e.parentSampleRate=s.sampleRate,e.spanAttributes=u(u({},e.spanAttributes),{},{[Fy]:s.sampleRate}))}))}function z_(e){return 1===e.traceFlags}function V_(e,t){const n="fetch";wb(n,e),_b(n,(()=>B_(void 0,t)))}function B_(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!function(){if("string"===typeof EdgeRuntime)return!0;if(!i_())return!1;if(s_(r_.fetch))return!0;let e=!1;const t=r_.document;if(t&&"function"===typeof t.createElement)try{var n;const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),null!==(n=r.contentWindow)&&void 0!==n&&n.fetch&&(e=s_(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){Eg&&Gg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}()||Xg(wg,"fetch",(function(t){return function(){const n=new Error;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const{method:o,url:a}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:W_(t),method:H_(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:W_(t),method:H_(t,"method")?String(t.method).toUpperCase():"GET"}}(i),l={args:i,fetchData:{method:o,url:a},startTimestamp:1e3*hy(),virtualError:n,headers:K_(i)};return e||Sb("fetch",u({},l)),t.apply(wg,i).then((async t=>(e?e(t):Sb("fetch",u(u({},l),{},{endTimestamp:1e3*hy(),response:t})),t)),(e=>{if(Sb("fetch",u(u({},l),{},{endTimestamp:1e3*hy(),error:e})),Tg(e)&&void 0===e.stack&&(e.stack=n.stack,Zg(e,"framesToPop",1)),e instanceof TypeError&&("Failed to fetch"===e.message||"Load failed"===e.message||"NetworkError when attempting to fetch resource."===e.message))try{const t=new URL(l.fetchData.url);e.message="".concat(e.message," (").concat(t.host,")")}catch(t){}throw e}))}}))}function q_(e){let t;try{t=e.clone()}catch(n){return}!async function(e,t){if(null!==e&&void 0!==e&&e.body){const r=e.body,i=r.getReader(),s=setTimeout((()=>{r.cancel().then(null,(()=>{}))}),9e4);let o=!0;for(;o;){let e;try{e=setTimeout((()=>{r.cancel().then(null,(()=>{}))}),5e3);const{done:n}=await i.read();clearTimeout(e),n&&(t(),o=!1)}catch(n){o=!1}finally{clearTimeout(e)}}clearTimeout(s),i.releaseLock(),r.cancel().then(null,(()=>{}))}}(t,(()=>{Sb("fetch-body-resolved",{endTimestamp:1e3*hy(),response:e})}))}function H_(e,t){return!!e&&"object"===typeof e&&!!e[t]}function W_(e){return"string"===typeof e?e:e?H_(e,"url")?e.url:e.toString?e.toString():"":""}function K_(e){const[t,n]=e;try{if("object"===typeof n&&null!==n&&"headers"in n&&n.headers)return new Headers(n.headers);if(jg(t))return new Headers(t.headers)}catch(r){}}function G_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Oy();if(!function(){const e=Oy();return!1!==(null===e||void 0===e?void 0:e.getOptions().enabled)&&!(null===e||void 0===e||!e.getTransport())}()||!t)return{};const n=Ny(_g());if(n.getTraceData)return n.getTraceData(e);const r=Ay(),i=e.span||Sv(),s=i?function(e){const{traceId:t,spanId:n}=e.spanContext();return ov(t,n,mv(e))}(i):function(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return ov(t,r,n)}(r),o=nv(i?Mv(i):Ov(t,r));return iv.test(s)?{"sentry-trace":s,baggage:o}:(Gg.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function Q_(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"auto.http.browser";if(!e.fetchData)return;const{method:s,url:o}=e.fetchData,a=Gy()&&t(o);if(e.endTimestamp&&a){const t=e.fetchData.__span;if(!t)return;const n=r[t];return void(n&&(!function(e,t){if(t.response){var n;Qy(e,t.response.status);const r=(null===(n=t.response)||void 0===n?void 0:n.headers)&&t.response.headers.get("content-length");if(r){const t=parseInt(r);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}(n,e),delete r[t]))}const l=!!Sv(),c=a&&l?cb(function(e,t,n){const r=Db(e);return{name:r?"".concat(t," ").concat(Ob(r)):t,attributes:$_(e,r,t,n)}}(o,s,i)):new Pv;if(e.fetchData.__span=c.spanContext().spanId,r[c.spanContext().spanId]=c,n(e.fetchData.url)){const t=e.args[0],n=e.args[1]||{},r=function(e,t,n){const r=G_({span:n}),i=r["sentry-trace"],s=r.baggage;if(!i)return;const o=t.headers||(jg(e)?e.headers:void 0);if(o){if(function(e){return"undefined"!==typeof Headers&&Lg(e,Headers)}(o)){const e=new Headers(o);if(e.get("sentry-trace")||e.set("sentry-trace",i),s){const t=e.get("baggage");t?Y_(t)||e.set("baggage","".concat(t,",").concat(s)):e.set("baggage",s)}return e}if(Array.isArray(o)){const e=[...o];o.find((e=>"sentry-trace"===e[0]))||e.push(["sentry-trace",i]);const t=o.find((e=>"baggage"===e[0]&&Y_(e[1])));return s&&!t&&e.push(["baggage",s]),e}{const e="sentry-trace"in o?o["sentry-trace"]:void 0,t="baggage"in o?o.baggage:void 0,n=t?Array.isArray(t)?[...t]:[t]:[],r=t&&(Array.isArray(t)?t.find((e=>Y_(e))):Y_(t));return s&&!r&&n.push(s),u(u({},o),{},{"sentry-trace":null!==e&&void 0!==e?e:i,baggage:n.length>0?n.join(","):void 0})}}return u({},r)}(t,n,Gy()&&l?c:void 0);r&&(e.args[1]=n,n.headers=r)}const d=Oy();if(d){const t={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};d.emit("beforeOutgoingRequestSpan",c,t)}return c}function Y_(e){return e.split(",").some((e=>e.trim().startsWith(Zy)))}function $_(e,t,n,r){const i={url:e,type:"fetch","http.method":n,[Uy]:r,[jy]:"http.client"};return t&&(Rb(t)||(i["http.url"]=t.href,i["server.address"]=t.host),t.search&&(i["http.query"]=t.search),t.hash&&(i["http.fragment"]=t.hash)),i}const J_="__sentry_xhr_v3__";function X_(e){wb("xhr",e),_b("xhr",Z_)}function Z_(){if(!Pb.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){const r=new Error,i=1e3*hy(),s=Ag(n[0])?n[0].toUpperCase():void 0,o=function(e){if(Ag(e))return e;try{return e.toString()}catch(t){}return}(n[1]);if(!s||!o)return e.apply(t,n);t[J_]={method:s,url:o,request_headers:{}},"POST"===s&&o.match(/sentry_key/)&&(t.__sentry_own_request__=!0);const a=()=>{const e=t[J_];if(e&&4===t.readyState){try{e.status_code=t.status}catch($C){}Sb("xhr",{endTimestamp:1e3*hy(),startTimestamp:i,xhr:t,virtualError:r})}};return"onreadystatechange"in t&&"function"===typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(a(),e.apply(t,n))}):t.addEventListener("readystatechange",a),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){const[r,i]=n,s=t[J_];return s&&Ag(r)&&Ag(i)&&(s.request_headers[r.toLowerCase()]=i),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){const r=t[J_];if(!r)return e.apply(t,n);void 0!==n[0]&&(r.body=n[0]);return Sb("xhr",{startTimestamp:1e3*hy(),xhr:t}),e.apply(t,n)}})}const eS=new WeakMap,tS=new Map,nS={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function rS(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o,tracePropagationTargets:a,onRequestSpanStart:l}=u(u({},nS),t),c="function"===typeof s?s:e=>!0,d=e=>function(e,t){const n=Bg();if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch($C){return!1}const s=r.origin===i;return t?Jg(r.toString(),t)||s&&Jg(r.pathname,t):s}{const n=!!e.match(/^\/(?!\/)/);return t?Jg(e,t):n}}(e,a),h={};n&&(e.addEventProcessor((e=>("transaction"===e.type&&e.spans&&e.spans.forEach((e=>{if("http.client"===e.op){const t=tS.get(e.span_id);t&&(e.timestamp=t/1e3,tS.delete(e.span_id))}})),e))),i&&function(e){const t="fetch-body-resolved";wb(t,e),_b(t,(()=>B_(q_)))}((e=>{if(e.response){const t=eS.get(e.response);t&&e.endTimestamp&&tS.set(t,e.endTimestamp)}})),V_((e=>{const t=Q_(e,c,d,h);if(e.response&&e.fetchData.__span&&eS.set(e.response,e.fetchData.__span),t){const n=oS(e.fetchData.url),r=n?Mb(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r}),o&&iS(t),null===l||void 0===l||l(t,{headers:e.headers})}}))),r&&X_((e=>{const t=function(e,t,n,r){const i=e.xhr,s=null===i||void 0===i?void 0:i[J_];if(!i||i.__sentry_own_request__||!s)return;const{url:o,method:a}=s,l=Gy()&&t(o);if(e.endTimestamp&&l){const e=i.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==s.status_code&&(Qy(t,s.status_code),t.end(),delete r[e]))}const c=oS(o),d=Mb(c||o),h=(m=o,m.split(/[?#]/,1)[0]),f=!!Sv(),p=l&&f?cb({name:"".concat(a," ").concat(h),attributes:u(u({url:o,type:"xhr","http.method":a,"http.url":c,"server.address":null===d||void 0===d?void 0:d.host,[Uy]:"auto.http.browser",[jy]:"http.client"},(null===d||void 0===d?void 0:d.search)&&{"http.query":null===d||void 0===d?void 0:d.search}),(null===d||void 0===d?void 0:d.hash)&&{"http.fragment":null===d||void 0===d?void 0:d.hash})}):new Pv;var m;i.__sentry_xhr_span_id__=p.spanContext().spanId,r[i.__sentry_xhr_span_id__]=p,n(o)&&function(e,t){const{"sentry-trace":n,baggage:r}=G_({span:t});n&&function(e,t,n){var r;const i=null===(r=e.__sentry_xhr_v3__)||void 0===r?void 0:r.request_headers;if(null!==i&&void 0!==i&&i["sentry-trace"])return;try{if(e.setRequestHeader("sentry-trace",t),n){const t=null===i||void 0===i?void 0:i.baggage;t&&t.split(",").some((e=>e.trim().startsWith("sentry-")))||e.setRequestHeader("baggage",n)}}catch(s){}}(e,n,r)}(i,Gy()&&f?p:void 0);const g=Oy();g&&g.emit("beforeOutgoingRequestSpan",p,e);return p}(e,c,d,h);if(t){let i;o&&iS(t);try{var n;i=new Headers(null===(n=e.xhr.__sentry_xhr_v3__)||void 0===n?void 0:n.request_headers)}catch(r){}null===l||void 0===l||l(t,{headers:i})}}))}function iS(e){const{url:t}=pv(e).data;if(!t||"string"!==typeof t)return;const n=Cw("resource",(r=>{let{entries:i}=r;i.forEach((r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"===typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){const t=function(e){const{name:t,version:n}=qw(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!py())return r;return[...r,["http.request.redirect_start",sS(e.redirectStart)],["http.request.fetch_start",sS(e.fetchStart)],["http.request.domain_lookup_start",sS(e.domainLookupStart)],["http.request.domain_lookup_end",sS(e.domainLookupEnd)],["http.request.connect_start",sS(e.connectStart)],["http.request.secure_connection_start",sS(e.secureConnectionStart)],["http.request.connection_end",sS(e.connectEnd)],["http.request.request_start",sS(e.requestStart)],["http.request.response_start",sS(e.responseStart)],["http.request.response_end",sS(e.responseEnd)]]}(r);t.forEach((t=>e.setAttribute(...t))),setTimeout(n)}}))}))}function sS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return((py()||performance.timeOrigin)+e)/1e3}function oS(e){try{return new URL(e,D_.location.origin).href}catch(t){return}}const aS=u(u({},gb),{},{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,ignoreResourceSpans:[],linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{}},nS);function lS(e,t){return e.emit("startNavigationSpan",t),Ay().setTransactionName(t.name),dS(e)}function cS(e){const t=D_.document,n=null===t||void 0===t?void 0:t.querySelector("meta[name=".concat(e,"]"));return(null===n||void 0===n?void 0:n.getAttribute("content"))||void 0}const uS="_sentry_idleSpan";function dS(e){return e[uS]}function hS(e,t){Zg(e,uS,t)}const fS="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var pS=n(219);const mS=pS||n.t(pS,2);let gS,yS,vS,bS,wS,_S=!1;const SS=new WeakSet,kS=new Set;function ES(e){const{location:t,routes:n,navigationType:r,version:i,matches:s,basename:o,allRoutes:a}=e,l=Array.isArray(s)?s:wS(n,t,o),c=Oy();if(c&&SS.has(c)&&("PUSH"===r||"POP"===r)&&l){let e,r="url";const s=AS(t,a||n);s&&(e=LS(FS(a||n,t)),r="route"),s&&e||([e,r]=jS(n,t,l,o));const u=Sv();u&&"navigation"===pv(u).op?(null===u||void 0===u||u.updateName(e),null===u||void 0===u||u.setAttribute(Py,r)):lS(c,{name:e,attributes:{[Py]:r,[jy]:"navigation",[Uy]:"auto.navigation.react.reactrouter_v".concat(i)}})}}function xS(e,t){if(!t||"/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return e;const n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?e:e.slice(n)||"/"}function TS(e,t,n){const r=e||_S?xS(t,n):t;return["/"===r[r.length-1]||"/*"===r.slice(-2)?r.slice(0,-1):r,"route"]}function IS(e){return e.endsWith("*")}function CS(e,t){var n;return IS(e)&&!(null===(n=t.route.children)||void 0===n||!n.length)||!1}function NS(e){var t;return!(e.children||!e.element||null===(t=e.path)||void 0===t||!t.endsWith("/*"))}function AS(e,t){const n=wS(t,e);if(n)for(const r of n)if(NS(r.route)&&MS(r))return!0;return!1}function RS(e){e.forEach((e=>{DS(e).forEach((e=>{kS.add(e)}))}))}function DS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;return t.has(e)||(t.add(e),e.children&&!e.index&&e.children.forEach((e=>{DS(e,t).forEach((e=>{t.add(e)}))}))),t}function OS(e){return"*"===(t=e.route.path||"")[t.length-1]?t.slice(0,-1):t;var t}function MS(e){return e.params["*"]||""}function PS(e){return"/"===e[e.length-1]?e.slice(0,-1):e}function LS(e){return"/"===e[0]?e:"/".concat(e)}function FS(e,t){const n=wS(e,t);if(!n||0===n.length)return"";for(const r of n)if(r.route.path&&"*"!==r.route.path){const n=OS(r),i=xS(t.pathname,LS(r.pathnameBase));return t.pathname===i?PS(i):PS(PS(n||"")+LS(FS(e.filter((e=>e!==r.route)),{pathname:i})))}return""}function jS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!e||0===e.length)return[_S?xS(t.pathname,r):t.pathname,"url"];let i="";if(n)for(const s of n){const e=s.route;if(e){if(e.index)return TS(i,s.pathname,r);const n=e.path;if(n&&!CS(n,s)){const e="/"===n[0]||"/"===i[i.length-1]?n:"/".concat(n);if(i=PS(i)+LS(e),PS(t.pathname)===PS(r+s.pathname))return VS(i)===VS(s.pathname)||IS(i)?(CS(i,s)&&(i=i.slice(0,-1)),[(_S?"":r)+i,"route"]):[(_S?"":r)+e,"route"]}}}return[_S?xS(t.pathname,r):t.pathname||"/","url"]}function US(e,t,n,r,i,s){const o=Array.isArray(r)?r:wS(s||n,t,i);if(o){let r,a="url";const l=AS(t,s||n);l&&(r=LS(FS(s||n,t)),a="route"),l&&r||([r,a]=jS(n,t,o,i)),Ay().setTransactionName(r||"/"),e&&(e.updateName(r),e.setAttribute(Py,a))}}function zS(){const e=Sv(),t=e?_v(e):void 0;if(!t)return;const n=pv(t).op;return"navigation"===n||"pageload"===n?t:void 0}function VS(e){return e.split(/\\?\//).filter((e=>e.length>0&&","!==e)).length}const BS=function(e,t){if(!gS||!yS||!vS||!bS||!wS)return fS&&Gg.warn("reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.\n      useEffect: ".concat(gS,". useLocation: ").concat(yS,". useNavigationType: ").concat(vS,".\n      createRoutesFromChildren: ").concat(bS,". matchRoutes: ").concat(wS,".")),e;const n=n=>{const i=r.useRef(!0),s=yS(),o=vS();return gS((()=>{const e=bS(n.children);i.current?(RS(e),US(zS(),s,e,void 0,void 0,Array.from(kS)),i.current=!1):ES({location:s,routes:e,navigationType:o,version:t,allRoutes:Array.from(kS)})}),[s,o]),r.createElement(e,u({},n))};return mS(n,e),n}((function(e){let{children:t,location:n}=e;return ye(Oe(t),n)}),"6");const qS=function(){return(0,Uo.jsx)(qo,{children:(0,Uo.jsx)(ft,{basename:"/sobriety-tracker-v2",children:(0,Uo.jsxs)(BS,{children:[(0,Uo.jsx)(Re,{path:"/register",element:(0,Uo.jsx)(jm,{})}),(0,Uo.jsx)(Re,{path:"/login",element:(0,Uo.jsx)(Um,{})}),(0,Uo.jsx)(Re,{path:"/",element:(0,Uo.jsx)(Jm,{children:(0,Uo.jsx)($m,{})})}),(0,Uo.jsx)(Re,{path:"/admin",element:(0,Uo.jsx)(eg,{children:(0,Uo.jsx)(Zm,{})})}),(0,Uo.jsx)(Re,{path:"/admin/user/:viewUserId",element:(0,Uo.jsx)(eg,{children:(0,Uo.jsx)(vg,{})})})]})})})},HS=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))},WS=[];function KS(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;if(t.forEach((e=>{e.isDefaultInstance=!0})),Array.isArray(n))r=[...t,...n];else if("function"===typeof n){const e=n(t);r=Array.isArray(e)?e:[e]}else r=t;return function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.values(t)}(r)}function GS(e,t){for(const n of t)null!==n&&void 0!==n&&n.afterAllSetup&&n.afterAllSetup(e)}function QS(e,t,n){if(n[t.name])Eg&&Gg.log("Integration skipped because it was already installed: ".concat(t.name));else{if(n[t.name]=t,-1===WS.indexOf(t.name)&&"function"===typeof t.setupOnce&&(t.setupOnce(),WS.push(t.name)),t.setup&&"function"===typeof t.setup&&t.setup(e),"function"===typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if("function"===typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}Eg&&Gg.log("Integration installed: ".concat(t.name))}}function YS(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];null!==n&&void 0!==n&&n.value&&(t.push(n.value),n.type&&t.push("".concat(n.type,": ").concat(n.value)))}catch($C){}return t}const $S=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],JS=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"EventFilters",setup(n){const r=n.getOptions();e=ZS(t,r)},processEvent(n,r,i){if(!e){const n=i.getOptions();e=ZS(t,n)}return function(e,t){if(e.type){if("transaction"===e.type&&function(e,t){if(null===t||void 0===t||!t.length)return!1;const n=e.transaction;return!!n&&Jg(n,t)}(e,t.ignoreTransactions))return Eg&&Gg.warn("Event dropped due to being matched by `ignoreTransactions` option.\nEvent: ".concat(ay(e))),!0}else{if(function(e,t){if(null===t||void 0===t||!t.length)return!1;return YS(e).some((e=>Jg(e,t)))}(e,t.ignoreErrors))return Eg&&Gg.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: ".concat(ay(e))),!0;if(function(e){var t;if(null===(t=e.exception)||void 0===t||null===(t=t.values)||void 0===t||!t.length)return!1;return!e.message&&!e.exception.values.some((e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))}(e))return Eg&&Gg.warn("Event dropped due to not having an error message, error type or stacktrace.\nEvent: ".concat(ay(e))),!0;if(function(e,t){if(null===t||void 0===t||!t.length)return!1;const n=ek(e);return!!n&&Jg(n,t)}(e,t.denyUrls))return Eg&&Gg.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: ".concat(ay(e),".\nUrl: ").concat(ek(e))),!0;if(!function(e,t){if(null===t||void 0===t||!t.length)return!0;const n=ek(e);return!n||Jg(n,t)}(e,t.allowUrls))return Eg&&Gg.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: ".concat(ay(e),".\nUrl: ").concat(ek(e))),!0}return!1}(n,e)?null:n}}},XS=function(){return u(u({},JS(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})),{},{name:"InboundFilters"})};function ZS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:$S],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function ek(e){try{var t,n,r;const i=[...null!==(t=null===(n=e.exception)||void 0===n?void 0:n.values)&&void 0!==t?t:[]].reverse().find((e=>{var t,n;return void 0===(null===(t=e.mechanism)||void 0===t?void 0:t.parent_id)&&(null===(n=e.stacktrace)||void 0===n||null===(n=n.frames)||void 0===n?void 0:n.length)})),s=null===i||void 0===i||null===(r=i.stacktrace)||void 0===r?void 0:r.frames;return s?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(s):null}catch(i){return Eg&&Gg.error("Cannot extract url for event ".concat(ay(e))),null}}let tk;const nk=new WeakMap,rk=()=>({name:"FunctionToString",setupOnce(){tk=Function.prototype.toString;try{Function.prototype.toString=function(){const e=ty(this),t=nk.has(Oy())&&void 0!==e?e:this;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return tk.apply(t,r)}}catch(e){}},setup(e){nk.set(e,!0)}}),ik=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!ok(e,t))return!1;if(!sk(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=ak(t),r=ak(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!ok(e,t))return!1;if(!sk(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return Eg&&Gg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return e=t}}};function sk(e,t){let n=qv(e),r=qv(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++){const e=r[i],t=n[i];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function ok(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(i){return!1}}function ak(e){var t;return(null===(t=e.exception)||void 0===t?void 0:t.values)&&e.exception.values[0]}function lk(e,t){!0===t.debug&&(Eg?Gg.enable():Kg((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));Ay().update(t.initialScope);const n=new e(t);return function(e){Ay().setClient(e)}(n),n.init(),n}function ck(e){const t=e.protocol?"".concat(e.protocol,":"):"",n=e.port?":".concat(e.port):"";return"".concat(t,"//").concat(e.host).concat(n).concat(e.path?"/".concat(e.path):"","/api/")}function uk(e,t,n){return t||"".concat(function(e){return"".concat(ck(e)).concat(e.projectId,"/envelope/")}(e),"?").concat(function(e,t){const n={sentry_version:"7"};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client="".concat(t.name,"/").concat(t.version)),new URLSearchParams(n).toString()}(e,n))}const dk="Not capturing exception because it's already been captured.",hk="Discarded session because of missing or non-string release",fk=Symbol.for("SentryInternalError"),pk=Symbol.for("SentryDoNotSendEventError");function mk(e){return{message:e,[fk]:!0}}function gk(e){return{message:e,[pk]:!0}}function yk(e){return!!e&&"object"===typeof e&&fk in e}function vk(e){return!!e&&"object"===typeof e&&pk in e}class bk{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Nv(e.dsn):Eg&&Gg.warn("No DSN provided, client will not send events."),this._dsn){const t=uk(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport(u(u({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},e.transportOptions),{},{url:t}))}}captureException(e,t,n){const r=sy();if(uy(e))return Eg&&Gg.log(dk),r;const i=u({event_id:r},t);return this._process(this.eventFromException(e,i).then((e=>this._captureEvent(e,i,n)))),i.event_id}captureMessage(e,t,n,r){const i=u({event_id:sy()},n),s=Rg(e)?e:String(e),o=Dg(e)?this.eventFromMessage(s,t,i):this.eventFromException(e,i);return this._process(o.then((e=>this._captureEvent(e,i,r)))),i.event_id}captureEvent(e,t,n){const r=sy();if(null!==t&&void 0!==t&&t.originalException&&uy(t.originalException))return Eg&&Gg.log(dk),r;const i=u({event_id:r},t),s=e.sdkProcessingMetadata||{},o=s.capturedSpanScope,a=s.capturedSpanIsolationScope;return this._process(this._captureEvent(e,i,o||n,a)),i.event_id}captureSession(e){this.sendSession(e),gy(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):d_(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.emit("close"),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((e=>{let{name:t}=e;return t.startsWith("Spotlight")})))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];QS(this,e,this._integrations),t||GS(this,[e])}sendEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.emit("beforeSendEvent",e,t);let n=function(e,t,n,r){const i=nb(n),s=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,null===n||void 0===n?void 0:n.sdk);const o=rb(e,i,r,t);return delete e.sdkProcessingMetadata,Gv(o,[[{type:s},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const i of t.attachments||[])n=Qv(n,Zv(i));const r=this.sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const{release:t,environment:n=Ev}=this._options;if("aggregates"in e){const r=e.attrs||{};if(!r.release&&!t)return void(Eg&&Gg.warn(hk));r.release=r.release||t,r.environment=r.environment||n,e.attrs=r}else{if(!e.release&&!t)return void(Eg&&Gg.warn(hk));e.release=e.release||t,e.environment=e.environment||n}this.emit("beforeSendSession",e);const r=function(e,t,n,r){const i=nb(n);return Gv(u(u({sent_at:(new Date).toISOString()},i&&{sdk:i}),!!r&&t&&{dsn:Iv(t)}),["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this._options.sendClientReports){const r="".concat(e,":").concat(t);Eg&&Gg.log('Recording outcome: "'.concat(r,'"').concat(n>1?" (".concat(n," times)"):"")),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=this._hooks[e];i&&i.forEach((e=>e(...n)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(e=>(Eg&&Gg.error("Error while sending envelope:",e),e))):(Eg&&Gg.error("Transport disabled"),d_({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&QS(e,t,n)})),n}(this,e),GS(this,e)}_updateSessionFromEvent(e,t){var n;let r="fatal"===t.level,i=!1;const s=null===(n=t.exception)||void 0===n?void 0:n.values;if(s){i=!0;for(const e of s){const t=e.mechanism;if(!1===(null===t||void 0===t?void 0:t.handled)){r=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&r)&&(gy(e,u(u({},r&&{status:"crashed"}),{},{errors:e.errors||Number(i||r)})),this.captureSession(e))}_isClientDoneProcessing(e){return new f_((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r){const i=this.getOptions(),s=Object.keys(this._integrations);return!t.integrations&&null!==s&&void 0!==s&&s.length&&(t.integrations=s),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),S_(i,e,t,n,this,r).then((e=>{if(null===e)return e;this.emit("postprocessEvent",e,t),e.contexts=u({trace:My(n)},e.contexts);const r=Ov(this,n);return e.sdkProcessingMetadata=u({dynamicSamplingContext:r},e.sdkProcessingMetadata),e}))}_captureEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ay(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ry();return Eg&&wk(e)&&Gg.log("Captured error event `".concat(YS(e)[0]||"<unknown>","`")),this._processEvent(e,t,n,r).then((e=>e.event_id),(e=>{Eg&&(vk(e)?Gg.log(e.message):yk(e)?Gg.warn(e.message):Gg.warn(e))}))}_processEvent(e,t,n,r){const i=this.getOptions(),{sampleRate:s}=i,o=_k(e),a=wk(e),l=e.type||"error",c="before send for type `".concat(l,"`"),d="undefined"===typeof s?void 0:Xy(s);if(a&&"number"===typeof d&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error"),h_(gk("Discarding event because it's not included in the random sample (sampling rate = ".concat(s,")")));const h="replay_event"===l?"replay":l;return this._prepareEvent(e,t,n,r).then((e=>{if(null===e)throw this.recordDroppedEvent("event_processor",h),gk("An event processor returned `null`, will not send event.");if(t.data&&!0===t.data.__sentry__)return e;const n=function(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o}=t;let a=n;if(wk(a)&&i)return i(a,r);if(_k(a)){if(o){const e=o(function(e){var t,n,r;const{trace_id:i,parent_span_id:s,span_id:o,status:a,origin:l,data:c,op:u}=null!==(t=null===(n=e.contexts)||void 0===n?void 0:n.trace)&&void 0!==t?t:{};return{data:null!==c&&void 0!==c?c:{},description:e.transaction,op:u,parent_span_id:s,span_id:null!==o&&void 0!==o?o:"",start_timestamp:null!==(r=e.start_timestamp)&&void 0!==r?r:0,status:a,timestamp:e.timestamp,trace_id:null!==i&&void 0!==i?i:"",origin:l,profile_id:null===c||void 0===c?void 0:c[Hy],exclusive_time:null===c||void 0===c?void 0:c[Wy],measurements:e.measurements,is_segment:!0}}(a));if(e?a=yy(n,{type:"transaction",timestamp:(l=e).timestamp,start_timestamp:l.start_timestamp,transaction:l.description,contexts:{trace:{trace_id:l.trace_id,span_id:l.span_id,parent_span_id:l.parent_span_id,op:l.op,status:l.status,origin:l.origin,data:u(u(u({},l.data),l.profile_id&&{[Hy]:l.profile_id}),l.exclusive_time&&{[Wy]:l.exclusive_time})}},measurements:l.measurements}):kv(),a.spans){const e=[];for(const t of a.spans){const n=o(t);n?e.push(n):(kv(),e.push(t))}a.spans=e}}if(s){if(a.spans){const e=a.spans.length;a.sdkProcessingMetadata=u(u({},n.sdkProcessingMetadata),{},{spanCountBeforeProcessing:e})}return s(a,r)}}var l;return a}(0,i,e,t);return function(e,t){const n="".concat(t," must return `null` or a valid event.");if(Pg(e))return e.then((e=>{if(!Og(e)&&null!==e)throw mk(n);return e}),(e=>{throw mk("".concat(t," rejected with ").concat(e))}));if(!Og(e)&&null!==e)throw mk(n);return e}(n,c)})).then((i=>{if(null===i){if(this.recordDroppedEvent("before_send",h),o){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw gk("".concat(c," returned `null`, will not send event."))}const s=n.getSession()||r.getSession();if(a&&s&&this._updateSessionFromEvent(s,i),o){var l;const e=((null===(l=i.sdkProcessingMetadata)||void 0===l?void 0:l.spanCountBeforeProcessing)||0)-(i.spans?i.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const d=i.transaction_info;if(o&&d&&i.transaction!==e.transaction){const e="custom";i.transaction_info=u(u({},d),{},{source:e})}return this.sendEvent(i,t),i})).then(null,(e=>{if(vk(e)||yk(e))throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),mk("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ".concat(e))}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((e=>{let[t,n]=e;const[r,i]=t.split(":");return{reason:r,category:i,quantity:n}}))}_flushOutcomes(){Eg&&Gg.log("Flushing outcomes...");const e=this._clearOutcomes();if(0===e.length)return void(Eg&&Gg.log("No outcomes to send"));if(!this._dsn)return void(Eg&&Gg.log("No dsn provided, will not send outcomes"));Eg&&Gg.log("Sending outcomes:",e);const t=(n=e,Gv((r=this._options.tunnel&&Iv(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:i||dy(),discarded_events:n}]]));var n,r,i;this.sendEnvelope(t)}}function wk(e){return void 0===e.type}function _k(e){return"transaction"===e.type}function Sk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[t],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"npm";const i=e._metadata||{};i.sdk||(i.sdk={name:"sentry.javascript.".concat(t),packages:n.map((e=>({name:"".concat(r,":@sentry/").concat(e),version:bg}))),version:bg}),e._metadata=i}function kk(e,t){var n,r;const i=null!==(n=null!==t&&void 0!==t?t:Ek(e))&&void 0!==n?n:[];if(0===i.length)return;const s=e.getOptions(),o=function(e,t,n,r){const i={};return null!==t&&void 0!==t&&t.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(i.dsn=Iv(r)),Gv(i,[(s=e,[{type:"log",item_count:s.length,content_type:"application/vnd.sentry.items.log+json"},{items:s}])]);var s}(i,s._metadata,s.tunnel,e.getDsn());null===(r=wg._sentryClientToLogBufferMap)||void 0===r||r.set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function Ek(e){var t;return null===(t=wg._sentryClientToLogBufferMap)||void 0===t?void 0:t.get(e)}function xk(e){var t;void 0===(null===(t=e.user)||void 0===t?void 0:t.ip_address)&&(e.user=u(u({},e.user),{},{ip_address:"{{auto}}"}))}function Tk(e){var t;"aggregates"in e?void 0===(null===(t=e.attrs)||void 0===t?void 0:t.ip_address)&&(e.attrs=u(u({},e.attrs),{},{ip_address:"{{auto}}"})):void 0===e.ipAddress&&(e.ipAddress="{{auto}}")}function Ik(e,t){const n=Ak(e,t),r={type:Ok(t),value:Mk(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Ck(e,t,n,r){const i=Oy(),s=null===i||void 0===i?void 0:i.getOptions().normalizeDepth,o=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}return}(t),a={__serialized__:Wv(t,s)};if(o)return{exception:{values:[Ik(e,o)]},extra:a};const l={exception:{values:[{type:Mg(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Fk(t,{isUnhandledRejection:r})}]},extra:a};if(n){const t=Ak(e,n);t.length&&(l.exception.values[0].stacktrace={frames:t})}return l}function Nk(e,t){return{exception:{values:[Ik(e,t)]}}}function Ak(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e&&Rk.test(e.message))return 1;return 0}(t),i=function(e){if("number"===typeof e.framesToPop)return e.framesToPop;return 0}(t);try{return e(n,r,i)}catch($C){}return[]}wg._sentryClientToLogBufferMap=new WeakMap;const Rk=/Minified React error #\d+;/i;function Dk(e){return"undefined"!==typeof WebAssembly&&"undefined"!==typeof WebAssembly.Exception&&e instanceof WebAssembly.Exception}function Ok(e){const t=null===e||void 0===e?void 0:e.name;if(!t&&Dk(e)){return e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception"}return t}function Mk(e){const t=null===e||void 0===e?void 0:e.message;return Dk(e)?Array.isArray(e.message)&&2==e.message.length?e.message[1]:"wasm exception":t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}function Pk(e,t,n,r,i){let s;if(Cg(t)&&t.error){return Nk(e,t.error)}if(Ng(t)||Ig(t,"DOMException")){const i=t;if("stack"in t)s=Nk(e,t);else{const t=i.name||(Ng(i)?"DOMError":"DOMException"),o=i.message?"".concat(t,": ").concat(i.message):t;s=Lk(e,o,n,r),ly(s,o)}return"code"in i&&(s.tags=u(u({},s.tags),{},{"DOMException.code":"".concat(i.code)})),s}if(Tg(t))return Nk(e,t);if(Og(t)||Mg(t)){return s=Ck(e,t,n,i),cy(s,{synthetic:!0}),s}return s=Lk(e,t,n,r),ly(s,"".concat(t),void 0),cy(s,{synthetic:!0}),s}function Lk(e,t,n,r){const i={};if(r&&n){const r=Ak(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]}),cy(i,{synthetic:!0})}if(Rg(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}function Fk(e,t){let{isUnhandledRejection:n}=t;const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;const n=Object.keys(ny(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Qg(r,t);for(let i=n.length;i>0;i--){const e=n.slice(0,i).join(", ");if(!(e.length>t))return i===n.length?e:Qg(e,t)}return""}(e),i=n?"promise rejection":"exception";if(Cg(e))return"Event `ErrorEvent` captured as ".concat(i," with message `").concat(e.message,"`");if(Mg(e)){const t=function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch($C){}}(e);return"Event `".concat(t,"` (type=").concat(e.type,") captured as ").concat(i)}return"Object captured as ".concat(i," with keys: ").concat(r)}class jk extends bk{constructor(e){const t=function(e){var t;return u({release:"string"===typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:null===(t=D_.SENTRY_RELEASE)||void 0===t?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0},e)}(e);Sk(t,"browser",["browser"],D_.SENTRY_SDK_SOURCE||"npm"),super(t);const{sendDefaultPii:n,sendClientReports:r,_experiments:i}=this._options,s=null===i||void 0===i?void 0:i.enableLogs;D_.document&&(r||s)&&D_.document.addEventListener("visibilitychange",(()=>{"hidden"===D_.document.visibilityState&&(r&&this._flushOutcomes(),s&&kk(this))})),s&&(this.on("flush",(()=>{kk(this)})),this.on("afterCaptureLog",(()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout((()=>{kk(this)}),5e3)}))),n&&(this.on("postprocessEvent",xk),this.on("beforeSendSession",Tk))}eventFromException(e,t){return function(e,t,n,r){const i=Pk(e,t,(null===n||void 0===n?void 0:n.syntheticException)||void 0,r);return cy(i),i.level="error",null!==n&&void 0!==n&&n.event_id&&(i.event_id=n.event_id),d_(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2?arguments[2]:void 0;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const s=Lk(e,t,(null===r||void 0===r?void 0:r.syntheticException)||void 0,i);return s.level=n,null!==r&&void 0!==r&&r.event_id&&(s.event_id=r.event_id),d_(s)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}_prepareEvent(e,t,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n,r)}}function Uk(){"console"in wg&&Hg.forEach((function(e){e in wg.console&&Xg(wg.console,e,(function(t){return Wg[e]=t,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Sb("console",{args:n,level:e});const i=Wg[e];null===i||void 0===i||i.apply(wg.console,n)}}))}))}const zk=100;function Vk(e,t){const n=Oy(),r=Ry();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=zk}=n.getOptions();if(s<=0)return;const o=u({timestamp:dy()},e),a=i?Kg((()=>i(o,t))):o;null!==a&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,s))}function Bk(e){return"warn"===e?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}function qk(e){return void 0===e?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}let Hk,Wk,Kk;function Gk(e){wb("dom",e),_b("dom",Qk)}function Qk(){if(!Pb.document)return;const e=Sb.bind(null,"dom"),t=Yk(e,!0);Pb.document.addEventListener("click",t,!1),Pb.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{var n,r;const i=null===(n=Pb[t])||void 0===n?void 0:n.prototype;null!==i&&void 0!==i&&null!==(r=i.hasOwnProperty)&&void 0!==r&&r.call(i,"addEventListener")&&(Xg(i,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{const r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},s=r[n]=r[n]||{refCount:0};if(!s.handler){const r=Yk(e);s.handler=r,t.call(this,n,r,i)}s.refCount++}catch($C){}return t.call(this,n,r,i)}})),Xg(i,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this.__sentry_instrumentation_handlers__||{},i=n[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch($C){}return e.call(this,t,n,r)}})))}))}function Yk(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch($C){return null}}(n);if(function(e,t){return"keypress"===e&&(null===t||void 0===t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;Zg(n,"_sentryCaptured",!0),r&&!r._sentryId&&Zg(r,"_sentryId",sy());const i="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==Wk)return!1;try{if(!e.target||e.target._sentryId!==Kk)return!1}catch($C){}return!0}(n)){e({event:n,name:i,global:t}),Wk=n.type,Kk=r?r._sentryId:void 0}clearTimeout(Hk),Hk=Pb.setTimeout((()=>{Kk=void 0,Wk=void 0}),1e3)}}const $k=1024,Jk=function(){const e=u({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{name:"Breadcrumbs",setup(t){e.console&&function(e){const t="console";wb(t,e),_b(t,Uk)}(function(e){return function(t){if(Oy()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:Bk(t.level),message:Yg(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message="Assertion failed: ".concat(Yg(t.args.slice(1)," ")||"console.assert"),n.data.arguments=t.args.slice(1)}Vk(n,{input:t.args,level:t.level})}}(t)),e.dom&&Gk(function(e,t){return function(n){if(Oy()!==e)return;let r,i,s="object"===typeof t?t.serializeAttribute:void 0,o="object"===typeof t&&"number"===typeof t.maxStringLength?t.maxStringLength:void 0;o&&o>$k&&(c_&&Gg.warn("`dom.maxStringLength` cannot exceed ".concat($k,", but a value of ").concat(o," was configured. Sentry will use ").concat($k," instead.")),o=$k),"string"===typeof s&&(s=[s]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=zg(t,{keyAttrs:s,maxStringLength:o}),i=qg(t)}catch($C){r="<unknown>"}if(0===r.length)return;const a={category:"ui.".concat(n.name),message:r};i&&(a.data={"ui.component_name":i}),Vk(a,{event:n.event,name:n.name,global:n.global})}}(t,e.dom)),e.xhr&&X_(function(e){return function(t){if(Oy()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,i=t.xhr[J_];if(!n||!r||!i)return;const{method:s,url:o,status_code:a,body:l}=i,c={method:s,url:o,status_code:a},u={xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:r},d={category:"xhr",data:c,type:"http",level:qk(a)};e.emit("beforeOutgoingRequestBreadcrumb",d,u),Vk(d,u)}}(t)),e.fetch&&V_(function(e){return function(t){if(Oy()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.fetchData.method,t.fetchData.url,t.error){const i=t.fetchData,s={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r},o={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",o,s),Vk(o,s)}else{const i=t.response,s=u(u({},t.fetchData),{},{status_code:null===i||void 0===i?void 0:i.status});t.fetchData.request_body_size,t.fetchData.response_body_size,null===i||void 0===i||i.status;const o={input:t.args,response:i,startTimestamp:n,endTimestamp:r},a={category:"fetch",data:s,type:"http",level:qk(s.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",a,o),Vk(a,o)}}}(t)),e.history&&a_(function(e){return function(t){var n;if(Oy()!==e)return;let r=t.from,i=t.to;const s=Mb(D_.location.href);let o=r?Mb(r):void 0;const a=Mb(i);null!==(n=o)&&void 0!==n&&n.path||(o=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),Vk({category:"navigation",data:{from:r,to:i}})}}(t)),e.sentry&&t.on("beforeSendEvent",function(e){return function(t){Oy()===e&&Vk({category:"sentry.".concat("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:ay(t)},{event:t})}}(t))}}};const Xk=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Zk=function(){const e=u({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&Xg(D_,"setTimeout",eE),e.setInterval&&Xg(D_,"setInterval",eE),e.requestAnimationFrame&&Xg(D_,"requestAnimationFrame",tE),e.XMLHttpRequest&&"XMLHttpRequest"in D_&&Xg(XMLHttpRequest.prototype,"send",nE);const t=e.eventTarget;if(t){(Array.isArray(t)?t:Xk).forEach((t=>function(e,t){var n,r;const i=null===(n=D_[e])||void 0===n?void 0:n.prototype;if(null===i||void 0===i||null===(r=i.hasOwnProperty)||void 0===r||!r.call(i,"addEventListener"))return;Xg(i,"addEventListener",(function(n){return function(r,i,s){try{"function"===typeof i.handleEvent&&(i.handleEvent=P_(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Bv(i),target:e},handled:!1,type:"instrument"}}))}catch(o){}return t.unregisterOriginalCallbacks&&function(e,t,n){e&&"object"===typeof e&&"removeEventListener"in e&&"function"===typeof e.removeEventListener&&e.removeEventListener(t,n)}(this,r,i),n.apply(this,[r,P_(i,{mechanism:{data:{function:"addEventListener",handler:Bv(i),target:e},handled:!1,type:"instrument"}}),s])}})),Xg(i,"removeEventListener",(function(e){return function(t,n,r){try{const i=n.__sentry_wrapped__;i&&e.call(this,t,i,r)}catch($C){}return e.call(this,t,n,r)}}))}(t,e)))}}}};function eE(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=n[0];return n[0]=P_(i,{mechanism:{data:{function:Bv(e)},handled:!1,type:"instrument"}}),e.apply(this,n)}}function tE(e){return function(t){return e.apply(this,[P_(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Bv(e)},handled:!1,type:"instrument"}})])}}function nE(e){return function(){const t=this;["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in t&&"function"===typeof t[e]&&Xg(t,e,(function(t){const n={mechanism:{data:{function:e,handler:Bv(t)},handled:!1,type:"instrument"}},r=ty(t);return r&&(n.mechanism.data.handler=Bv(r)),P_(t,n)}))}));for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(this,r)}}const rE=()=>({name:"BrowserSession",setupOnce(){"undefined"!==typeof D_.document?(C_({ignoreDuration:!0}),R_(),a_((e=>{let{from:t,to:n}=e;void 0!==t&&t!==n&&(C_({ignoreDuration:!0}),R_())}))):c_&&Gg.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),iE=function(){const e=u({onerror:!0,onunhandledrejection:!0},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(!function(e){Eb((t=>{const{stackParser:n,attachStacktrace:r}=oE();if(Oy()!==e||M_())return;const{msg:i,url:s,line:o,column:a,error:l}=t,c=function(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=r,u=n,d=Ag(t)&&t.length>0?t:Bg();0===l.length&&l.push({colno:c,filename:d,function:Lv,in_app:!0,lineno:u});return e}(Pk(n,l||i,void 0,r,!1),s,o,a);c.level="error",T_(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})}))}(t),sE("onerror")),e.onunhandledrejection&&(!function(e){Ib((t=>{const{stackParser:n,attachStacktrace:r}=oE();if(Oy()!==e||M_())return;const i=function(e){if(Dg(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(t){}return e}(t),s=Dg(i)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: ".concat(String(i))}]}}:Pk(n,i,void 0,r,!0);s.level="error",T_(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(t),sE("onunhandledrejection"))}}};function sE(e){c_&&Gg.log("Global Handler attached: ".concat(e))}function oE(){const e=Oy();return(null===e||void 0===e?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}const aE=()=>({name:"HttpContext",preprocessEvent(e){var t;if(!D_.navigator&&!D_.location&&!D_.document)return;const n=L_(),r=u(u({},n.headers),null===(t=e.request)||void 0===t?void 0:t.headers);e.request=u(u(u({},n),e.request),{},{headers:r})}});function lE(e,t,n,r,i,s){var o;if(null===(o=i.exception)||void 0===o||!o.values||!s||!Lg(s.originalException,Error))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=cE(e,t,r,s.originalException,n,i.exception.values,a,0))}function cE(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let l=[...s];if(Lg(r[i],Error)){uE(o,a);const s=e(t,r[i]),c=l.length;dE(s,i,c,a),l=cE(e,t,n,r[i],i,[s,...l],s,c)}return Array.isArray(r.errors)&&r.errors.forEach(((r,s)=>{if(Lg(r,Error)){uE(o,a);const c=e(t,r),u=l.length;dE(c,"errors[".concat(s,"]"),u,a),l=cE(e,t,n,r,i,[c,...l],c,u)}})),l}function uE(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=u(u(u({},e.mechanism),"AggregateError"===e.type&&{is_exception_group:!0}),{},{exception_id:t})}function dE(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=u(u({},e.mechanism),{},{type:"chained",source:t,exception_id:n,parent_id:r})}const hE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,i){lE(Ik,i.getOptions().stackParser,n,t,e,r)}}};function fE(e,t,n,r){const i={filename:e,function:"<anonymous>"===t?Lv:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}const pE=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,mE=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,gE=/\((\S*)(?::(\d+))(?::(\d+))\)/,yE=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,vE=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,bE=Uv(...[[30,e=>{const t=pE.exec(e);if(t){const[,e,n,r]=t;return fE(e,Lv,+n,+r)}const n=mE.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){const e=gE.exec(n[2]);e&&(n[2]=e[1],n[3]=e[2],n[4]=e[3])}const[e,t]=wE(n[1]||Lv,n[2]);return fE(t,e,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=yE.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=vE.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||Lv;return[n,e]=wE(n,e),fE(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]]),wE=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:Lv,n?"safari-extension:".concat(t):"safari-web-extension:".concat(t)]:[e,t]},_E=Symbol.for("SentryBufferFullError");function SE(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return h_(_E);const i=r();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new f_(((n,r)=>{let i=t.length;if(!i)return n(!0);const s=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{d_(e).then((()=>{--i||(clearTimeout(s),n(!0))}),r)}))}))}}}function kE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return function(e,t){return e[t]||e.all||0}(e,t)>n}function EE(e,t){let{statusCode:n,headers:r}=t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();const s=u({},e),o=null===r||void 0===r?void 0:r["x-sentry-rate-limits"],a=null===r||void 0===r?void 0:r["retry-after"];if(o)for(const l of o.trim().split(",")){const[e,t,,,n]=l.split(":",5),r=parseInt(e,10),o=1e3*(isNaN(r)?60:r);if(t)for(const a of t.split(";"))"metric_bucket"===a&&n&&!n.split(";").includes("custom")||(s[a]=i+o);else s.all=i+o}else a?s.all=i+function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();const n=parseInt("".concat(e),10);if(!isNaN(n))return 1e3*n;const r=Date.parse("".concat(e));return isNaN(r)?6e4:r-t}(a,i):429===n&&(s.all=i+6e4);return s}const xE={};function TE(e){const t=xE[e];if(t)return t;let n=Pb[e];if(s_(n))return xE[e]=n.bind(Pb);const r=Pb.document;if(r&&"function"===typeof r.createElement)try{const t=r.createElement("iframe");t.hidden=!0,r.head.appendChild(t);const i=t.contentWindow;null!==i&&void 0!==i&&i[e]&&(n=i[e]),r.head.removeChild(t)}catch($C){Lb&&Gg.warn("Could not create sandbox iframe for ".concat(e," check, bailing to window.").concat(e,": "),$C)}return n?xE[e]=n.bind(Pb):n}function IE(e){xE[e]=void 0}function CE(){return TE("setTimeout")(...arguments)}function NE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TE("fetch"),n=0,r=0;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:SE(e.bufferSize||64),r={};return{send:function(i){const s=[];if(Yv(i,((t,n)=>{const i=tb(n);kE(r,i)?e.recordDroppedEvent("ratelimit_backoff",i):s.push(t)})),0===s.length)return d_({});const o=Gv(i[0],s),a=t=>{Yv(o,((n,r)=>{e.recordDroppedEvent(t,tb(r))}))};return n.add((()=>t({body:Jv(o)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&Eg&&Gg.warn("Sentry responded with status code ".concat(e.statusCode," to sent event.")),r=EE(r,e),e)),(e=>{throw a("network_error"),Eg&&Gg.error("Encountered error running transport request:",e),e})))).then((e=>e),(e=>{if(e===_E)return Eg&&Gg.error("Skipped sending event because buffer is full."),a("queue_overflow"),d_({});throw e}))},flush:e=>n.drain(e)}}(e,(function(i){const s=i.body.length;n+=s,r++;const o=u({body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15},e.fetchOptions);if(!t)return IE("fetch"),h_("No fetch implementation available");try{return t(e.url,o).then((e=>(n-=s,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch($C){return IE("fetch"),n-=s,r--,h_($C)}}))}function AE(){return!!function(){var e;if("undefined"===typeof D_.window)return!1;const t=D_;if(t.nw)return!1;const n=t.chrome||t.browser;if(null===n||void 0===n||null===(e=n.runtime)||void 0===e||!e.id)return!1;const r=Bg(),i=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"],s=D_===D_.top&&i.some((e=>r.startsWith("".concat(e,"://"))));return!s}()&&(c_&&Kg((()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")})),!0)}function RE(e,t){const n=null===t||void 0===t?void 0:t.getDsn(),r=null===t||void 0===t?void 0:t.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,n)||function(e,t){if(!t)return!1;return DE(e)===DE(t)}(e,r)}function DE(e){return"/"===e[e.length-1]?e.slice(0,-1):e}function OE(){return!("undefined"!==typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0)}function ME(){return"undefined"!==typeof window&&(!OE()||function(){const e=wg.process;return"renderer"===(null===e||void 0===e?void 0:e.type)}())}function PE(e){return new URLSearchParams(e).toString()}function LE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gg;try{if("string"===typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[PE(e)];if(!e)return[void 0]}catch(n){return Lb&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Lb&&t.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function FE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(2===e.length&&"object"===typeof e[1])return e[1].body}const jE=wg,UE="sentryReplaySession",zE="Unable to send Replay",VE=5e3,BE=5500,qE=15e4,HE=5e3,WE=2e7,KE=4999,GE=36e5;var QE=Object.defineProperty,YE=(e,t,n)=>((e,t,n)=>t in e?QE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!==typeof t?t+"":t,n),$E=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))($E||{});function JE(e){const t=null===e||void 0===e?void 0:e.host;return Boolean((null===t||void 0===t?void 0:t.shadowRoot)===e)}function XE(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function ZE(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,ex).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t):null}catch(n){return null}var t}function ex(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=ZE(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import","url(".concat(JSON.stringify(e.href),")")];return""===e.layerName?n.push("layer"):e.layerName&&n.push("layer(".concat(e.layerName,")")),e.supportsText&&n.push("supports(".concat(e.supportsText,")")),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(n){}else if(function(e){return"selectorText"in e}(e)){let t=e.cssText;const n=e.selectorText.includes(":"),r="string"===typeof e.style.all&&e.style.all;if(r&&(t=function(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,i=r[n],s=r.getPropertyPriority(i);t+="".concat(i,":").concat(r.getPropertyValue(i)).concat(s?" !important":"",";")}return"".concat(e.selectorText," { ").concat(t," }")}(e)),n&&(t=function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(t)),n||r)return t}return t||e.cssText}class tx{constructor(){YE(this,"idNodeMap",new Map),YE(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;const n=null===(t=this.getMeta(e))||void 0===t?void 0:t.id;return null!==n&&void 0!==n?n:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function nx(e){let{maskInputOptions:t,tagName:n,type:r}=e;return"OPTION"===n&&(n="SELECT"),Boolean(t[n.toLowerCase()]||r&&t[r]||"password"===r||"INPUT"===n&&!r&&t.text)}function rx(e){let{isMasked:t,element:n,value:r,maskInputFn:i}=e,s=r||"";return t?(i&&(s=i(s,n)),"*".repeat(s.length)):s}function ix(e){return e.toLowerCase()}function sx(e){return e.toUpperCase()}const ox="__rrweb_original__";function ax(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?ix(t):null}function lx(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}function cx(e,t){var n;let r;try{r=new URL(e,null!==t&&void 0!==t?t:window.location.href)}catch(s){return null}const i=r.pathname.match(/\.([0-9a-z]+)(?:$)/i);return null!==(n=null===i||void 0===i?void 0:i[1])&&void 0!==n?n:null}const ux={};function dx(e){const t=ux[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"===typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const i=t.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(t)}catch(i){}return ux[e]=r.bind(window)}function hx(){return dx("setTimeout")(...arguments)}function fx(){return dx("clearTimeout")(...arguments)}function px(e){try{return e.contentDocument}catch(t){}}let mx=1;const gx=new RegExp("[^a-z0-9-_:]");function yx(){return mx++}let vx,bx;const wx=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,_x=/^(?:[a-z+]+:)?\/\//i,Sx=/^www\..*/i,kx=/^(data:)([^,]*),(.*)/i;function Ex(e,t){return(e||"").replace(wx,((e,n,r,i,s,o)=>{const a=r||s||o,l=n||i||"";if(!a)return e;if(_x.test(a)||Sx.test(a))return"url(".concat(l).concat(a).concat(l,")");if(kx.test(a))return"url(".concat(l).concat(a).concat(l,")");if("/"===a[0])return"url(".concat(l).concat(function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a).concat(l,")");const c=t.split("/"),u=a.split("/");c.pop();for(const t of u)"."!==t&&(".."===t?c.pop():c.push(t));return"url(".concat(l).concat(c.join("/")).concat(l,")")}))}const xx=/^[^ \t\n\r\u000c]+/,Tx=/^[, \t\n\r\u000c]+/;const Ix=new WeakMap;function Cx(e,t){return t&&""!==t.trim()?Ax(e,t):t}function Nx(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function Ax(e,t){let n=Ix.get(e);if(n||(n=e.createElement("a"),Ix.set(e,n)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return n.setAttribute("href",t),n.href}function Rx(e,t,n,r,i,s){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?Cx(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;const i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):""}const i=[];for(;r(Tx),!(n>=t.length);){let s=r(xx);if(","===s.slice(-1))s=Cx(e,s.substring(0,s.length-1)),i.push(s);else{let r="";s=Cx(e,s);let o=!1;for(;;){const e=t.charAt(n);if(""===e){i.push((s+r).trim());break}if(o)")"===e&&(o=!1);else{if(","===e){n+=1,i.push((s+r).trim());break}"("===e&&(o=!0)}r+=e,n+=1}}}return i.join(", ")}(e,r):"style"===n?Ex(r,Ax(e)):"object"===t&&"data"===n?Cx(e,r):"function"===typeof s?s(n,r,i):r:Cx(e,r):r}function Dx(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function Ox(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"===typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(i){}return!1}function Mx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Mx(e.parentNode,t,n,r+1):-1}function Px(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"===typeof e){if(r.matches(".".concat(e)))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch(i){return!1}}}function Lx(e,t,n,r,i,s){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===o)return!1;if("INPUT"===o.tagName){const e=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let a=-1,l=-1;if(s){if(l=Mx(o,Px(r,i)),l<0)return!0;a=Mx(o,Px(t,n),l>=0?l:1/0)}else{if(a=Mx(o,Px(t,n)),a<0)return!1;l=Mx(o,Px(r,i),a>=0?a:1/0)}return a>=0?!(l>=0)||a<=l:!(l>=0)&&!!s}catch(o){}return!!s}function Fx(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h,inlineStylesheet:f,maskInputOptions:p={},maskTextFn:m,maskInputFn:g,dataURLOptions:y={},inlineImages:v,recordCanvas:b,keepIframeSrcFn:w,newlyAddedElement:_=!1}=t,S=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:$E.Document,childNodes:[],compatMode:e.compatMode}:{type:$E.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:$E.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:S};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:s,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:u={},inlineImages:d,recordCanvas:h,keepIframeSrcFn:f,newlyAddedElement:p=!1,rootId:m,maskTextClass:g,unmaskTextClass:y,maskTextSelector:v,unmaskTextSelector:b}=t,w=Ox(e,r,i,s),_=function(e){if(e instanceof HTMLFormElement)return"form";const t=ix(e.tagName);return gx.test(t)?"div":t}(e);let S={};const k=e.attributes.length;for(let T=0;T<k;T++){const t=e.attributes[T];t.name&&!Dx(_,t.name,t.value)&&(S[t.name]=Rx(n,_,ix(t.name),t.value,e,l))}if("link"===_&&o){const t=Array.from(n.styleSheets).find((t=>t.href===e.href));let r=null;t&&(r=ZE(t)),r&&(S.rel=null,S.href=null,S.crossorigin=null,S._cssText=Ex(r,t.href))}if("style"===_&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=ZE(e.sheet);t&&(S._cssText=Ex(t,Ax(n)))}if("input"===_||"textarea"===_||"select"===_||"option"===_){const t=e,n=ax(t),r=lx(t,sx(_),n),i=t.checked;if("submit"!==n&&"button"!==n&&r){const e=Lx(t,g,v,y,b,nx({type:n,tagName:sx(_),maskInputOptions:a}));S.value=rx({isMasked:e,element:t,value:r,maskInputFn:c})}i&&(S.checked=i)}"option"===_&&(e.selected&&!a.select?S.selected=!0:delete S.selected);if("canvas"===_&&h)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const i=t.getImageData,s=ox in i?i[ox]:i;if(new Uint32Array(s.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(S.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const t=e.toDataURL(u.type,u.quality),r=n.createElement("canvas");r.width=e.width,r.height=e.height;t!==r.toDataURL(u.type,u.quality)&&(S.rr_dataURL=t)}if("img"===_&&d){vx||(vx=n.createElement("canvas"),bx=vx.getContext("2d"));const t=e,r=t.currentSrc||t.getAttribute("src")||"<unknown-src>",i=t.crossOrigin,s=()=>{t.removeEventListener("load",s);try{vx.width=t.naturalWidth,vx.height=t.naturalHeight,bx.drawImage(t,0,0),S.rr_dataURL=vx.toDataURL(u.type,u.quality)}catch(e){if("anonymous"!==t.crossOrigin)return t.crossOrigin="anonymous",void(t.complete&&0!==t.naturalWidth?s():t.addEventListener("load",s));console.warn("Cannot inline img src=".concat(r,"! Error: ").concat(e))}"anonymous"===t.crossOrigin&&(i?S.crossOrigin=i:t.removeAttribute("crossorigin"))};t.complete&&0!==t.naturalWidth?s():t.addEventListener("load",s)}"audio"!==_&&"video"!==_||(S.rr_mediaState=e.paused?"paused":"played",S.rr_mediaCurrentTime=e.currentTime);p||(e.scrollLeft&&(S.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(S.rr_scrollTop=e.scrollTop));if(w){const{width:t,height:n}=e.getBoundingClientRect();S={class:S.class,rr_width:"".concat(t,"px"),rr_height:"".concat(n,"px")}}"iframe"!==_||f(S.src)||(w||px(e)||(S.rr_src=S.src),delete S.src);let E;try{customElements.get(_)&&(E=!0)}catch(x){}return{type:$E.Element,tagName:_,attributes:S,childNodes:[],isSVG:Nx(e)||void 0,needBlock:w,rootId:m,isCustom:E}}(e,{doc:n,blockClass:i,blockSelector:s,unblockSelector:o,inlineStylesheet:f,maskAttributeFn:l,maskInputOptions:p,maskInputFn:g,dataURLOptions:y,inlineImages:v,recordCanvas:b,keepIframeSrcFn:w,newlyAddedElement:_,rootId:S,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h});case e.TEXT_NODE:return function(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:s,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:l,maskInputFn:c,rootId:u}=t,d=e.parentNode&&e.parentNode.tagName;let h=e.textContent;const f="STYLE"===d||void 0,p="SCRIPT"===d||void 0,m="TEXTAREA"===d||void 0;if(f&&h){try{var g;e.nextSibling||e.previousSibling||null!==(g=e.parentNode.sheet)&&void 0!==g&&g.cssRules&&(h=ZE(e.parentNode.sheet))}catch(v){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(v),e)}h=Ex(h,Ax(t.doc))}p&&(h="SCRIPT_PLACEHOLDER");const y=Lx(e,r,s,i,o,n);f||p||m||!h||!y||(h=a?a(h,e.parentElement):h.replace(/[\S]/g,"*"));m&&h&&(l.textarea||y)&&(h=c?c(h,e.parentNode):h.replace(/[\S]/g,"*"));if("OPTION"===d&&h){h=rx({isMasked:Lx(e,r,s,i,o,nx({type:null,tagName:d,maskInputOptions:l})),element:e,value:h,maskInputFn:c})}return{type:$E.Text,textContent:h||"",isStyle:f,rootId:u}}(e,{doc:n,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h,maskTextFn:m,maskInputOptions:p,maskInputFn:g,rootId:S});case e.CDATA_SECTION_NODE:return{type:$E.CDATA,textContent:"",rootId:S};case e.COMMENT_NODE:return{type:$E.Comment,textContent:e.textContent||"",rootId:S};default:return!1}}function jx(e){return void 0===e||null===e?"":e.toLowerCase()}function Ux(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:h=!1,inlineStylesheet:f=!0,maskInputOptions:p={},maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:b={},inlineImages:w=!1,recordCanvas:_=!1,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:E=5e3,onStylesheetLoad:x,stylesheetLoadTimeout:T=5e3,keepIframeSrcFn:I=()=>!1,newlyAddedElement:C=!1}=t;let{preserveWhiteSpace:N=!0}=t;const A=Fx(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,dataURLOptions:b,inlineImages:w,recordCanvas:_,keepIframeSrcFn:I,newlyAddedElement:C});if(!A)return console.warn(e,"not serialized"),null;let R;R=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===$E.Comment)return!0;if(e.type===$E.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"===typeof e.attributes.href&&"js"===cx(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(jx(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===jx(e.attributes.name)||"icon"===jx(e.attributes.rel)||"apple-touch-icon"===jx(e.attributes.rel)||"shortcut icon"===jx(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&jx(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(jx(e.attributes.property).match(/^(og|twitter|fb):/)||jx(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===jx(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===jx(e.attributes.name)||"googlebot"===jx(e.attributes.name)||"bingbot"===jx(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===jx(e.attributes.name)||"generator"===jx(e.attributes.name)||"framework"===jx(e.attributes.name)||"publisher"===jx(e.attributes.name)||"progid"===jx(e.attributes.name)||jx(e.attributes.property).match(/^article:/)||jx(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===jx(e.attributes.name)||"yandex-verification"===jx(e.attributes.name)||"csrf-token"===jx(e.attributes.name)||"p:domain_verify"===jx(e.attributes.name)||"verify-v1"===jx(e.attributes.name)||"verification"===jx(e.attributes.name)||"shopify-checkout-api-token"===jx(e.attributes.name)))return!0}}return!1}(A,v)&&(N||A.type!==$E.Text||A.isStyle||A.textContent.replace(/^\s+|\s+$/gm,"").length)?yx():-2;const D=Object.assign(A,{id:R});if(r.add(e,D),-2===R)return null;S&&S(e);let O=!h;if(D.type===$E.Element){O=O&&!D.needBlock,delete D.needBlock;const t=e.shadowRoot;t&&XE(t)&&(D.isShadowHost=!0)}if((D.type===$E.Document||D.type===$E.Element)&&O){v.headWhitespace&&D.type===$E.Element&&"head"===D.tagName&&(N=!1);const t={doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:h,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:b,inlineImages:w,recordCanvas:_,preserveWhiteSpace:N,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:E,onStylesheetLoad:x,stylesheetLoadTimeout:T,keepIframeSrcFn:I};for(const n of Array.from(e.childNodes)){const e=Ux(n,t);e&&D.childNodes.push(e)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const r=Ux(n,t);r&&(XE(e.shadowRoot)&&(r.isShadow=!0),D.childNodes.push(r))}}return e.parentNode&&JE(e.parentNode)&&XE(e.parentNode)&&(D.isShadow=!0),D.type!==$E.Element||"iframe"!==D.tagName||Ox(e,i,s,o)||function(e,t,n){const r=e.contentWindow;if(!r)return;let i,s=!1;try{i=r.document.readyState}catch(a){return}if("complete"!==i){const r=hx((()=>{s||(t(),s=!0)}),n);return void e.addEventListener("load",(()=>{fx(r),s=!0,t()}))}const o="about:blank";if(r.location.href!==o||e.src===o||""===e.src)return hx(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=px(e);if(t&&k){const n=Ux(t,{doc:t,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:b,inlineImages:w,recordCanvas:_,preserveWhiteSpace:N,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:E,onStylesheetLoad:x,stylesheetLoadTimeout:T,keepIframeSrcFn:I});n&&k(e,n)}}),E),D.type===$E.Element&&"link"===D.tagName&&"string"===typeof D.attributes.rel&&("stylesheet"===D.attributes.rel||"preload"===D.attributes.rel&&"string"===typeof D.attributes.href&&"css"===cx(D.attributes.href))&&function(e,t,n){let r,i=!1;try{r=e.sheet}catch(o){return}if(r)return;const s=hx((()=>{i||(t(),i=!0)}),n);e.addEventListener("load",(()=>{fx(s),i=!0,t()}))}(e,(()=>{if(x){const t=Ux(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:b,inlineImages:w,recordCanvas:_,preserveWhiteSpace:N,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:E,onStylesheetLoad:x,stylesheetLoadTimeout:T,keepIframeSrcFn:I});t&&x(e,t)}}),T),D}function zx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Vx="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let Bx={map:{},getId:()=>(console.error(Vx),-1),getNode:()=>(console.error(Vx),null),removeNodeFromMap(){console.error(Vx)},has:()=>(console.error(Vx),!1),reset(){console.error(Vx)}};function qx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null,i=0;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];const l=Date.now();i||!1!==n.leading||(i=l);const c=t-(l-i),u=this;c<=0||c>t?(r&&(!function(){cT("clearTimeout")(...arguments)}(r),r=null),i=l,e.apply(u,o)):r||!1===n.trailing||(r=uT((()=>{i=!1===n.leading?0:Date.now(),r=null,e.apply(u,o)}),c))}}function Hx(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window;const s=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(e){uT((()=>{n.set.call(this,e)}),0),s&&s.set&&s.set.call(this,e)}}),()=>Hx(e,t,s||{},!0)}function Wx(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return"function"===typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch(r){return()=>{}}}"undefined"!==typeof window&&window.Proxy&&window.Reflect&&(Bx=new Proxy(Bx,{get:(e,t,n)=>("map"===t&&console.error(Vx),Reflect.get(e,t,n))}));let Kx=Date.now;function Gx(e){var t,n,r,i;const s=e.document;return{left:s.scrollingElement?s.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:(null===s||void 0===s?void 0:s.documentElement.scrollLeft)||(null===s||void 0===s||null===(t=s.body)||void 0===t||null===(t=t.parentElement)||void 0===t?void 0:t.scrollLeft)||(null===s||void 0===s||null===(n=s.body)||void 0===n?void 0:n.scrollLeft)||0,top:s.scrollingElement?s.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null===s||void 0===s?void 0:s.documentElement.scrollTop)||(null===s||void 0===s||null===(r=s.body)||void 0===r||null===(r=r.parentElement)||void 0===r?void 0:r.scrollTop)||(null===s||void 0===s||null===(i=s.body)||void 0===i?void 0:i.scrollTop)||0}}function Qx(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Yx(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function $x(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(t){return null}}function Jx(e,t,n,r,i){if(!e)return!1;const s=$x(e);if(!s)return!1;const o=Px(t,n);if(!i){const e=r&&s.matches(r);return o(s)&&!e}const a=Mx(s,o);let l=-1;return!(a<0)&&(r&&(l=Mx(s,Px(null,r))),a>-1&&l<0||a<l)}function Xx(e,t){return-2===t.getId(e)}function Zx(e,t){if(JE(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||Zx(e.parentNode,t))}function eT(e){return Boolean(e.changedTouches)}function tT(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function nT(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function rT(e){return Boolean(null===e||void 0===e?void 0:e.shadowRoot)}/[1-9][0-9]{12}/.test(Date.now().toString())||(Kx=()=>(new Date).getTime());class iT{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){var t;return null!==(t=this.styleIDMap.get(e))&&void 0!==t?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function sT(e){var t;let n=null;return(null===(t=e.getRootNode)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(n=e.getRootNode().host),n}function oT(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=sT(n);)n=t;return n}(e);return t.contains(n)}function aT(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||oT(e))}const lT={};function cT(e){const t=lT[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"===typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const i=t.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(t)}catch(i){}return lT[e]=r.bind(window)}function uT(){return cT("setTimeout")(...arguments)}var dT=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(dT||{}),hT=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(hT||{}),fT=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(fT||{}),pT=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(pT||{}),mT=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(mT||{});function gT(e){try{return e.contentDocument}catch(t){}}function yT(e){return"__ln"in e}class vT{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let r=0;r<e;r++){var n;t=(null===(n=t)||void 0===n?void 0:n.next)||null}return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&yT(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&yT(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const bT=(e,t)=>"".concat(e,"@").concat(t);class wT{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new vT,r=e=>{let t=e,n=-2;for(;-2===n;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},i=i=>{if(!i.parentNode||!aT(i))return;const s=JE(i.parentNode)?this.mirror.getId(sT(i)):this.mirror.getId(i.parentNode),o=r(i);if(-1===s||-1===o)return n.addNode(i);const a=Ux(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{tT(e,this.mirror)&&!Jx(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(e),nT(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),rT(i)&&this.shadowDomManager.addShadowRoot(i.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{Jx(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(e,t),e.contentWindow&&this.canvasManager.addWindow(e.contentWindow),this.shadowDomManager.observeAttachShadow(e))},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});a&&(e.push({parentId:s,nextId:o,node:a}),t.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const a of this.movedSet)ST(this.removes,a,this.mirror)&&!this.movedSet.has(a.parentNode)||i(a);for(const a of this.addedSet)kT(this.droppedSet,a)||ST(this.removes,a,this.mirror)?kT(this.movedSet,a)?i(a):this.droppedSet.add(a):i(a);let s=null;for(;n.length;){let e=null;if(s){const t=this.mirror.getId(s.value.parentNode),n=r(s.value);-1!==t&&-1!==n&&(e=s)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}s=e.previous,n.removeNode(e.value),i(e.value)}const o={texts:this.texts.map((e=>({id:this.mirror.getId(e.node),value:e.value}))).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"===typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(o.texts.length||o.attributes.length||o.removes.length||o.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(o))},this.processMutation=e=>{if(!Xx(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;Jx(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:Lx(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,$x(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const n=e.target;let r=e.attributeName,i=e.target.getAttribute(r);if("value"===r){const t=ax(n),r=n.tagName;i=lx(n,r,t);const s=nx({maskInputOptions:this.maskInputOptions,tagName:r,type:t});i=rx({isMasked:Lx(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,s),element:n,value:i,maskInputFn:this.maskInputFn})}if(Jx(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===e.oldValue)return;let s=this.attributeMap.get(e.target);if("IFRAME"===n.tagName&&"src"===r&&!this.keepIframeSrcFn(i)){if(gT(n))return;r="rr_src"}if(s||(s={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(e.target,s)),"type"===r&&"INPUT"===n.tagName&&"password"===(e.oldValue||"").toLowerCase()&&n.setAttribute("data-rr-is-password","true"),!Dx(n.tagName,r)&&(s.attributes[r]=Rx(this.doc,ix(n.tagName),ix(r),i,n,this.maskAttributeFn),"style"===r)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(t){this.unattachedDoc=this.doc}const r=this.unattachedDoc.createElement("span");e.oldValue&&r.setAttribute("style",e.oldValue);for(const e of Array.from(n.style)){const t=n.style.getPropertyValue(e),i=n.style.getPropertyPriority(e);t!==r.style.getPropertyValue(e)||i!==r.style.getPropertyPriority(e)?s.styleDiff[e]=""===i?t:[t,i]:s._unchangedStyles[e]=[t,i]}for(const e of Array.from(r.style))""===n.style.getPropertyValue(e)&&(s.styleDiff[e]=!1)}break}case"childList":if(Jx(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const n=this.mirror.getId(t),r=JE(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);Jx(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Xx(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(_T(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||Zx(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[bT(n,r)]?_T(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!JE(e.target)||!XE(e.target))||void 0})),this.mapRemoves.push(t))}))}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(Xx(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[bT(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Jx(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach((e=>this.genAdds(e))),rT(e)&&e.shadowRoot.childNodes.forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function _T(e,t){e.delete(t),t.childNodes.forEach((t=>_T(e,t)))}function ST(e,t,n){return 0!==e.length&&function(e,t,n){let r=t.parentNode;for(;r;){const t=n.getId(r);if(e.some((e=>e.id===t)))return!0;r=r.parentNode}return!1}(e,t,n)}function kT(e,t){return 0!==e.size&&ET(e,t)}function ET(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||ET(e,n))}let xT;const TT=e=>{if(!xT)return e;return function(){try{return e(...arguments)}catch(t){if(xT&&!0===xT(t))return()=>{};throw t}}},IT=[];function CT(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(t){}return e&&e.target}function NT(e,t){var n,r;const i=new wT;IT.push(i),i.init(e);let s=window.MutationObserver||window.__rrMutationObserver;const o=null===(n=window)||void 0===n||null===(n=n.Zone)||void 0===n||null===(r=n.__symbol__)||void 0===r?void 0:r.call(n,"MutationObserver");o&&window[o]&&(s=window[o]);const a=new s(TT((t=>{e.onMutation&&!1===e.onMutation(t)||i.processMutations.bind(i)(t)})));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function AT(e){let{mouseInteractionCb:t,doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,sampling:a}=e;if(!1===a.mouseInteraction)return()=>{};const l=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,c=[];let d=null;return Object.keys(fT).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==l[e])).forEach((e=>{let a=ix(e);const l=(e=>n=>{const a=CT(n);if(Jx(a,i,s,o,!0))return;let l=null,c=e;if("pointerType"in n){switch(n.pointerType){case"mouse":l=pT.Mouse;break;case"touch":l=pT.Touch;break;case"pen":l=pT.Pen}l===pT.Touch?fT[e]===fT.MouseDown?c="TouchStart":fT[e]===fT.MouseUp&&(c="TouchEnd"):pT.Pen}else eT(n)&&(l=pT.Touch);null!==l?(d=l,(c.startsWith("Touch")&&l===pT.Touch||c.startsWith("Mouse")&&l===pT.Mouse)&&(l=null)):fT[e]===fT.Click&&(l=d,d=null);const h=eT(n)?n.changedTouches[0]:n;if(!h)return;const f=r.getId(a),{clientX:p,clientY:m}=h;TT(t)(u({type:fT[c],id:f,x:p,y:m},null!==l&&{pointerType:l}))})(e);if(window.PointerEvent)switch(fT[e]){case fT.MouseDown:case fT.MouseUp:a=a.replace("mouse","pointer");break;case fT.TouchStart:case fT.TouchEnd:return}c.push(zx(a,l,n))})),TT((()=>{c.forEach((e=>e()))}))}function RT(e){let{scrollCb:t,doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,sampling:a}=e;return zx("scroll",TT(qx(TT((e=>{const a=CT(e);if(!a||Jx(a,i,s,o,!0))return;const l=r.getId(a);if(a===n&&n.defaultView){const e=Gx(n.defaultView);t({id:l,x:e.left,y:e.top})}else t({id:l,x:a.scrollLeft,y:a.scrollTop})})),a.scroll||100)),n)}const DT=["INPUT","TEXTAREA","SELECT"],OT=new WeakMap;function MT(e){let{inputCb:t,doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,ignoreClass:a,ignoreSelector:l,maskInputOptions:c,maskInputFn:d,sampling:h,userTriggeredOnInput:f,maskTextClass:p,unmaskTextClass:m,maskTextSelector:g,unmaskTextSelector:y}=e;function v(e){let t=CT(e);const r=e.isTrusted,u=t&&sx(t.tagName);if("OPTION"===u&&(t=t.parentElement),!t||!u||DT.indexOf(u)<0||Jx(t,i,s,o,!0))return;const h=t;if(h.classList.contains(a)||l&&h.matches(l))return;const v=ax(t);let w=lx(h,u,v),_=!1;const S=nx({maskInputOptions:c,tagName:u,type:v}),k=Lx(t,p,g,m,y,S);"radio"!==v&&"checkbox"!==v||(_=t.checked),w=rx({isMasked:k,element:t,value:w,maskInputFn:d}),b(t,f?{text:w,isChecked:_,userTriggered:r}:{text:w,isChecked:_});const E=t.name;"radio"===v&&E&&_&&n.querySelectorAll('input[type="radio"][name="'.concat(E,'"]')).forEach((e=>{if(e!==t){const t=rx({isMasked:k,element:e,value:lx(e,u,v),maskInputFn:d});b(e,f?{text:t,isChecked:!_,userTriggered:!1}:{text:t,isChecked:!_})}}))}function b(e,n){const i=OT.get(e);if(!i||i.text!==n.text||i.isChecked!==n.isChecked){OT.set(e,n);const i=r.getId(e);TT(t)(u(u({},n),{},{id:i}))}}const w=("last"===h.input?["change"]:["input","change"]).map((e=>zx(e,TT(v),n))),_=n.defaultView;if(!_)return()=>{w.forEach((e=>e()))};const S=_.Object.getOwnPropertyDescriptor(_.HTMLInputElement.prototype,"value"),k=[[_.HTMLInputElement.prototype,"value"],[_.HTMLInputElement.prototype,"checked"],[_.HTMLSelectElement.prototype,"value"],[_.HTMLTextAreaElement.prototype,"value"],[_.HTMLSelectElement.prototype,"selectedIndex"],[_.HTMLOptionElement.prototype,"selected"]];return S&&S.set&&w.push(...k.map((e=>Hx(e[0],e[1],{set(){TT(v)({target:this,isTrusted:!1})}},!1,_)))),TT((()=>{w.forEach((e=>e()))}))}function PT(e){return function(e,t){if(UT("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||UT("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||UT("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||UT("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function LT(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function FT(e,t){var n,r;let{mirror:i,stylesheetManager:s}=e,o=null;o="#document"===t.nodeName?i.getId(t):i.getId(t.host);const a="#document"===t.nodeName?null===(n=t.defaultView)||void 0===n?void 0:n.Document:null===(r=t.ownerDocument)||void 0===r||null===(r=r.defaultView)||void 0===r?void 0:r.ShadowRoot,l=null!==a&&void 0!==a&&a.prototype?Object.getOwnPropertyDescriptor(null===a||void 0===a?void 0:a.prototype,"adoptedStyleSheets"):void 0;return null!==o&&-1!==o&&a&&l?(Object.defineProperty(t,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get(){var e;return null===(e=l.get)||void 0===e?void 0:e.call(this)},set(e){var t;const n=null===(t=l.set)||void 0===t?void 0:t.call(this,e);if(null!==o&&-1!==o)try{s.adoptStyleSheets(e,o)}catch(r){}return n}}),TT((()=>{Object.defineProperty(t,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})}))):()=>{}}function jT(e){const t=e.doc.defaultView;if(!t)return()=>{};let n;e.recordDOM&&(n=NT(e,e.doc));const r=function(e){let{mousemoveCb:t,sampling:n,doc:r,mirror:i}=e;if(!1===n.mousemove)return()=>{};const s="number"===typeof n.mousemove?n.mousemove:50,o="number"===typeof n.mousemoveCallback?n.mousemoveCallback:500;let a,l=[];const c=qx(TT((e=>{const n=Date.now()-a;t(l.map((e=>(e.timeOffset-=n,e))),e),l=[],a=null})),o),u=TT(qx(TT((e=>{const t=CT(e),{clientX:n,clientY:r}=eT(e)?e.changedTouches[0]:e;a||(a=Kx()),l.push({x:n,y:r,id:i.getId(t),timeOffset:Kx()-a}),c("undefined"!==typeof DragEvent&&e instanceof DragEvent?hT.Drag:e instanceof MouseEvent?hT.MouseMove:hT.TouchMove)})),s,{trailing:!1})),d=[zx("mousemove",u,r),zx("touchmove",u,r),zx("drag",u,r)];return TT((()=>{d.forEach((e=>e()))}))}(e),i=AT(e),s=RT(e),o=function(e,t){let{viewportResizeCb:n}=e,{win:r}=t,i=-1,s=-1;return zx("resize",TT(qx(TT((()=>{const e=Qx(),t=Yx();i===e&&s===t||(n({width:Number(t),height:Number(e)}),i=e,s=t)})),200)),r)}(e,{win:t}),a=MT(e),l=function(e){let{mediaInteractionCb:t,blockClass:n,blockSelector:r,unblockSelector:i,mirror:s,sampling:o,doc:a}=e;const l=TT((e=>qx(TT((o=>{const a=CT(o);if(!a||Jx(a,n,r,i,!0))return;const{currentTime:l,volume:c,muted:u,playbackRate:d}=a;t({type:e,id:s.getId(a),currentTime:l,volume:c,muted:u,playbackRate:d})})),o.media||500))),c=[zx("play",l(mT.Play),a),zx("pause",l(mT.Pause),a),zx("seeked",l(mT.Seeked),a),zx("volumechange",l(mT.VolumeChange),a),zx("ratechange",l(mT.RateChange),a)];return TT((()=>{c.forEach((e=>e()))}))}(e);let c=()=>{},u=()=>{},d=()=>{},h=()=>{};e.recordDOM&&(c=function(e,t){let{styleSheetRuleCb:n,mirror:r,stylesheetManager:i}=e,{win:s}=t;if(!s.CSSStyleSheet||!s.CSSStyleSheet.prototype)return()=>{};const o=s.CSSStyleSheet.prototype.insertRule;s.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:TT(((e,t,s)=>{const[o,a]=s,{id:l,styleId:c}=LT(t,r,i.styleMirror);return(l&&-1!==l||c&&-1!==c)&&n({id:l,styleId:c,adds:[{rule:o,index:a}]}),e.apply(t,s)}))});const a=s.CSSStyleSheet.prototype.deleteRule;let l,c;s.CSSStyleSheet.prototype.deleteRule=new Proxy(a,{apply:TT(((e,t,s)=>{const[o]=s,{id:a,styleId:l}=LT(t,r,i.styleMirror);return(a&&-1!==a||l&&-1!==l)&&n({id:a,styleId:l,removes:[{index:o}]}),e.apply(t,s)}))}),s.CSSStyleSheet.prototype.replace&&(l=s.CSSStyleSheet.prototype.replace,s.CSSStyleSheet.prototype.replace=new Proxy(l,{apply:TT(((e,t,s)=>{const[o]=s,{id:a,styleId:l}=LT(t,r,i.styleMirror);return(a&&-1!==a||l&&-1!==l)&&n({id:a,styleId:l,replace:o}),e.apply(t,s)}))})),s.CSSStyleSheet.prototype.replaceSync&&(c=s.CSSStyleSheet.prototype.replaceSync,s.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:TT(((e,t,s)=>{const[o]=s,{id:a,styleId:l}=LT(t,r,i.styleMirror);return(a&&-1!==a||l&&-1!==l)&&n({id:a,styleId:l,replaceSync:o}),e.apply(t,s)}))}));const u={};zT("CSSGroupingRule")?u.CSSGroupingRule=s.CSSGroupingRule:(zT("CSSMediaRule")&&(u.CSSMediaRule=s.CSSMediaRule),zT("CSSConditionRule")&&(u.CSSConditionRule=s.CSSConditionRule),zT("CSSSupportsRule")&&(u.CSSSupportsRule=s.CSSSupportsRule));const d={};return Object.entries(u).forEach((e=>{let[t,s]=e;d[t]={insertRule:s.prototype.insertRule,deleteRule:s.prototype.deleteRule},s.prototype.insertRule=new Proxy(d[t].insertRule,{apply:TT(((e,t,s)=>{const[o,a]=s,{id:l,styleId:c}=LT(t.parentStyleSheet,r,i.styleMirror);return(l&&-1!==l||c&&-1!==c)&&n({id:l,styleId:c,adds:[{rule:o,index:[...PT(t),a||0]}]}),e.apply(t,s)}))}),s.prototype.deleteRule=new Proxy(d[t].deleteRule,{apply:TT(((e,t,s)=>{const[o]=s,{id:a,styleId:l}=LT(t.parentStyleSheet,r,i.styleMirror);return(a&&-1!==a||l&&-1!==l)&&n({id:a,styleId:l,removes:[{index:[...PT(t),o]}]}),e.apply(t,s)}))})})),TT((()=>{s.CSSStyleSheet.prototype.insertRule=o,s.CSSStyleSheet.prototype.deleteRule=a,l&&(s.CSSStyleSheet.prototype.replace=l),c&&(s.CSSStyleSheet.prototype.replaceSync=c),Object.entries(u).forEach((e=>{let[t,n]=e;n.prototype.insertRule=d[t].insertRule,n.prototype.deleteRule=d[t].deleteRule}))}))}(e,{win:t}),u=FT(e,e.doc),d=function(e,t){let{styleDeclarationCb:n,mirror:r,ignoreCSSAttributes:i,stylesheetManager:s}=e,{win:o}=t;const a=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(a,{apply:TT(((e,t,o)=>{var l;const[c,u,d]=o;if(i.has(c))return a.apply(t,[c,u,d]);const{id:h,styleId:f}=LT(null===(l=t.parentRule)||void 0===l?void 0:l.parentStyleSheet,r,s.styleMirror);return(h&&-1!==h||f&&-1!==f)&&n({id:h,styleId:f,set:{property:c,value:u,priority:d},index:PT(t.parentRule)}),e.apply(t,o)}))});const l=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(l,{apply:TT(((e,t,o)=>{var a;const[c]=o;if(i.has(c))return l.apply(t,[c]);const{id:u,styleId:d}=LT(null===(a=t.parentRule)||void 0===a?void 0:a.parentStyleSheet,r,s.styleMirror);return(u&&-1!==u||d&&-1!==d)&&n({id:u,styleId:d,remove:{property:c},index:PT(t.parentRule)}),e.apply(t,o)}))}),TT((()=>{o.CSSStyleDeclaration.prototype.setProperty=a,o.CSSStyleDeclaration.prototype.removeProperty=l}))}(e,{win:t}),e.collectFonts&&(h=function(e){let{fontCb:t,doc:n}=e;const r=n.defaultView;if(!r)return()=>{};const i=[],s=new WeakMap,o=r.FontFace;r.FontFace=function(e,t,n){const r=new o(e,t,n);return s.set(r,{family:e,buffer:"string"!==typeof t,descriptors:n,fontSource:"string"===typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const a=Wx(n.fonts,"add",(function(e){return function(n){return uT(TT((()=>{const e=s.get(n);e&&(t(e),s.delete(n))})),0),e.apply(this,[n])}}));return i.push((()=>{r.FontFace=o})),i.push(a),TT((()=>{i.forEach((e=>e()))}))}(e)));const f=function(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,selectionCb:o}=e;let a=!0;const l=TT((()=>{const e=t.getSelection();if(!e||a&&null!==e&&void 0!==e&&e.isCollapsed)return;a=e.isCollapsed||!1;const l=[],c=e.rangeCount||0;for(let t=0;t<c;t++){const o=e.getRangeAt(t),{startContainer:a,startOffset:c,endContainer:u,endOffset:d}=o;Jx(a,r,i,s,!0)||Jx(u,r,i,s,!0)||l.push({start:n.getId(a),startOffset:c,end:n.getId(u),endOffset:d})}o({ranges:l})}));return l(),zx("selectionchange",l)}(e),p=function(e){let{doc:t,customElementCb:n}=e;const r=t.defaultView;return r&&r.customElements?Wx(r.customElements,"define",(function(e){return function(t,r,i){try{n({define:{name:t}})}catch(s){}return e.apply(this,[t,r,i])}})):()=>{}}(e),m=[];for(const g of e.plugins)m.push(g.observer(g.callback,t,g.options));return TT((()=>{var e;IT.forEach((e=>e.reset())),null===(e=n)||void 0===e||e.disconnect(),r(),i(),s(),o(),a(),l(),c(),u(),d(),h(),f(),p(),m.forEach((e=>e()))}))}function UT(e){return"undefined"!==typeof window[e]}function zT(e){return Boolean("undefined"!==typeof window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class VT{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const i=n||this.getIdToRemoteIdMap(e),s=r||this.getRemoteIdToIdMap(e);let o=i.get(t);return o||(o=this.generateIdFn(),i.set(t,o),s.set(o,t)),o}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,n,r)))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if("number"!==typeof t)return t;const i=r.get(t);return i||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,n)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class BT{constructor(){this.crossOriginIframeMirror=new VT(yx),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class qT{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new VT(yx),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new VT(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var n,r;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null===(n=e.contentWindow)||void 0===n||n.addEventListener("message",this.handleMessage.bind(this))),null===(r=this.loadListener)||void 0===r||r.call(this,e);const i=gT(e);i&&i.adoptedStyleSheets&&i.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(i.adoptedStyleSheets,this.mirror.getId(i))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case dT.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:dT.IncrementalSnapshot,data:{source:hT.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case dT.Meta:case dT.Load:case dT.DomContentLoaded:return!1;case dT.Plugin:return t;case dT.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case dT.IncrementalSnapshot:switch(t.data.source){case hT.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case hT.Drag:case hT.TouchMove:case hT.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case hT.ViewportResize:return!1;case hT.MediaInteraction:case hT.MouseInteraction:case hT.Scroll:case hT.CanvasMutation:case hT.Input:return this.replaceIds(t.data,e,["id"]),t;case hT.StyleSheetRule:case hT.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case hT.Font:return t;case hT.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case hT.AdoptedStyleSheet:var n;return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),null===(n=t.data.styles)||void 0===n||n.forEach((t=>{this.replaceStyleIds(t,e,["styleId"])})),t}}return!1}replace(e,t,n,r){for(const i of r)(Array.isArray(t[i])||"number"===typeof t[i])&&(Array.isArray(t[i])?t[i]=e.getIds(n,t[i]):t[i]=e.getId(n,t[i]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===$E.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class HT{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class WT{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!XE(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);const n=NT(u(u({},this.bypassOptions),{},{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(RT(u(u({},this.bypassOptions),{},{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),uT((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(FT({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){const t=gT(e),n=function(e){try{return e.contentWindow}catch(t){}}(e);t&&n&&this.patchAttachShadow(n.Element,t)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(Wx(e.prototype,"attachShadow",(function(e){return function(r){const i=e.call(this,r);return this.shadowRoot&&aT(this)&&n.addShadowRoot(this.shadowRoot,t),i}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(t){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}for(var KT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",GT="undefined"===typeof Uint8Array?[]:new Uint8Array(256),QT=0;QT<64;QT++)GT[KT.charCodeAt(QT)]=QT;class YT{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class $T{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new iT,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},r=[];for(const i of e){let e;this.styleMirror.has(i)?e=this.styleMirror.getId(i):(e=this.styleMirror.add(i),r.push({styleId:e,rules:Array.from(i.rules||CSSRule,((e,t)=>({rule:ex(e),index:t})))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class JT{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some((e=>e!==t))}add(e,t){this.active||(this.active=!0,function(){cT("requestAnimationFrame")(...arguments)}((()=>{this.nodeMap=new WeakMap,this.active=!1}))),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}let XT,ZT;try{if(2!==Array.from([1],(e=>2*e))[0]){var eI;const e=document.createElement("iframe");document.body.appendChild(e),Array.from=(null===(eI=e.contentWindow)||void 0===eI?void 0:eI.Array.from)||Array.from,document.body.removeChild(e)}}catch(JC){console.debug("Unable to override Array.from",JC)}const tI=new tx;function nI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:s=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskAllText:c=!1,maskTextClass:d="rr-mask",unmaskTextClass:h=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:m=!0,maskAllInputs:g,maskInputOptions:y,slimDOMOptions:v,maskAttributeFn:b,maskInputFn:w,maskTextFn:_,maxCanvasSize:S=null,packFn:k,sampling:E={},dataURLOptions:x={},mousemoveWait:T,recordDOM:I=!0,recordCanvas:C=!1,recordCrossOriginIframes:N=!1,recordAfter:A=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:R=!1,collectFonts:D=!1,inlineImages:O=!1,plugins:M,keepIframeSrcFn:P=()=>!1,ignoreCSSAttributes:L=new Set([]),errorHandler:F,onMutation:j,getCanvasManager:U}=e;xT=F;const z=!N||window.parent===window;let V=!1;if(!z)try{window.parent.document&&(V=!1)}catch(ne){V=!0}if(z&&!t)throw new Error("emit function is required");if(!z&&!V)return()=>{};void 0!==T&&void 0===E.mousemove&&(E.mousemove=T),tI.reset();const B=!0===g?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==y?y:{},q=!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===v,headMetaDescKeywords:"all"===v}:v||{};let H;!function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=n[0];if(!(0 in n))throw new TypeError("1 argument is required");do{if(e===i)return!0}while(i=i&&i.parentNode);return!1})}();let W=0;const K=e=>{for(const t of M||[])t.eventProcessor&&(e=t.eventProcessor(e));return k&&!V&&(e=k(e)),e};XT=(e,i)=>{var s;const o=e;if(o.timestamp=Kx(),null===(s=IT[0])||void 0===s||!s.isFrozen()||o.type===dT.FullSnapshot||o.type===dT.IncrementalSnapshot&&o.data.source===hT.Mutation||IT.forEach((e=>e.unfreeze())),z)null===t||void 0===t||t(K(o),i);else if(V){const e={type:"rrweb",event:K(o),origin:window.location.origin,isCheckout:i};window.parent.postMessage(e,"*")}if(o.type===dT.FullSnapshot)H=o,W=0;else if(o.type===dT.IncrementalSnapshot){if(o.data.source===hT.Mutation&&o.data.isAttachIframe)return;W++;const e=r&&W>=r,t=n&&H&&o.timestamp-H.timestamp>n;(e||t)&&te(!0)}};const G=e=>{XT({type:dT.IncrementalSnapshot,data:u({source:hT.Mutation},e)})},Q=e=>XT({type:dT.IncrementalSnapshot,data:u({source:hT.Scroll},e)}),Y=e=>XT({type:dT.IncrementalSnapshot,data:u({source:hT.CanvasMutation},e)}),$=new $T({mutationCb:G,adoptedStyleSheetCb:e=>XT({type:dT.IncrementalSnapshot,data:u({source:hT.AdoptedStyleSheet},e)})}),J="boolean"===typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new BT:new qT({mirror:tI,mutationCb:G,stylesheetManager:$,recordCrossOriginIframes:N,wrappedEmit:XT});for(const u of M||[])u.getMirror&&u.getMirror({nodeMirror:tI,crossOriginIframeMirror:J.crossOriginIframeMirror,crossOriginIframeStyleMirror:J.crossOriginIframeStyleMirror});const X=new JT,Z=function(e,t){try{return e?e(t):new YT}catch(n){return console.warn("Unable to initialize CanvasManager"),new YT}}(U,{mirror:tI,win:window,mutationCb:e=>XT({type:dT.IncrementalSnapshot,data:u({source:hT.CanvasMutation},e)}),recordCanvas:C,blockClass:i,blockSelector:s,unblockSelector:o,maxCanvasSize:S,sampling:E.canvas,dataURLOptions:x,errorHandler:F}),ee="boolean"===typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new HT:new WT({mutationCb:G,scrollCb:Q,bypassOptions:{onMutation:j,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:c,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:B,dataURLOptions:x,maskAttributeFn:b,maskTextFn:_,maskInputFn:w,recordCanvas:C,inlineImages:O,sampling:E,slimDOMOptions:q,iframeManager:J,stylesheetManager:$,canvasManager:Z,keepIframeSrcFn:P,processedNodeManager:X},mirror:tI}),te=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!I)return;XT({type:dT.Meta,data:{href:window.location.href,width:Yx(),height:Qx()}},e),$.reset(),ee.init(),IT.forEach((e=>e.lock()));const t=function(e,t){const{mirror:n=new tx,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:s=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:u=null,inlineStylesheet:d=!0,inlineImages:h=!1,recordCanvas:f=!1,maskAllInputs:p=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOM:v=!1,dataURLOptions:b,preserveWhiteSpace:w,onSerialize:_,onIframeLoad:S,iframeLoadTimeout:k,onStylesheetLoad:E,stylesheetLoadTimeout:x,keepIframeSrcFn:T=()=>!1}=t||{};return Ux(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:a,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===p?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===p?{}:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===v,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===v?{}:v,dataURLOptions:b,inlineImages:h,recordCanvas:f,preserveWhiteSpace:w,onSerialize:_,onIframeLoad:S,iframeLoadTimeout:k,onStylesheetLoad:E,stylesheetLoadTimeout:x,keepIframeSrcFn:T,newlyAddedElement:!1})}(document,{mirror:tI,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:c,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskAllInputs:B,maskAttributeFn:b,maskInputFn:w,maskTextFn:_,slimDOM:q,dataURLOptions:x,recordCanvas:C,inlineImages:O,onSerialize:e=>{tT(e,tI)&&J.addIframe(e),nT(e,tI)&&$.trackLinkElement(e),rT(e)&&ee.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{J.attachIframe(e,t),e.contentWindow&&Z.addWindow(e.contentWindow),ee.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{$.attachLinkElement(e,t)},keepIframeSrcFn:P});if(!t)return console.warn("Failed to snapshot the document");XT({type:dT.FullSnapshot,data:{node:t,initialOffset:Gx(window)}}),IT.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&$.adoptStyleSheets(document.adoptedStyleSheets,tI.getId(document))};ZT=te;try{const e=[],t=e=>{var t;return TT(jT)({onMutation:j,mutationCb:G,mousemoveCb:(e,t)=>XT({type:dT.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>XT({type:dT.IncrementalSnapshot,data:u({source:hT.MouseInteraction},e)}),scrollCb:Q,viewportResizeCb:e=>XT({type:dT.IncrementalSnapshot,data:u({source:hT.ViewportResize},e)}),inputCb:e=>XT({type:dT.IncrementalSnapshot,data:u({source:hT.Input},e)}),mediaInteractionCb:e=>XT({type:dT.IncrementalSnapshot,data:u({source:hT.MediaInteraction},e)}),styleSheetRuleCb:e=>XT({type:dT.IncrementalSnapshot,data:u({source:hT.StyleSheetRule},e)}),styleDeclarationCb:e=>XT({type:dT.IncrementalSnapshot,data:u({source:hT.StyleDeclaration},e)}),canvasMutationCb:Y,fontCb:e=>XT({type:dT.IncrementalSnapshot,data:u({source:hT.Font},e)}),selectionCb:e=>{XT({type:dT.IncrementalSnapshot,data:u({source:hT.Selection},e)})},customElementCb:e=>{XT({type:dT.IncrementalSnapshot,data:u({source:hT.CustomElement},e)})},blockClass:i,ignoreClass:a,ignoreSelector:l,maskAllText:c,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:B,inlineStylesheet:m,sampling:E,recordDOM:I,recordCanvas:C,inlineImages:O,userTriggeredOnInput:R,collectFonts:D,doc:e,maskAttributeFn:b,maskInputFn:w,maskTextFn:_,keepIframeSrcFn:P,blockSelector:s,unblockSelector:o,slimDOMOptions:q,dataURLOptions:x,mirror:tI,iframeManager:J,stylesheetManager:$,shadowDomManager:ee,processedNodeManager:X,canvasManager:Z,ignoreCSSAttributes:L,plugins:(null===M||void 0===M||null===(t=M.filter((e=>e.observer)))||void 0===t?void 0:t.map((e=>({observer:e.observer,options:e.options,callback:t=>XT({type:dT.Plugin,data:{plugin:e.name,payload:t}})}))))||[]},{})};J.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(r){console.warn(r)}}));const n=()=>{te(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(zx("DOMContentLoaded",(()=>{XT({type:dT.DomContentLoaded,data:{}}),"DOMContentLoaded"===A&&n()}))),e.push(zx("load",(()=>{XT({type:dT.Load,data:{}}),"load"===A&&n()}),window))),()=>{e.forEach((e=>e())),X.destroy(),ZT=void 0,xT=void 0}}catch(re){console.warn(re)}}var rI,iI;nI.mirror=tI,nI.takeFullSnapshot=function(e){if(!ZT)throw new Error("please take full snapshot after start recording");ZT(e)},(iI=rI||(rI={}))[iI.NotStarted=0]="NotStarted",iI[iI.Running=1]="Running",iI[iI.Stopped=2]="Stopped";function sI(e){return e>9999999999?e:1e3*e}function oI(e){return e>9999999999?e/1e3:e}function aI(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate((()=>(e.throttledAddEvent({type:dT.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:Hv(t,10,1e3)}}),"console"===t.category))))}function lI(e){return e.closest("button,a")||e}function cI(e){const t=uI(e);return t&&t instanceof Element?lI(t):t}function uI(e){return function(e){return"object"===typeof e&&!!e&&"target"in e}(e)?e.target:e}let dI;function hI(e){return dI||(dI=[],Xg(jE,"open",(function(e){return function(){if(dI)try{dI.forEach((e=>e()))}catch($C){}for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(jE,n)}}))),dI.push(e),()=>{const t=dI?dI.indexOf(e):-1;t>-1&&dI.splice(t,1)}}const fI=new Set([hT.Mutation,hT.StyleSheetRule,hT.StyleDeclaration,hT.AdoptedStyleSheet,hT.CanvasMutation,hT.Selection,hT.MediaInteraction]);class pI{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aI;this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scrollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=hI((()=>{this._lastMutation=gI()}));this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(function(e,t){if(!mI.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!==typeof e.data.nodeId||!e.timestamp)}(e))return;const n={timestamp:oI(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some((e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1))||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastMutation=oI(e)}registerScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastScroll=oI(e)}registerClick(e){const t=lI(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach((e=>{e.clickCount++}))}_getClicks(e){return this._clicks.filter((t=>t.node===e))}_checkClicks(){const e=[],t=gI();this._clicks.forEach((n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)}));for(const n of e){const e=this._clicks.indexOf(n);e>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,i=!n&&!r,{clickCount:s,clickBreadcrumb:o}=e;if(i){const n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",i={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.slowClickDetected",data:u(u({},o.data),{},{url:jE.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:s||1})};this._addBreadcrumbEvent(t,i)}else if(s>1){const e={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.multiClick",data:u(u({},o.data),{},{url:jE.location.href,route:t.getCurrentRoute(),clickCount:s,metric:!0})};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=CE((()=>this._checkClicks()),1e3)}}const mI=["A","BUTTON","INPUT"];function gI(){return Date.now()/1e3}function yI(e,t){try{if(!function(e){return 3===e.type}(t))return;const{source:n}=t.data;if(fI.has(n)&&e.registerMutation(t.timestamp),n===hT.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===hT.MouseInteraction}(t)){const{type:n,id:r}=t.data,i=nI.mirror.getNode(r);i instanceof HTMLElement&&n===fT.Click&&e.registerClick(i)}}catch(n){}}function vI(e){return u({timestamp:Date.now()/1e3,type:"default"},e)}var bI=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(bI||{});const wI=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function _I(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(wI.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),t[r]=e[n]}return t}const SI=e=>t=>{if(!e.isEnabled())return;const n=function(e){const{target:t,message:n}=function(e){const t="click"===e.name;let n,r=null;try{r=t?cI(e.event):uI(e.event),n=zg(r,{maxStringLength:200})||"<unknown>"}catch($C){n="<unknown>"}return{target:r,message:n}}(e);return vI(u({category:"ui.".concat(e.name)},kI(t,n)))}(t);if(!n)return;const r="click"===t.name,i=r?t.event:void 0;var s,o,a;!(r&&e.clickDetector&&i&&i.target)||i.altKey||i.metaKey||i.ctrlKey||i.shiftKey||(s=e.clickDetector,o=n,a=cI(t.event),s.handleClick(o,a)),aI(e,n)};function kI(e,t){const n=nI.mirror.getId(e),r=n&&nI.mirror.getNode(n),i=r&&nI.mirror.getMeta(r),s=i&&function(e){return e.type===bI.Element}(i)?i:null;return{message:t,data:s?{nodeId:n,node:{id:n,tagName:s.tagName,textContent:Array.from(s.childNodes).map((e=>e.type===bI.Text&&e.textContent)).filter(Boolean).map((e=>e.trim())).join(""),attributes:_I(s.attributes)}}:{}}}function EI(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=function(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s,target:o}=e;if(!o||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(o)||!s)return null;const a=t||r||i,l=1===s.length;if(!a&&l)return null;const c=zg(o,{maxStringLength:200})||"<unknown>",d=kI(o,c);return vI({category:"ui.keyDown",message:c,data:u(u({},d.data),{},{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s})})}(t);n&&aI(e,n)}const xI={resource:function(e){const{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:s,decodedBodySize:o,encodedBodySize:a,responseStatus:l,transferSize:c}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:"".concat(t,".").concat(n),start:CI(s),end:CI(i),name:r,data:{size:c,statusCode:l,decodedBodySize:o,encodedBodySize:a}}},paint:function(e){const{duration:t,entryType:n,name:r,startTime:i}=e,s=CI(i);return{type:n,name:r,start:s,end:s+t,data:void 0}},navigation:function(e){const{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:s,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:u,loadEventEnd:d,redirectCount:h,startTime:f,transferSize:p,type:m}=e;if(0===i)return null;return{type:"".concat(t,".").concat(m),start:CI(f),end:CI(s),name:n,data:{size:p,decodedBodySize:r,encodedBodySize:o,duration:i,domInteractive:c,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:u,loadEventEnd:d,domComplete:s,redirectCount:h}}}};function TI(e,t){return n=>{let{metric:r}=n;t.replayPerformanceEntries.push(e(r))}}function II(e){const t=xI[e.entryType];return t?t(e):null}function CI(e){return((py()||jE.performance.timeOrigin)+e)/1e3}function NI(e){const t=e.entries[e.entries.length-1];return MI(e,"largest-contentful-paint",null!==t&&void 0!==t&&t.element?[t.element]:void 0)}function AI(e){return void 0!==e.sources}function RI(e){const t=[],n=[];for(const r of e.entries)if(AI(r)){const e=[];for(const t of r.sources)if(t.node){n.push(t.node);const r=nI.mirror.getId(t.node);r&&e.push(r)}t.push({value:r.value,nodeIds:e.length?e:void 0})}return MI(e,"cumulative-layout-shift",n,t)}function DI(e){const t=e.entries[e.entries.length-1];return MI(e,"first-input-delay",null!==t&&void 0!==t&&t.target?[t.target]:void 0)}function OI(e){const t=e.entries[e.entries.length-1];return MI(e,"interaction-to-next-paint",null!==t&&void 0!==t&&t.target?[t.target]:void 0)}function MI(e,t,n,r){const i=e.value,s=e.rating,o=CI(i);return{type:"web-vital",name:t,start:o,end:o,data:{value:i,size:i,rating:s,nodeIds:n?n.map((e=>nI.mirror.getId(e))):void 0,attributions:r}}}const PI="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;const LI=["info","warn","error","log"],FI="[Replay] ";function jI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";Vk({category:"console",data:{logger:"replay"},level:t,message:"".concat(FI).concat(e)},{level:t})}const UI=function(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:n=>{e=!!n.captureExceptions,t=!!n.traceInternals}};return PI?(LI.forEach((e=>{n[e]=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Gg[e](FI,...r),t&&jI(r.join(""),Bk(e))}})),n.exception=function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];s.length&&n.error&&n.error(...s),Gg.error(FI,r),e?x_(r):t&&jI(r,"error")},n.infoTick=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Gg.info(FI,...n),t&&setTimeout((()=>jI(n[0])),0)}):LI.forEach((e=>{n[e]=()=>{}})),n}();class zI extends Error{constructor(){super("Event buffer exceeded maximum size of ".concat(WE,"."))}}class VI{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>WE)throw new zI;this.events.push(e)}finish(){return new Promise((e=>{const t=this.events;this.clear(),e(JSON.stringify(t))}))}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map((e=>e.timestamp)).sort()[0];return e?sI(e):null}}class BI{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((e,t)=>{this._worker.addEventListener("message",(n=>{let{data:r}=n;r.success?e():t()}),{once:!0}),this._worker.addEventListener("error",(e=>{t(e)}),{once:!0})}))),this._ensureReadyPromise}destroy(){PI&&UI.info("Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise(((r,i)=>{const s=t=>{let{data:o}=t;const a=o;if(a.method===e&&a.id===n){if(this._worker.removeEventListener("message",s),!a.success)return PI&&UI.error("Error in compression worker: ",a.response),void i(new Error("Error in compression worker"));r(a.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:n,method:e,arg:t})}))}_getAndIncrementId(){return this._id++}}class qI{constructor(e){this._worker=new BI(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=sI(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>WE?Promise.reject(new zI):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,(e=>{PI&&UI.exception(e,'Sending "clear" message to worker failed',e)}))}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class HI{constructor(e){this._fallback=new VI,this._compression=new qI(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return void(PI&&UI.exception(e,"Failed to load the compression worker, falling back to simple buffer"))}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t,waitForCheckout:n}=this._fallback,r=[];for(const s of e)r.push(this._compression.addEvent(s));this._compression.hasCheckout=t,this._compression.waitForCheckout=n,this._used=this._compression;try{await Promise.all(r),this._fallback.clear()}catch(i){PI&&UI.exception(i,"Failed to add events when switching buffers.")}}}function WI(e){let{useCompression:t,workerUrl:n}=e;if(t&&window.Worker){const e=function(e){try{const t=e||function(){if("undefined"===typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort((function(t,n){return p[n.s]-p[t.s]||t.f-n.f}));s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){G.prototype.flush.call(this)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),s=i.length;return q(i,n),j(i,s-8,r.d()),j(i,s-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}();return""}();if(!t)return;PI&&UI.info("Using compression worker".concat(e?" from ".concat(e):""));const n=new Worker(t);return new HI(n)}catch(t){PI&&UI.exception(t,"Failed to create compression worker")}}(n);if(e)return e}return PI&&UI.info("Using simple buffer"),new VI}function KI(){try{return"sessionStorage"in jE&&!!jE.sessionStorage}catch(e){return!1}}function GI(e){!function(){if(!KI())return;try{jE.sessionStorage.removeItem(UE)}catch(e){}}(),e.session=void 0}function QI(e){return void 0!==e&&Math.random()<e}function YI(e){if(KI())try{jE.sessionStorage.setItem(UE,JSON.stringify(e))}catch(t){}}function $I(e){const t=Date.now();return{id:e.id||sy(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function JI(e){let{sessionSampleRate:t,allowBuffering:n,stickySession:r=!1}=e,{previousSessionId:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=function(e,t){return QI(e)?"session":!!t&&"buffer"}(t,n),o=$I({sampled:s,previousSessionId:i});return r&&YI(o),o}function XI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:+new Date;return null===e||void 0===t||t<0||0!==t&&e+t<=n}function ZI(e,t){let{maxReplayDuration:n,sessionIdleExpire:r,targetTime:i=Date.now()}=t;return XI(e.started,n,i)||XI(e.lastActivity,r,i)}function eC(e,t){let{sessionIdleExpire:n,maxReplayDuration:r}=t;return!!ZI(e,{sessionIdleExpire:n,maxReplayDuration:r})&&("buffer"!==e.sampled||0!==e.segmentId)}function tC(e,t){let{sessionIdleExpire:n,maxReplayDuration:r,previousSessionId:i}=e;const s=t.stickySession&&function(){if(!KI())return null;try{const e=jE.sessionStorage.getItem(UE);if(!e)return null;const t=JSON.parse(e);return PI&&UI.infoTick("Loading existing session"),$I(t)}catch(e){return null}}();return s?eC(s,{sessionIdleExpire:n,maxReplayDuration:r})?(PI&&UI.infoTick("Session in sessionStorage is expired, creating new one..."),JI(t,{previousSessionId:s.id})):s:(PI&&UI.infoTick("Creating new session"),JI(t,{previousSessionId:i}))}function nC(e,t,n){return!!iC(e,t)&&(rC(e,t,n),!0)}async function rC(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const i="buffer"===e.recordingMode;try{n&&i&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const s=function(e,t){try{if("function"===typeof t&&function(e){return e.type===dT.Custom}(e))return t(e)}catch(n){return PI&&UI.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}(t,e.getOptions().beforeAddRecordingEvent);if(!s)return;return await r.addEvent(s)}catch(s){const t=s&&s instanceof zI,n=t?"addEventSizeExceeded":"addEvent";if(t&&i)return r.clear(),r.waitForCheckout=!0,null;e.handleException(s),await e.stop({reason:n});const o=Oy();o&&o.recordDroppedEvent("internal_sdk_error","replay")}}function iC(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=sI(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(PI&&UI.infoTick("Skipping event with timestamp ".concat(n," because it is after maxReplayDuration")),!1))}function sC(e){return!e.type}function oC(e){return"transaction"===e.type}function aC(e){return"feedback"===e.type}function lC(e){return(t,n)=>{if(!e.isEnabled()||!sC(t)&&!oC(t))return;const r=null===n||void 0===n?void 0:n.statusCode;!r||r<200||r>=300||(oC(t)?function(e,t){var n;const r=e.getContext();null!==(n=t.contexts)&&void 0!==n&&null!==(n=n.trace)&&void 0!==n&&n.trace_id&&r.traceIds.size<100&&r.traceIds.add(t.contexts.trace.trace_id)}(e,t):function(e,t){const n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();if("function"===typeof r&&!r(t))return;CE((async()=>{try{await e.sendBufferedReplayOrFlush()}catch(JC){e.handleException(JC)}}))}(e,t))}}function cC(e){return t=>{e.isEnabled()&&sC(t)&&function(e,t){var n;const r=null===(n=t.exception)||void 0===n||null===(n=n.values)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.value;if("string"!==typeof r)return;if(r.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||r.match(/(does not match server-rendered HTML|Hydration failed because)/i)){aI(e,vI({category:"replay.hydrate-error",data:{url:Bg()}}))}}(e,t)}}function uC(e){const t=Oy();t&&t.on("beforeAddBreadcrumb",(t=>function(e,t){if(!e.isEnabled()||!dC(t))return;const n=function(e){if(!dC(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))return null;if("console"===e.category)return function(e){var t;const n=null===(t=e.data)||void 0===t?void 0:t.arguments;if(!Array.isArray(n)||0===n.length)return vI(e);let r=!1;const i=n.map((e=>{if(!e)return e;if("string"===typeof e)return e.length>HE?(r=!0,"".concat(e.slice(0,HE),"\u2026")):e;if("object"===typeof e)try{const t=Hv(e,7);return JSON.stringify(t).length>HE?(r=!0,"".concat(JSON.stringify(t,null,2).slice(0,HE),"\u2026")):t}catch(t){}return e}));return vI(u(u({},e),{},{data:u(u({},e.data),{},{arguments:i},r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}(e);return vI(e)}(t);n&&aI(e,n)}(e,t)))}function dC(e){return!!e.category}function hC(){const e=Ay().getPropagationContext().dsc;e&&delete e.replay_id;const t=Sv();if(t){delete Mv(t).replay_id}}function fC(e){return Object.assign(((t,n)=>{if(!e.isEnabled()||e.isPaused())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!sC(t)&&!oC(t)&&!aC(t))return t;if(!e.checkAndHandleExpiredSession())return hC(),t;if(aC(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate((()=>!t.timestamp||(e.throttledAddEvent({type:dT.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)))}(e,t),t;if(function(e,t){var n;return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length)&&!(null===(n=t.originalException)||void 0===n||!n.__rrweb__)}(t,n)&&!e.getOptions()._experiments.captureExceptions)return PI&&UI.log("Ignoring error from rrweb internals",t),null;const r=function(e,t){return"buffer"===e.recordingMode&&t.message!==zE&&!(!t.exception||t.type)&&QI(e.getOptions().errorSampleRate)}(e,t);return(r||"session"===e.recordingMode)&&(t.tags=u(u({},t.tags),{},{replayId:e.getSessionId()})),t}),{id:"Replay"})}function pC(e,t){return t.map((t=>{let{type:n,start:r,end:i,name:s,data:o}=t;const a=e.throttledAddEvent({type:dT.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:s,startTimestamp:r,endTimestamp:i,data:o}}});return"string"===typeof a?Promise.resolve(null):a}))}function mC(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate((()=>(pC(e,[n]),!1))))}}function gC(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!PI||!e.getOptions()._experiments.traceInternals)&&RE(t,Oy())}(e,t.name)||e.addUpdate((()=>(pC(e,[t]),!0))))}function yC(e){if(!e)return;const t=new TextEncoder;try{if("string"===typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=PE(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(n){}}function vC(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function bC(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n=u({},e._meta),r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function wC(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:i,method:s,statusCode:o,request:a,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:{method:s,statusCode:o,request:a,response:l}}}function _C(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function SC(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:i,warnings:s}=function(e){if(!e||"string"!==typeof e)return{body:e};const t=e.length>qE,n=function(e){const t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){const t=e.slice(0,qE);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:"".concat(t,"\u2026"),warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(r){}return{body:e}}(n);return r.body=i,null!==s&&void 0!==s&&s.length&&(r._meta={warnings:s}),r}function kC(e,t){return Object.entries(e).reduce(((n,r)=>{let[i,s]=r;const o=i.toLowerCase();return t.includes(o)&&e[i]&&(n[o]=s),n}),{})}function EC(e,t){const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jE.document.baseURI;if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(jE.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;if(!e.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(e);return Jg(n,t)}async function xC(e,t,n){try{const r=await async function(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r}=t,{url:o,method:a,status_code:l=0,request_body_size:c,response_body_size:u}=e.data,d=EC(o,n.networkDetailAllowUrls)&&!EC(o,n.networkDetailDenyUrls),h=d?function(e,t,n){let{networkCaptureBodies:r,networkRequestHeaders:i}=e;const s=t?function(e,t){if(1===e.length&&"string"!==typeof e[0])return IC(e[0],t);if(2===e.length)return IC(e[1],t);return{}}(t,i):{};if(!r)return SC(s,n,void 0);const o=FE(t),[a,l]=LE(o,UI),c=SC(s,n,a);if(l)return bC(c,l);return c}(n,t.input,c):_C(c),f=await async function(e,t,n,r){let{networkCaptureBodies:i,networkResponseHeaders:s}=t;if(!e&&void 0!==r)return _C(r);const o=n?TC(n.headers,s):{};if(!n||!i&&void 0!==r)return SC(o,r,void 0);const[a,l]=await async function(e){const t=function(e){try{return e.clone()}catch(t){PI&&UI.exception(t,"Failed to clone response body")}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{const e=await function(e){return new Promise(((t,n)=>{const r=CE((()=>n(new Error("Timeout while trying to read response body"))),500);(async function(e){return await e.text()})(e).then((e=>t(e)),(e=>n(e))).finally((()=>clearTimeout(r)))}))}(t);return[e]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(PI&&UI.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(PI&&UI.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}(n),c=function(e,t){let{networkCaptureBodies:n,responseBodySize:r,captureDetails:i,headers:s}=t;try{const t=null!==e&&void 0!==e&&e.length&&void 0===r?yC(e):r;return i?SC(s,t,n?e:void 0):_C(t)}catch(o){return PI&&UI.exception(o,"Failed to serialize response body"),SC(s,r,void 0)}}(a,{networkCaptureBodies:i,responseBodySize:r,captureDetails:e,headers:o});if(l)return bC(c,l);return c}(d,n,t.response,u);return{startTimestamp:i,endTimestamp:s,url:o,method:a,statusCode:l,request:h,response:f}}(e,t,n),i=wC("resource.fetch",r);gC(n.replay,i)}catch(r){PI&&UI.exception(r,"Failed to capture fetch breadcrumb")}}function TC(e,t){const n={};return t.forEach((t=>{e.get(t)&&(n[t]=e.get(t))})),n}function IC(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?TC(n,t):Array.isArray(n)?{}:kC(n,t):{}}async function CC(e,t,n){try{const r=function(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r,input:o,xhr:a}=t,{url:l,method:c,status_code:u=0,request_body_size:d,response_body_size:h}=e.data;if(!l)return null;if(!a||!EC(l,n.networkDetailAllowUrls)||EC(l,n.networkDetailDenyUrls)){return{startTimestamp:i,endTimestamp:s,url:l,method:c,statusCode:u,request:_C(d),response:_C(h)}}const f=a[J_],p=f?kC(f.request_headers,n.networkRequestHeaders):{},m=kC(function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,r]=t.split(": ");return r&&(e[n.toLowerCase()]=r),e}),{})}(a),n.networkResponseHeaders),[g,y]=n.networkCaptureBodies?LE(o,UI):[void 0],[v,b]=n.networkCaptureBodies?function(e){const t=[];try{return[e.responseText]}catch($C){t.push($C)}try{return function(e,t){try{if("string"===typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"===typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return PI&&UI.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return PI&&UI.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch($C){t.push($C)}return PI&&UI.warn("Failed to get xhr response body",...t),[void 0]}(a):[void 0],w=SC(p,d,g),_=SC(m,h,v);return{startTimestamp:i,endTimestamp:s,url:l,method:c,statusCode:u,request:y?bC(w,y):w,response:b?bC(_,b):_}}(e,t,n),i=wC("resource.xhr",r);gC(n.replay,i)}catch(r){PI&&UI.exception(r,"Failed to capture xhr breadcrumb")}}function NC(e,t){const{xhr:n,input:r}=t;if(!n)return;const i=yC(r),s=n.getResponseHeader("content-length")?vC(n.getResponseHeader("content-length")):function(e,t){try{return yC("json"===t&&e&&"object"===typeof e?JSON.stringify(e):e)}catch(n){return}}(n.response,n.responseType);void 0!==i&&(e.data.request_body_size=i),void 0!==s&&(e.data.response_body_size=s)}function AC(e){const t=Oy();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:o}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",((e,t)=>function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return null===e||void 0===e?void 0:e.xhr}(n)&&(NC(t,n),CC(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return null===e||void 0===e?void 0:e.response}(n)&&(!function(e,t){const{input:n,response:r}=t,i=yC(n?FE(n):void 0),s=r?vC(r.headers.get("content-length")):void 0;void 0!==i&&(e.data.request_body_size=i),void 0!==s&&(e.data.response_body_size=s)}(t,n),xC(t,n,e))}catch($C){PI&&UI.exception($C,"Error when enriching network breadcrumb")}}(a,e,t)))}catch(n){}}function RC(e,t){let{autoFlushOnFeedback:n}=t;const r=Oy();Gk(SI(e)),a_(mC(e)),uC(e),AC(e);!function(e){Ry().addEventProcessor(e)}(fC(e)),r&&(r.on("beforeSendEvent",cC(e)),r.on("afterSendEvent",lC(e)),r.on("createDsc",(t=>{const n=e.getSessionId();if(n&&e.isEnabled()&&"session"===e.recordingMode){e.checkAndHandleExpiredSession()&&(t.replay_id=n)}})),r.on("spanStart",(t=>{e.lastActiveSpan=t})),r.on("spanEnd",(t=>{e.lastActiveSpan=t})),r.on("beforeSendFeedback",(async(t,r)=>{var i;const s=e.getSessionId();null!==r&&void 0!==r&&r.includeReplay&&e.isEnabled()&&s&&null!==(i=t.contexts)&&void 0!==i&&i.feedback&&("api"===t.contexts.feedback.source&&n&&await e.flush(),t.contexts.feedback.replay_id=s)})),n&&r.on("openFeedbackWidget",(async()=>{await e.flush()})))}function DC(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}const OC=wg.navigator;function MC(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession())return void(PI&&UI.warn("Received replay event after session expired."));const i=r||!t;t=!0,e.clickDetector&&yI(e.clickDetector,n),e.addUpdate((()=>{if("buffer"===e.recordingMode&&i&&e.setInitialState(),!nC(e,n,i))return!0;if(!i)return!1;const t=e.session;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;nC(e,function(e){const t=e.getOptions();return{type:dT.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,i),"buffer"===e.recordingMode&&t&&e.eventBuffer){const n=e.eventBuffer.getEarliestTimestamp();n&&(PI&&UI.info("Updating session start time to earliest event in buffer to ".concat(new Date(n))),t.started=n,e.getOptions().stickySession&&YI(t))}return null!==t&&void 0!==t&&t.previousSessionId||"session"===e.recordingMode&&e.flush(),!0}))}}async function PC(e){let{recordingData:t,replayId:n,segmentId:r,eventContext:i,timestamp:s,session:o}=e;const a=function(e){let t,{recordingData:n,headers:r}=e;const i="".concat(JSON.stringify(r),"\n");if("string"===typeof n)t="".concat(i).concat(n);else{const e=(new TextEncoder).encode(i);t=new Uint8Array(e.length+n.length),t.set(e),t.set(n,e.length)}return t}({recordingData:t,headers:{segment_id:r}}),{urls:l,errorIds:c,traceIds:d,initialTimestamp:h}=i,f=Oy(),p=Ay(),m=null===f||void 0===f?void 0:f.getTransport(),g=null===f||void 0===f?void 0:f.getDsn();if(!f||!m||!g||!o.sampled)return d_({});const y={type:"replay_event",replay_start_timestamp:h/1e3,timestamp:s/1e3,error_ids:c,trace_ids:d,urls:l,replay_id:n,segment_id:r,replay_type:o.sampled},v=await async function(e){let{client:t,scope:n,replayId:r,event:i}=e;const s={event_id:r,integrations:"object"!==typeof t._integrations||null===t._integrations||Array.isArray(t._integrations)?void 0:Object.keys(t._integrations)};t.emit("preprocessEvent",i,s);const o=await S_(t.getOptions(),i,s,n,t,Ry());if(!o)return null;t.emit("postprocessEvent",o,s),o.platform=o.platform||"javascript";const a=t.getSdkMetadata(),{name:l,version:c}=(null===a||void 0===a?void 0:a.sdk)||{};return o.sdk=u(u({},o.sdk),{},{name:l||"sentry.javascript.unknown",version:c||"0.0.0"}),o}({scope:p,client:f,replayId:n,event:y});if(!v)return f.recordDroppedEvent("event_processor","replay"),PI&&UI.info("An event processor returned `null`, will not send event."),d_({});delete v.sdkProcessingMetadata;const b=function(e,t,n,r){return Gv(rb(e,nb(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"===typeof t?(new TextEncoder).encode(t).length:t.length},t]])}(v,a,g,f.getOptions().tunnel);let w;try{w=await m.send(b)}catch(JC){const t=new Error(zE);try{t.cause=JC}catch(S){}throw t}if("number"===typeof w.statusCode&&(w.statusCode<200||w.statusCode>=300))throw new LC(w.statusCode);const _=EE({},w);if(kE(_,"replay"))throw new FC(_);return w}class LC extends Error{constructor(e){super("Transport returned status code ".concat(e))}}class FC extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function jC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{count:0,interval:5e3};const{recordingData:n,onError:r}=e;if(n.length)try{return await PC(e),!0}catch(JC){if(JC instanceof LC||JC instanceof FC)throw JC;if(I_("Replays",{_retryCount:t.count}),r&&r(JC),t.count>=3){const e=new Error("".concat(zE," - max retries exceeded"));try{e.cause=JC}catch(i){}throw e}return t.interval*=++t.count,new Promise(((r,i)=>{CE((async()=>{try{await jC(e,t),r(!0)}catch(n){i(n)}}),t.interval)}))}}const UC="__THROTTLED";function zC(e,t,n){const r=new Map;let i=!1;return function(){const s=Math.floor(Date.now()/1e3);if((e=>{const t=e-n;r.forEach(((e,n)=>{n<t&&r.delete(n)}))})(s),[...r.values()].reduce(((e,t)=>e+t),0)>=t){const e=i;return i=!0,e?"__SKIPPED":UC}i=!1;const o=r.get(s)||0;return r.set(s,o+1),e(...arguments)}}class VC{constructor(e){let{options:t,recordingOptions:n}=e;this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=function(e,t,n){let r,i,s;const o=null!==n&&void 0!==n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return l(),r=e(),r}function l(){void 0!==i&&clearTimeout(i),void 0!==s&&clearTimeout(s),i=s=void 0}function c(){return i&&clearTimeout(i),i=CE(a,t),o&&void 0===s&&(s=CE(a,o)),r}return c.cancel=l,c.flush=function(){return void 0!==i||void 0!==s?a():r},c}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=zC(((e,t)=>function(e,t,n){return iC(e,t)?rC(e,t,n):Promise.resolve(null)}(this,e,t)),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:i}=this.getOptions(),s=r?{threshold:Math.min(3e3,r),timeout:r,scrollTimeout:300,ignoreSelector:i?i.join(","):""}:void 0;if(s&&(this.clickDetector=new pI(this,s)),PI){const e=t._experiments;UI.setConfig({captureExceptions:!!e.captureExceptions,traceInternals:!!e.traceInternals})}this._handleVisibilityChange=()=>{"visible"===jE.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const e=vI({category:"ui.blur"});this._doChangeToBackgroundTasks(e)},this._handleWindowFocus=()=>{const e=vI({category:"ui.focus"});this._doChangeToForegroundTasks(e)},this._handleKeyboardEvent=e=>{EI(this,e)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}handleException(e){PI&&UI.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options,r=t<=0&&n<=0;this._requiresManualStart=r,r||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",PI&&UI.infoTick("Starting replay in ".concat(this.recordingMode," mode")),this._initializeRecording()):PI&&UI.exception(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(PI&&UI.info("Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(PI&&UI.info("Buffering is in progress, call `flush()` to save the replay"));PI&&UI.infoTick("Starting replay in session mode"),this._updateUserActivity();const e=tC({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)return void(PI&&UI.info("Buffering is in progress, call `flush()` to save the replay"));PI&&UI.infoTick("Starting replay in buffer mode");const e=tC({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=nI(u(u(u(u({},this._recordingOptions),"buffer"===this.recordingMode?{checkoutEveryNms:6e4}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)}),{},{emit:MC(this)},function(){var e,t;return/iPhone|iPad|iPod/i.test(null!==(e=null===OC||void 0===OC?void 0:OC.userAgent)&&void 0!==e?e:"")||/Macintosh/i.test(null!==(t=null===OC||void 0===OC?void 0:OC.userAgent)&&void 0!==t?t:"")&&null!==OC&&void 0!==OC&&OC.maxTouchPoints&&(null===OC||void 0===OC?void 0:OC.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}()),{},{onMutation:this._onMutationHandler.bind(this)},e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}))}catch(JC){this.handleException(JC)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(JC){return this.handleException(JC),!1}}async stop(){let{forceFlush:e=!1,reason:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._isEnabled){this._isEnabled=!1;try{var n;PI&&UI.info("Stopping Replay".concat(t?" triggered by ".concat(t):"")),hC(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),null===(n=this.eventBuffer)||void 0===n||n.destroy(),this.eventBuffer=null,GI(this)}catch(JC){this.handleException(JC)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),PI&&UI.info("Pausing replay"))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),PI&&UI.info("Resuming replay"))}async sendBufferedReplayOrFlush(){let{continueRecording:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("session"===this.recordingMode)return this.flushImmediate();const t=Date.now();PI&&UI.info("Converting buffer to session"),await this.flushImmediate();const n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){var e;return null===(e=this.session)||void 0===e?void 0:e.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&XI(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const e="".concat(jE.location.pathname).concat(jE.location.hash).concat(jE.location.search),t="".concat(jE.location.origin).concat(e);this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n===UC){const e=vI({category:"replay.throttled"});this.addUpdate((()=>!nC(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}})))}return n}getCurrentRoute(){const e=this.lastActiveSpan||Sv(),t=e&&_v(e),n=(t&&pv(t).data||{})[Py];if(t&&n&&["route","custom"].includes(n))return pv(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=WI({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0,n=tC({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;const e=this.session;return!eC(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{jE.document.addEventListener("visibilitychange",this._handleVisibilityChange),jE.addEventListener("blur",this._handleWindowBlur),jE.addEventListener("focus",this._handleWindowFocus),jE.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(RC(this,{autoFlushOnFeedback:this._options._experiments.autoFlushOnFeedback}),this._hasInitializedCoreListeners=!0)}catch(JC){this.handleException(JC)}this._performanceCleanupCallback=function(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n(e){let{entries:n}=e;n.forEach(t)}const r=[];return["navigation","paint","resource"].forEach((e=>{r.push(Cw(e,n))})),r.push(xw(TI(NI,e)),Ew(TI(RI,e)),Tw(TI(DI,e)),Iw(TI(OI,e))),()=>{r.forEach((e=>e()))}}(this)}_removeListeners(){try{jE.document.removeEventListener("visibilitychange",this._handleVisibilityChange),jE.removeEventListener("blur",this._handleWindowBlur),jE.removeEventListener("focus",this._handleWindowFocus),jE.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(JC){this.handleException(JC)}}_doChangeToBackgroundTasks(e){if(!this.session)return;ZI(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):PI&&UI.info("Document has become active, but session has expired")}_updateUserActivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastActivity=e}_updateSessionActivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate((()=>{this.throttledAddEvent({type:dT.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})}))}_addPerformanceEntries(){let e=(t=this.performanceEntries,t.map(II).filter(Boolean)).concat(this.replayPerformanceEntries);var t;if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const t=this._context.initialTimestamp/1e3;e=e.filter((e=>e.start>=t))}return Promise.all(pC(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t||this._requiresManualStart)return;if(e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){var e;const t=this.getSessionId();if(this.session&&this.eventBuffer&&t){if(await this._addPerformanceEntries(),null!==(e=this.eventBuffer)&&void 0!==e&&e.hasEvents&&(await async function(e){try{return Promise.all(pC(e,[DC(jE.performance.memory)]))}catch(t){return[]}}(this),this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const e=Date.now();if(e-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await jC({replayId:t,recordingData:i,segmentId:r,eventContext:n,session:this.session,timestamp:e,onError:e=>this.handleException(e)})}catch(JC){this.handleException(JC),this.stop({reason:"sendReplay"});const t=Oy();if(t){const n=JC instanceof FC?"ratelimit_backoff":"send_error";t.recordDroppedEvent(n,"replay")}}}else PI&&UI.error("No session or eventBuffer found to flush.")}async _flush(){let{force:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession())return void(PI&&UI.error("Attempting to finish replay event after session expired."));if(!this.session)return;const t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,i=n>this._options.maxReplayDuration+5e3;if(r||i)return PI&&UI.info("Session duration (".concat(Math.floor(n/1e3),"s) is too ").concat(r?"short":"long",", not sending replay.")),void(r&&this._debouncedFlush());const s=this.eventBuffer;s&&0===this.session.segmentId&&!s.hasCheckout&&PI&&UI.info("Flushing initial segment without checkout.");const o=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(JC){this.handleException(JC)}finally{this._flushLock=void 0,o&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&YI(this.session)}_onMutationHandler(e){const t=e.length,n=this._options.mutationLimit,r=n&&t>n;if(t>this._options.mutationBreadcrumbLimit||r){const e=vI({category:"replay.mutations",data:{count:t,limit:r}});this._createCustomBreadcrumb(e)}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}function BC(e,t){return[...e,...t].join(",")}const qC='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',HC=["content-length","content-type","accept"];let WC=!1;class KC{constructor(){let{flushMinDelay:e=VE,flushMaxDelay:t=BE,minReplayDuration:n=KE,maxReplayDuration:r=GE,stickySession:i=!0,useCompression:s=!0,workerUrl:o,_experiments:a={},maskAllText:l=!0,maskAllInputs:c=!0,blockAllMedia:d=!0,mutationBreadcrumbLimit:h=750,mutationLimit:f=1e4,slowClickTimeout:p=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:g=[],networkDetailDenyUrls:y=[],networkCaptureBodies:v=!0,networkRequestHeaders:b=[],networkResponseHeaders:w=[],mask:_=[],maskAttributes:S=["title","placeholder","aria-label"],unmask:k=[],block:E=[],unblock:x=[],ignore:T=[],maskFn:I,beforeAddRecordingEvent:C,beforeErrorSampling:N,onError:A}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.name="Replay";const R=function(e){let{mask:t,unmask:n,block:r,unblock:i,ignore:s}=e;return{maskTextSelector:BC(t,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:BC(n,[]),blockSelector:BC(r,[".sentry-block","[data-sentry-block]","base","iframe[srcdoc]:not([src])"]),unblockSelector:BC(i,[]),ignoreSelector:BC(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:_,unmask:k,block:E,unblock:x,ignore:T});if(this._recordingOptions=u(u({maskAllInputs:c,maskAllText:l,maskInputOptions:{password:!0},maskTextFn:I,maskInputFn:I,maskAttributeFn:(e,t,n)=>function(e){let{el:t,key:n,maskAttributes:r,maskAllText:i,privacyOptions:s,value:o}=e;return i?s.unmaskTextSelector&&t.matches(s.unmaskTextSelector)?o:r.includes(n)||"value"===n&&"INPUT"===t.tagName&&["submit","button"].includes(t.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o:o}({maskAttributes:S,maskAllText:l,privacyOptions:R,key:e,value:t,el:n})},R),{},{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(t){}},recordCrossOriginIframes:Boolean(a.recordCrossOriginIframes)}),this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,GE),stickySession:i,useCompression:s,workerUrl:o,blockAllMedia:d,maskAllInputs:c,maskAllText:l,mutationBreadcrumbLimit:h,mutationLimit:f,slowClickTimeout:p,slowClickIgnoreSelectors:m,networkDetailAllowUrls:g,networkDetailDenyUrls:y,networkCaptureBodies:v,networkRequestHeaders:GC(b),networkResponseHeaders:GC(w),beforeAddRecordingEvent:C,beforeErrorSampling:N,onError:A,_experiments:a},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?"".concat(this._recordingOptions.blockSelector,",").concat(qC):qC),this._isInitialized&&ME())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return WC}set _isInitialized(e){WC=e}afterAllSetup(e){ME()&&!this._replay&&(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){var e;if(null!==(e=this._replay)&&void 0!==e&&e.isEnabled())return this._replay.getSessionId()}getRecordingMode(){var e;if(null!==(e=this._replay)&&void 0!==e&&e.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){const t=function(e,t){const n=t.getOptions(),r=u({sessionSampleRate:0,errorSampleRate:0},e),i=Xy(n.replaysSessionSampleRate),s=Xy(n.replaysOnErrorSampleRate);null==i&&null==s&&Kg((()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));null!=i&&(r.sessionSampleRate=i);null!=s&&(r.errorSampleRate=s);return r}(this._initialOptions,e);this._replay=new VC({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{const t=e.getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch(t){}}}function GC(e){return[...HC,...e.map((e=>e.toLowerCase()))]}var QC;!function(e){const t=u({},e);Sk(t,"react"),I_("react",{version:r.version}),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=!e.skipBrowserExtensionCheck&&AE(),n=u(u({},e),{},{enabled:!t&&e.enabled,stackParser:(r=e.stackParser||bE,Array.isArray(r)?Uv(...r):r),integrations:KS({integrations:e.integrations,defaultIntegrations:null==e.defaultIntegrations?[XS(),rk(),Zk(),Jk(),iE(),hE(),ik(),aE(),rE()]:e.defaultIntegrations}),transport:e.transport||NE});var r;lk(jk,n)}(t)}({dsn:"https://62f9ecda2c906fb1d00d4407121f3525@o4509414110593024.ingest.de.sentry.io/4509414111772752",integrations:[function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={name:void 0,source:void 0},n=D_.document,{enableInp:r,enableLongTask:i,enableLongAnimationFrame:s,_experiments:{enableInteractions:o,enableStandaloneClsSpans:a},beforeStartSpan:l,idleTimeout:c,finalTimeout:d,childSpanTimeout:h,markBackgroundSpan:f,traceFetch:p,traceXHR:m,trackFetchStreamPerformance:g,shouldCreateSpanForRequest:y,enableHTTPTimings:v,ignoreResourceSpans:b,instrumentPageLoad:w,instrumentNavigation:_,linkPreviousTrace:S,consistentTraceSampling:k,onRequestSpanStart:E}=u(u({},aS),e);let x;function T(e,r){const i="pageload"===r.op,s=l?l(r):r,o=s.attributes||{};r.name!==s.name&&(o[Py]="custom",s.attributes=o),t.name=s.name,t.source=o[Py];const f=yb(s,{idleTimeout:c,finalTimeout:d,childSpanTimeout:h,disableAutoFinish:i,beforeSpanEnd:t=>{var n;null===(n=x)||void 0===n||n(),$w(t,{recordClsOnPageloadSpan:!a,ignoreResourceSpans:b}),hS(e,void 0);const r=Ay(),i=r.getPropagationContext();r.setPropagationContext(u(u({},i),{},{traceId:f.spanContext().traceId,sampled:mv(f),dsc:Mv(t)}))}});function p(){n&&["interactive","complete"].includes(n.readyState)&&e.emit("idleSpanEnableAutoFinish",f)}hS(e,f),i&&n&&(n.addEventListener("readystatechange",(()=>{p()})),p())}return{name:"BrowserTracing",setup(e){function t(){const t=dS(e);t&&!pv(t).timestamp&&(c_&&Gg.log("[Tracing] Finishing current active span with op: ".concat(pv(t).op)),t.setAttribute(zy,"cancelled"),t.end())}Nb||(Nb=!0,Eb(Ab),Ib(Ab)),x=Yw({recordClsStandaloneSpans:a||!1}),r&&t_(),s&&wg.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?new PerformanceObserver((e=>{const t=Sv();if(t)for(const n of e.getEntries()){if(!n.scripts[0])continue;const e=Bw(py()+n.startTime),{start_timestamp:r,op:i}=pv(t);if("navigation"===i&&r&&e<r)continue;const s=Bw(n.duration),o={[Uy]:"auto.ui.browser.metrics"},a=n.scripts[0],{invoker:l,invokerType:c,sourceURL:u,sourceFunctionName:d,sourceCharPosition:h}=a;o["browser.script.invoker"]=l,o["browser.script.invoker_type"]=c,u&&(o["code.filepath"]=u),d&&(o["code.function"]=d),-1!==h&&(o["browser.script.source_char_position"]=h),Uw(t,e,e+s,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:o})}})).observe({type:"long-animation-frame",buffered:!0}):i&&Cw("longtask",(e=>{let{entries:t}=e;const n=Sv();if(!n)return;const{op:r,start_timestamp:i}=pv(n);for(const s of t){const e=Bw(py()+s.startTime),t=Bw(s.duration);"navigation"===r&&i&&e<i||Uw(n,e,e+t,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Uy]:"auto.ui.browser.metrics"}})}})),o&&Cw("event",(e=>{let{entries:t}=e;const n=Sv();if(n)for(const r of t)if("click"===r.name){const e=Bw(py()+r.startTime),t=Bw(r.duration),i={name:zg(r.target),op:"ui.interaction.".concat(r.name),startTime:e,attributes:{[Uy]:"auto.ui.browser.metrics"}},s=qg(r.target);s&&(i.attributes["ui.component_name"]=s),Uw(n,e,e+t,i)}})),e.on("startNavigationSpan",(n=>{if(Oy()!==e)return;t(),Ry().setPropagationContext({traceId:_y(),sampleRand:Math.random()});const r=Ay();r.setPropagationContext({traceId:_y(),sampleRand:Math.random()}),r.setSDKProcessingMetadata({normalizedRequest:void 0}),T(e,u({op:"navigation"},n))})),e.on("startPageLoadSpan",(function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Oy()!==e)return;t();const i=sv(r.sentryTrace||cS("sentry-trace"),r.baggage||cS("baggage")),s=Ay();s.setPropagationContext(i),s.setSDKProcessingMetadata({normalizedRequest:L_()}),T(e,u({op:"pageload"},n))}))},afterAllSetup(e){let n=Bg();if("off"!==S&&U_(e,{linkPreviousTrace:S,consistentTraceSampling:k}),D_.location){if(w){const t=py();!function(e,t,n){e.emit("startPageLoadSpan",t,n),Ay().setTransactionName(t.name),dS(e)}(e,{name:D_.location.pathname,startTime:t?t/1e3:void 0,attributes:{[Py]:"url",[Uy]:"auto.pageload.browser"}})}_&&a_((t=>{var r;let{to:i,from:s}=t;if(void 0===s&&-1!==(null===(r=n)||void 0===r?void 0:r.indexOf(i)))return void(n=void 0);n=void 0;const o=Db(i);lS(e,{name:(null===o||void 0===o?void 0:o.pathname)||D_.location.pathname,attributes:{[Py]:"url",[Uy]:"auto.navigation.browser"}}),Ay().setSDKProcessingMetadata({normalizedRequest:u(u({},L_()),{},{url:i})})}))}f&&(D_.document?D_.document.addEventListener("visibilitychange",(()=>{const e=Sv();if(!e)return;const t=_v(e);if(D_.document.hidden&&t){const e="cancelled",{op:n,status:r}=pv(t);c_&&Gg.log("[Tracing] Transaction: ".concat(e," -> since tab moved to the background, op: ").concat(n)),r||t.setStatus({code:2,message:e}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}})):c_&&Gg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),o&&function(e,t,n,r,i){const s=D_.document;let o;const a=()=>{const s="ui.action.click",a=dS(e);if(a){const e=pv(a).op;if(["navigation","pageload"].includes(e))return void(c_&&Gg.warn("[Tracing] Did not create ".concat(s," span because a pageload or navigation span is in progress.")))}o&&(o.setAttribute(zy,"interactionInterrupted"),o.end(),o=void 0),i.name?o=yb({name:i.name,op:s,attributes:{[Py]:i.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r}):c_&&Gg.warn("[Tracing] Did not create ".concat(s," transaction because _latestRouteName is missing."))};s&&addEventListener("click",a,{once:!1,capture:!0})}(e,c,d,h,t),r&&function(){const e=e=>{let{entries:t}=e;const n=Sv(),r=n&&_v(n);t.forEach((e=>{if(!function(e){return"duration"in e}(e)||!r)return;const t=e.interactionId;if(null!=t&&!e_.has(t)){if(Zw.length>10){const e=Zw.shift();e_.delete(e)}Zw.push(t),e_.set(t,r)}}))};Cw("event",e),Cw("first-input",e)}(),rS(e,{traceFetch:p,traceXHR:m,trackFetchStreamPerformance:g,tracePropagationTargets:e.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:y,enableHTTPTimings:v,onRequestSpanStart:E})}}}(),(QC={maskAllText:!0,blockAllMedia:!0},new KC(QC))],tracesSampleRate:1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1});const YC=document.getElementById("root");if(YC){i.createRoot(YC).render((0,Uo.jsx)(r.StrictMode,{children:(0,Uo.jsx)(qS,{})}))}else console.error("Fatal Error: The root element with ID 'root' was not found in the HTML. React application cannot be mounted.");HS(console.log)})();
//# sourceMappingURL=main.3d67635d.js.map
//# debugId=d511fa9a-c85c-5c71-86b0-9c24f61f45f2
